{"version":3,"sources":["components/BackButton.tsx","components/StyledBox.tsx","components/InfiniteScrollFetch.tsx","utils/useIntersectionHook.tsx","components/FilterAds/Order.tsx","components/CardWine.tsx","components/FilterAds/index.tsx","utils/multiFilter.ts","../node_modules/@material-ui/core/esm/ClickAwayListener/ClickAwayListener.js","../node_modules/@material-ui/core/esm/SnackbarContent/SnackbarContent.js","../node_modules/@material-ui/core/esm/Snackbar/Snackbar.js","components/Snackbar.tsx","pages/Ads.tsx"],"names":["BackButton","searchedWineCache","searchedWine","pathname","useLocation","split","component","Link","to","color","size","startIcon","typeAd","TypeAd","Buy","Sell","onClick","navigate","StyledBox","props","sellColor","notActive","buyColor","boxShadow","p","m","mt","px","pt","width","borderColor","bgcolor","borderRadius","children","useStyles","makeStyles","createStyles","root","display","flexDirection","alignItems","InfiniteScroll","classes","message","rootMargin","threshold","React","entry","setEntry","node","setNode","observer","current","disconnect","window","IntersectionObserver","currentObserver","observe","useIntersect","ref","isOk","setIsOk","intersectionRatio","fetchMore","setIsLoading","isVisible","className","id","isLoading","CircularProgress","style","height","Order","fullWidth","htmlFor","native","value","order","onChange","event","setOrder","target","inputProps","name","aria-label","QueryOrderBy","CreatedAtDesc","CreatedAtAsc","PriceDesc","PriceAsc","CardWine","ad","theme","useTheme","useMediaQuery","breakpoints","up","isBuy","pointerEvent","isActive","pointerEvents","RouterLink","_id","underline","variant","wineName","align","harvest","abv","litersTo","priceFrom","datePosted","PurpleCheckbox","withStyles","deepPurple","checked","Checkbox","Filter","isShowAll","setIsShowAll","showFilter","setShowFilter","priceTo","price","liters","filterAds","setFilterAds","list","length","filtredAds","array","filters","filterKeys","Object","keys","filter","item","every","key","multiFilter","setFilteredList","Button","Collapse","in","Divider","FormControlLabel","control","label","mapEventPropToEvent","eventProp","substring","toLowerCase","ClickAwayListener","_props$disableReactTr","disableReactTree","_props$mouseEvent","mouseEvent","onClickAway","_props$touchEvent","touchEvent","movedRef","nodeRef","activatedRef","syntheticEventRef","setTimeout","handleOwnRef","instance","ReactDOM","handleRef","useForkRef","handleClickAway","useEventCallback","insideReactTree","document","documentElement","clientWidth","clientX","clientHeight","clientY","clickedRootScrollbar","insideDOM","composedPath","indexOf","ownerDocument","contains","createHandleSynthetic","handlerName","childrenPropsHandler","childrenProps","mappedTouchEvent","doc","handleTouchMove","addEventListener","removeEventListener","mappedMouseEvent","SnackbarContent","action","_props$role","role","other","_objectWithoutProperties","Paper","_extends","square","elevation","clsx","emphasis","palette","type","backgroundColor","emphasize","background","default","typography","body2","_defineProperty","getContrastText","flexWrap","padding","shape","flexGrow","minWidth","marginLeft","paddingLeft","marginRight","Snackbar","_props$anchorOrigin","anchorOrigin","vertical","horizontal","_props$autoHideDurati","autoHideDuration","ClickAwayListenerProps","ContentProps","_props$disableWindowB","disableWindowBlurListener","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","_props$TransitionComp","TransitionComponent","Grow","_props$transitionDura","transitionDuration","enter","duration","enteringScreen","exit","leavingScreen","TransitionProps","timerAutoHide","_React$useState","exited","setExited","handleClose","apply","arguments","setAutoHideTimer","autoHideDurationParam","clearTimeout","handlePause","handleResume","concat","capitalize","appear","createChainedFunction","timeout","direction","top1","top","bottom1","bottom","right","justifyContent","left","top3","bottom3","right3","left3","center","transform","zIndex","snackbar","position","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","flip","snackbarStyle","cursor","SnackbarAds","setOpen","reason","Ads","ads","setAds","adsFiltered","setAdsFiltered","useAdsWineLazyQuery","variables","offset","limit","orderBy","typeProduct","onError","error","notification","query","result","data","catch","e","console","log","a","undefined","isPost","url","NoResults","pageCount","handleFetchMore","Container","maxWidth","CssBaseline","Typography","setList","loading","map","Skeleton"],"mappings":"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","file":"static/js/9.6ab57652.chunk.js","sourcesContent":["import Button from '@material-ui/core/Button';\nimport * as React from 'react';\nimport { searchedWine } from '../cache';\nimport { Link, useLocation, navigate } from '@reach/router';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport { TypeAd } from '../generated/graphql';\n\nexport const BackButton: React.FC = () => {\n  const searchedWineCache = searchedWine();\n  const { pathname } = useLocation();\n  if (pathname.split('/')[1] === 'annunci' && pathname.split('/')[2]) {\n    return (\n      <Button\n        component={Link}\n        to='/annunci'\n        //variant='contained'\n        color='primary'\n        size='large'\n        startIcon={<ArrowBackIosIcon />}\n      >\n        Annunci\n      </Button>\n    );\n  } else if (searchedWineCache?.typeAd === TypeAd.Buy && pathname !== '/buy') {\n    return (\n      <Button\n        component={Link}\n        to='/buy'\n        //variant='contained'\n        color='primary'\n        size='large'\n        startIcon={<ArrowBackIosIcon />}\n      >\n        Compra\n      </Button>\n    );\n  } else if (\n    searchedWineCache?.typeAd === TypeAd.Sell &&\n    pathname !== '/sell'\n  ) {\n    return (\n      <Button\n        component={Link}\n        to='/sell'\n        //variant='contained'\n        color='primary'\n        size='large'\n        startIcon={<ArrowBackIosIcon />}\n      >\n        Vendi\n      </Button>\n    );\n  } else\n    return (\n      <Button\n        color='primary'\n        size='large'\n        startIcon={<ArrowBackIosIcon />}\n        onClick={() => navigate(-1)}\n      >\n        Torna indietro\n      </Button>\n    );\n};\n","import * as React from 'react';\nimport Box from '@material-ui/core/Box';\nimport { TypeAd } from '../generated/graphql';\n\ninterface BoxProps {\n  width: number;\n  typeAd: TypeAd;\n  children: React.ReactNode;\n  notActive?: boolean;\n}\n\nexport const StyledBox: React.FC<BoxProps> = (props) => {\n  const sellColor = props.notActive ? '#b2b2b2' : 'white';\n  const buyColor = props.notActive ? '#8a425a' : 'primary.main';\n\n  return (\n    <Box\n      boxShadow={3}\n      p={2}\n      m={2}\n      mt={2}\n      px={2}\n      pt={2}\n      width={props.width}\n      color={props.typeAd === TypeAd.Sell ? 'primary.main' : 'white'}\n      borderColor={props.typeAd === TypeAd.Sell ? 'white' : 'primary.main'}\n      bgcolor={props.typeAd === TypeAd.Sell ? sellColor : buyColor}\n      borderRadius={16}\n    >\n      {props.children}\n    </Box>\n  );\n};\n","import { useLocation } from '@reach/router';\nimport * as React from 'react';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { useIntersect } from '../utils/useIntersectionHook';\nimport { makeStyles, createStyles } from '@material-ui/core';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\ninterface InfiniteScrollProps {\n  children: React.ReactNode;\n  fetchMore: () => void;\n  isVisible: boolean;\n  isLoading: boolean;\n  setIsLoading?: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n    },\n  })\n);\n\nexport const InfiniteScroll: React.FC<InfiniteScrollProps> = (props) => {\n  const classes = useStyles();\n  const { pathname } = useLocation();\n  const message = pathname.split('/')[1] === 'messaggi';\n  const [ref, entry] = useIntersect({ threshold: 0 });\n  const [isOk, setIsOk] = React.useState<boolean>(true);\n\n  React.useEffect(() => {\n    if (entry && entry?.intersectionRatio >= 0.5 && isOk) {\n      void props.fetchMore();\n      props.setIsLoading && props.setIsLoading(true);\n      setIsOk(false);\n    } else if (entry?.intersectionRatio === 0 && !isOk) {\n      setIsOk(true);\n      props.setIsLoading && props.setIsLoading(false);\n    }\n  }, [entry?.intersectionRatio]);\n  if (message) {\n    return (\n      <>\n        {props.isVisible ? (\n          <div className={classes.root} id='page-bottom-boundary' ref={ref}>\n            {' '}\n            <ExpandMoreIcon />\n          </div>\n        ) : null}\n        {props.children}\n      </>\n    );\n  }\n\n  return (\n    <div className={classes.root}>\n      {props.children}\n      {props.isVisible ? (\n        props.isLoading ? (\n          <CircularProgress />\n        ) : (\n          <div id='page-bottom-boundary' ref={ref} style={{ height: 30 }}>\n            {' '}\n            <ExpandMoreIcon />\n          </div>\n        )\n      ) : null}\n    </div>\n  );\n};\n","import * as React from 'react';\n\nexport const useIntersect = ({\n  root = null,\n  rootMargin = '0px',\n  threshold = 0,\n}): [\n  React.Dispatch<React.SetStateAction<HTMLDivElement | null>>,\n  IntersectionObserverEntry | null\n] => {\n  const [entry, setEntry] = React.useState<IntersectionObserverEntry | null>(\n    null\n  );\n  const [node, setNode] = React.useState<HTMLDivElement | null>(null);\n\n  const observer = React.useRef<IntersectionObserver | null>(null);\n\n  React.useEffect(() => {\n    if (observer.current) {\n      observer.current.disconnect();\n    }\n    observer.current = new window.IntersectionObserver(\n      ([entry]) => setEntry(entry),\n      { root, rootMargin, threshold }\n    );\n\n    const { current: currentObserver } = observer;\n\n    if (node) {\n      currentObserver.observe(node);\n    }\n    return () => currentObserver.disconnect();\n  }, [node, root, rootMargin, threshold]);\n  return [setNode, entry];\n};\n","/* eslint-disable @typescript-eslint/no-unsafe-member-access */\nimport * as React from 'react';\nimport Select from '@material-ui/core/Select';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport { QueryOrderBy } from '../../generated/graphql';\n\ninterface OrderProps {\n  setOrder: React.Dispatch<React.SetStateAction<QueryOrderBy>>;\n  order: QueryOrderBy;\n}\n\nexport const Order: React.FC<OrderProps> = (props) => {\n  const handleChange = (event: React.ChangeEvent<{ value: unknown }>) => {\n    props.setOrder(event.target.value as QueryOrderBy);\n  };\n\n  return (\n    <FormControl fullWidth>\n      <InputLabel style={{ color: 'black' }} htmlFor='order'>\n        Ordine risultati\n      </InputLabel>\n      <Select\n        native\n        value={props.order}\n        onChange={handleChange}\n        inputProps={{\n          name: 'order',\n          id: 'order',\n        }}\n      >\n        <option aria-label='None' value='' />\n        <option value={QueryOrderBy.CreatedAtDesc}>Dal piu recente</option>\n        <option value={QueryOrderBy.CreatedAtAsc}>Dal meno recente</option>\n        <option value={QueryOrderBy.PriceDesc}>Dal piu caro</option>\n        <option value={QueryOrderBy.PriceAsc}>Dal meno caro</option>\n      </Select>\n    </FormControl>\n  );\n};\n","import * as React from 'react';\nimport { StyledBox } from './StyledBox';\nimport Typography from '@material-ui/core/Typography';\nimport Link from '@material-ui/core/Link';\nimport { Link as RouterLink } from '@reach/router';\nimport { TypeAd } from '../generated/graphql';\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { AdsWineResult } from '../types';\n\nexport const CardWine: React.FC<{ ad: AdsWineResult | null }> = ({ ad }) => {\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.up('sm'));\n  const width = matches ? 400 : 250;\n  const isBuy = ad?.typeAd === TypeAd.Buy ? true : false;\n  const pointerEvent = ad?.isActive ? 'auto' : 'none';\n  if (!ad) return null;\n  return (\n    <StyledBox width={width} typeAd={ad.typeAd} notActive={!ad.isActive}>\n      <Link\n        style={{ pointerEvents: pointerEvent, display: 'block' }}\n        component={RouterLink}\n        to={`/annunci/${ad._id}`}\n        underline='none'\n      >\n        <Typography\n          component='h5'\n          variant='h6'\n          color={isBuy ? 'textSecondary' : 'primary'}\n        >\n          {isBuy ? 'Compro' : 'Vendo'} {ad.wineName}{' '}\n          {/* {ad.wine.denominazioneZona} */}\n        </Typography>\n        <Typography\n          align='left'\n          variant='body1'\n          color={isBuy ? 'textSecondary' : 'primary'}\n        >\n          Annata: {ad.harvest}\n          <br />\n          Gradazione: {ad.abv} % Vol\n          <br />\n          Quantit√†: {ad.litersTo} l\n          <br />\n          Prezzo: {ad.priceFrom} euro al litro\n        </Typography>\n        <br />\n        <Typography\n          align='right'\n          variant='caption'\n          color={isBuy ? 'textSecondary' : 'primary'}\n        >\n          Annuncio pubblicato il {ad.datePosted}\n        </Typography>\n      </Link>\n    </StyledBox>\n  );\n};\n","import * as React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Collapse from '@material-ui/core/Collapse';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport Divider from '@material-ui/core/Divider';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox, { CheckboxProps } from '@material-ui/core/Checkbox';\nimport { withStyles } from '@material-ui/core/styles';\nimport { deepPurple } from '@material-ui/core/colors';\nimport { searchedWine } from '../../cache';\nimport { IFilters, multiFilter } from '../../utils/multiFilter';\n\nexport const PurpleCheckbox = withStyles({\n  root: {\n    color: deepPurple[400],\n    '&$checked': {\n      color: deepPurple[600],\n    },\n  },\n  checked: {},\n})((props: CheckboxProps) => <Checkbox color='default' {...props} />);\n\ninterface FilterProps {\n  setList: React.Dispatch<React.SetStateAction<Array<any> | undefined | null>>;\n  list: Array<any>;\n  filteredList?: Array<any>;\n  setFilteredList: React.Dispatch<\n    React.SetStateAction<Array<any> | undefined | null>\n  >;\n}\n\nexport const Filter: React.FC<FilterProps> = (props) => {\n  const searchedWineCache = searchedWine();\n  const [isShowAll, setIsShowAll] = React.useState<boolean>(false);\n  const [showFilter, setShowFilter] = React.useState<boolean>(false);\n  const [filterAds, setFilterAds] = React.useState<IFilters>({\n    priceTo: (priceTo: number) =>\n      priceTo <= (searchedWineCache?.price as number),\n    abv: (abv: number) =>\n      abv >= (searchedWineCache?.abv as number) - 0.5 ||\n      abv <= (searchedWineCache?.abv as number) + 0.5,\n    harvest: (harvest: number) =>\n      harvest === (searchedWineCache?.harvest as number) ||\n      harvest - 1 === (searchedWineCache?.harvest as number),\n    litersTo: (litersTo: number) =>\n      litersTo >= (searchedWineCache?.liters as number),\n  });\n  React.useEffect(() => {\n    if (props.list.length > 0) {\n      const filtredAds = multiFilter(props.list, filterAds);\n      props.setFilteredList(filtredAds);\n    }\n  }, [filterAds, props.list]);\n  const handleShowAll = () => {\n    if (!isShowAll) {\n      setFilterAds({\n        priceTo: () => true,\n        harvest: () => true,\n        abv: () => true,\n        litersTo: () => true,\n      });\n    } else {\n      setFilterAds({\n        priceTo: (priceTo: number) =>\n          priceTo <= (searchedWineCache?.price as number),\n        abv: (abv: number) =>\n          abv >= (searchedWineCache?.abv as number) - 0.5 ||\n          abv <= (searchedWineCache?.abv as number) + 0.5,\n        harvest: (harvest: number) =>\n          harvest === (searchedWineCache?.harvest as number) ||\n          harvest - 1 === (searchedWineCache?.harvest as number),\n        litersTo: (litersTo: number) =>\n          litersTo >= (searchedWineCache?.liters as number),\n      });\n    }\n    setIsShowAll(!isShowAll);\n  };\n  return (\n    <>\n      <Button\n        onClick={() => setShowFilter(!showFilter)}\n        aria-label='filter'\n        color='primary'\n        size='large'\n        startIcon={<FilterListIcon />}\n      >\n        Filtri\n      </Button>\n      <Collapse in={showFilter}>\n        <Divider />\n        <FormControlLabel\n          control={\n            <PurpleCheckbox\n              checked={isShowAll}\n              onChange={handleShowAll}\n              name='showAll'\n            />\n          }\n          label='Mostra tutti gli annunci per questo vino'\n        />\n      </Collapse>\n    </>\n  );\n};\n","export interface IFilters {\n  [key: string]: (value: any) => boolean;\n}\n\ninterface IArray {\n  [key: string]: any;\n}\n\n// function taken from https://gist.github.com/jherax/f11d669ba286f21b7a2dcff69621eb72\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport function multiFilter(\n  array: Array<IArray>,\n  filters: IFilters\n): Array<IArray> {\n  const filterKeys = Object.keys(filters);\n  return array.filter((item) => {\n    // validates all filter criteria\n    return filterKeys.every((key) => {\n      // ignores non-function predicates\n      if (typeof filters[key] !== 'function') return true;\n      return filters[key](item[key]);\n    });\n  });\n}\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport ownerDocument from '../utils/ownerDocument';\nimport useForkRef from '../utils/useForkRef';\nimport useEventCallback from '../utils/useEventCallback';\nimport { elementAcceptingRef, exactProp } from '@material-ui/utils';\n\nfunction mapEventPropToEvent(eventProp) {\n  return eventProp.substring(2).toLowerCase();\n}\n\nfunction clickedRootScrollbar(event) {\n  return document.documentElement.clientWidth < event.clientX || document.documentElement.clientHeight < event.clientY;\n}\n/**\n * Listen for click events that occur somewhere in the document, outside of the element itself.\n * For instance, if you need to hide a menu when people click anywhere else on your page.\n */\n\n\nfunction ClickAwayListener(props) {\n  var children = props.children,\n      _props$disableReactTr = props.disableReactTree,\n      disableReactTree = _props$disableReactTr === void 0 ? false : _props$disableReactTr,\n      _props$mouseEvent = props.mouseEvent,\n      mouseEvent = _props$mouseEvent === void 0 ? 'onClick' : _props$mouseEvent,\n      onClickAway = props.onClickAway,\n      _props$touchEvent = props.touchEvent,\n      touchEvent = _props$touchEvent === void 0 ? 'onTouchEnd' : _props$touchEvent;\n  var movedRef = React.useRef(false);\n  var nodeRef = React.useRef(null);\n  var activatedRef = React.useRef(false);\n  var syntheticEventRef = React.useRef(false);\n  React.useEffect(function () {\n    // Ensure that this component is not \"activated\" synchronously.\n    // https://github.com/facebook/react/issues/20074\n    setTimeout(function () {\n      activatedRef.current = true;\n    }, 0);\n    return function () {\n      activatedRef.current = false;\n    };\n  }, []); // can be removed once we drop support for non ref forwarding class components\n\n  var handleOwnRef = React.useCallback(function (instance) {\n    // #StrictMode ready\n    nodeRef.current = ReactDOM.findDOMNode(instance);\n  }, []);\n  var handleRef = useForkRef(children.ref, handleOwnRef); // The handler doesn't take event.defaultPrevented into account:\n  //\n  // event.preventDefault() is meant to stop default behaviours like\n  // clicking a checkbox to check it, hitting a button to submit a form,\n  // and hitting left arrow to move the cursor in a text input etc.\n  // Only special HTML elements have these default behaviors.\n\n  var handleClickAway = useEventCallback(function (event) {\n    // Given developers can stop the propagation of the synthetic event,\n    // we can only be confident with a positive value.\n    var insideReactTree = syntheticEventRef.current;\n    syntheticEventRef.current = false; // 1. IE 11 support, which trigger the handleClickAway even after the unbind\n    // 2. The child might render null.\n    // 3. Behave like a blur listener.\n\n    if (!activatedRef.current || !nodeRef.current || clickedRootScrollbar(event)) {\n      return;\n    } // Do not act if user performed touchmove\n\n\n    if (movedRef.current) {\n      movedRef.current = false;\n      return;\n    }\n\n    var insideDOM; // If not enough, can use https://github.com/DieterHolvoet/event-propagation-path/blob/master/propagationPath.js\n\n    if (event.composedPath) {\n      insideDOM = event.composedPath().indexOf(nodeRef.current) > -1;\n    } else {\n      // TODO v6 remove dead logic https://caniuse.com/#search=composedPath.\n      var doc = ownerDocument(nodeRef.current);\n      insideDOM = !doc.documentElement.contains(event.target) || nodeRef.current.contains(event.target);\n    }\n\n    if (!insideDOM && (disableReactTree || !insideReactTree)) {\n      onClickAway(event);\n    }\n  }); // Keep track of mouse/touch events that bubbled up through the portal.\n\n  var createHandleSynthetic = function createHandleSynthetic(handlerName) {\n    return function (event) {\n      syntheticEventRef.current = true;\n      var childrenPropsHandler = children.props[handlerName];\n\n      if (childrenPropsHandler) {\n        childrenPropsHandler(event);\n      }\n    };\n  };\n\n  var childrenProps = {\n    ref: handleRef\n  };\n\n  if (touchEvent !== false) {\n    childrenProps[touchEvent] = createHandleSynthetic(touchEvent);\n  }\n\n  React.useEffect(function () {\n    if (touchEvent !== false) {\n      var mappedTouchEvent = mapEventPropToEvent(touchEvent);\n      var doc = ownerDocument(nodeRef.current);\n\n      var handleTouchMove = function handleTouchMove() {\n        movedRef.current = true;\n      };\n\n      doc.addEventListener(mappedTouchEvent, handleClickAway);\n      doc.addEventListener('touchmove', handleTouchMove);\n      return function () {\n        doc.removeEventListener(mappedTouchEvent, handleClickAway);\n        doc.removeEventListener('touchmove', handleTouchMove);\n      };\n    }\n\n    return undefined;\n  }, [handleClickAway, touchEvent]);\n\n  if (mouseEvent !== false) {\n    childrenProps[mouseEvent] = createHandleSynthetic(mouseEvent);\n  }\n\n  React.useEffect(function () {\n    if (mouseEvent !== false) {\n      var mappedMouseEvent = mapEventPropToEvent(mouseEvent);\n      var doc = ownerDocument(nodeRef.current);\n      doc.addEventListener(mappedMouseEvent, handleClickAway);\n      return function () {\n        doc.removeEventListener(mappedMouseEvent, handleClickAway);\n      };\n    }\n\n    return undefined;\n  }, [handleClickAway, mouseEvent]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.cloneElement(children, childrenProps));\n}\n\nprocess.env.NODE_ENV !== \"production\" ? ClickAwayListener.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The wrapped element.\n   */\n  children: elementAcceptingRef.isRequired,\n\n  /**\n   * If `true`, the React tree is ignored and only the DOM tree is considered.\n   * This prop changes how portaled elements are handled.\n   */\n  disableReactTree: PropTypes.bool,\n\n  /**\n   * The mouse event to listen to. You can disable the listener by providing `false`.\n   */\n  mouseEvent: PropTypes.oneOf(['onClick', 'onMouseDown', 'onMouseUp', false]),\n\n  /**\n   * Callback fired when a \"click away\" event is detected.\n   */\n  onClickAway: PropTypes.func.isRequired,\n\n  /**\n   * The touch event to listen to. You can disable the listener by providing `false`.\n   */\n  touchEvent: PropTypes.oneOf(['onTouchEnd', 'onTouchStart', false])\n} : void 0;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line\n  ClickAwayListener['propTypes' + ''] = exactProp(ClickAwayListener.propTypes);\n}\n\nexport default ClickAwayListener;","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport Paper from '../Paper';\nimport { emphasize } from '../styles/colorManipulator';\nexport var styles = function styles(theme) {\n  var emphasis = theme.palette.type === 'light' ? 0.8 : 0.98;\n  var backgroundColor = emphasize(theme.palette.background.default, emphasis);\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.body2, _defineProperty({\n      color: theme.palette.getContrastText(backgroundColor),\n      backgroundColor: backgroundColor,\n      display: 'flex',\n      alignItems: 'center',\n      flexWrap: 'wrap',\n      padding: '6px 16px',\n      borderRadius: theme.shape.borderRadius,\n      flexGrow: 1\n    }, theme.breakpoints.up('sm'), {\n      flexGrow: 'initial',\n      minWidth: 288\n    })),\n\n    /* Styles applied to the message wrapper element. */\n    message: {\n      padding: '8px 0'\n    },\n\n    /* Styles applied to the action wrapper element if `action` is provided. */\n    action: {\n      display: 'flex',\n      alignItems: 'center',\n      marginLeft: 'auto',\n      paddingLeft: 16,\n      marginRight: -8\n    }\n  };\n};\nvar SnackbarContent = /*#__PURE__*/React.forwardRef(function SnackbarContent(props, ref) {\n  var action = props.action,\n      classes = props.classes,\n      className = props.className,\n      message = props.message,\n      _props$role = props.role,\n      role = _props$role === void 0 ? 'alert' : _props$role,\n      other = _objectWithoutProperties(props, [\"action\", \"classes\", \"className\", \"message\", \"role\"]);\n\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    role: role,\n    square: true,\n    elevation: 6,\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.message\n  }, message), action ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.action\n  }, action) : null);\n});\nprocess.env.NODE_ENV !== \"production\" ? SnackbarContent.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The action to display. It renders after the message, at the end of the snackbar.\n   */\n  action: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The message to display.\n   */\n  message: PropTypes.node,\n\n  /**\n   * The ARIA role attribute of the element.\n   */\n  role: PropTypes.string\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiSnackbarContent'\n})(SnackbarContent);","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport { duration } from '../styles/transitions';\nimport ClickAwayListener from '../ClickAwayListener';\nimport useEventCallback from '../utils/useEventCallback';\nimport capitalize from '../utils/capitalize';\nimport createChainedFunction from '../utils/createChainedFunction';\nimport Grow from '../Grow';\nimport SnackbarContent from '../SnackbarContent';\nexport var styles = function styles(theme) {\n  var top1 = {\n    top: 8\n  };\n  var bottom1 = {\n    bottom: 8\n  };\n  var right = {\n    justifyContent: 'flex-end'\n  };\n  var left = {\n    justifyContent: 'flex-start'\n  };\n  var top3 = {\n    top: 24\n  };\n  var bottom3 = {\n    bottom: 24\n  };\n  var right3 = {\n    right: 24\n  };\n  var left3 = {\n    left: 24\n  };\n  var center = {\n    left: '50%',\n    right: 'auto',\n    transform: 'translateX(-50%)'\n  };\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      zIndex: theme.zIndex.snackbar,\n      position: 'fixed',\n      display: 'flex',\n      left: 8,\n      right: 8,\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'top', 'center' }}`. */\n    anchorOriginTopCenter: _extends({}, top1, _defineProperty({}, theme.breakpoints.up('sm'), _extends({}, top3, center))),\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'bottom', 'center' }}`. */\n    anchorOriginBottomCenter: _extends({}, bottom1, _defineProperty({}, theme.breakpoints.up('sm'), _extends({}, bottom3, center))),\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'top', 'right' }}`. */\n    anchorOriginTopRight: _extends({}, top1, right, _defineProperty({}, theme.breakpoints.up('sm'), _extends({\n      left: 'auto'\n    }, top3, right3))),\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'bottom', 'right' }}`. */\n    anchorOriginBottomRight: _extends({}, bottom1, right, _defineProperty({}, theme.breakpoints.up('sm'), _extends({\n      left: 'auto'\n    }, bottom3, right3))),\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'top', 'left' }}`. */\n    anchorOriginTopLeft: _extends({}, top1, left, _defineProperty({}, theme.breakpoints.up('sm'), _extends({\n      right: 'auto'\n    }, top3, left3))),\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'bottom', 'left' }}`. */\n    anchorOriginBottomLeft: _extends({}, bottom1, left, _defineProperty({}, theme.breakpoints.up('sm'), _extends({\n      right: 'auto'\n    }, bottom3, left3)))\n  };\n};\nvar Snackbar = /*#__PURE__*/React.forwardRef(function Snackbar(props, ref) {\n  var action = props.action,\n      _props$anchorOrigin = props.anchorOrigin;\n  _props$anchorOrigin = _props$anchorOrigin === void 0 ? {\n    vertical: 'bottom',\n    horizontal: 'center'\n  } : _props$anchorOrigin;\n\n  var vertical = _props$anchorOrigin.vertical,\n      horizontal = _props$anchorOrigin.horizontal,\n      _props$autoHideDurati = props.autoHideDuration,\n      autoHideDuration = _props$autoHideDurati === void 0 ? null : _props$autoHideDurati,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      ClickAwayListenerProps = props.ClickAwayListenerProps,\n      ContentProps = props.ContentProps,\n      _props$disableWindowB = props.disableWindowBlurListener,\n      disableWindowBlurListener = _props$disableWindowB === void 0 ? false : _props$disableWindowB,\n      message = props.message,\n      onClose = props.onClose,\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onExit = props.onExit,\n      onExited = props.onExited,\n      onExiting = props.onExiting,\n      onMouseEnter = props.onMouseEnter,\n      onMouseLeave = props.onMouseLeave,\n      open = props.open,\n      resumeHideDuration = props.resumeHideDuration,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Grow : _props$TransitionComp,\n      _props$transitionDura = props.transitionDuration,\n      transitionDuration = _props$transitionDura === void 0 ? {\n    enter: duration.enteringScreen,\n    exit: duration.leavingScreen\n  } : _props$transitionDura,\n      TransitionProps = props.TransitionProps,\n      other = _objectWithoutProperties(props, [\"action\", \"anchorOrigin\", \"autoHideDuration\", \"children\", \"classes\", \"className\", \"ClickAwayListenerProps\", \"ContentProps\", \"disableWindowBlurListener\", \"message\", \"onClose\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"onMouseEnter\", \"onMouseLeave\", \"open\", \"resumeHideDuration\", \"TransitionComponent\", \"transitionDuration\", \"TransitionProps\"]);\n\n  var timerAutoHide = React.useRef();\n\n  var _React$useState = React.useState(true),\n      exited = _React$useState[0],\n      setExited = _React$useState[1];\n\n  var handleClose = useEventCallback(function () {\n    if (onClose) {\n      onClose.apply(void 0, arguments);\n    }\n  });\n  var setAutoHideTimer = useEventCallback(function (autoHideDurationParam) {\n    if (!onClose || autoHideDurationParam == null) {\n      return;\n    }\n\n    clearTimeout(timerAutoHide.current);\n    timerAutoHide.current = setTimeout(function () {\n      handleClose(null, 'timeout');\n    }, autoHideDurationParam);\n  });\n  React.useEffect(function () {\n    if (open) {\n      setAutoHideTimer(autoHideDuration);\n    }\n\n    return function () {\n      clearTimeout(timerAutoHide.current);\n    };\n  }, [open, autoHideDuration, setAutoHideTimer]); // Pause the timer when the user is interacting with the Snackbar\n  // or when the user hide the window.\n\n  var handlePause = function handlePause() {\n    clearTimeout(timerAutoHide.current);\n  }; // Restart the timer when the user is no longer interacting with the Snackbar\n  // or when the window is shown back.\n\n\n  var handleResume = React.useCallback(function () {\n    if (autoHideDuration != null) {\n      setAutoHideTimer(resumeHideDuration != null ? resumeHideDuration : autoHideDuration * 0.5);\n    }\n  }, [autoHideDuration, resumeHideDuration, setAutoHideTimer]);\n\n  var handleMouseEnter = function handleMouseEnter(event) {\n    if (onMouseEnter) {\n      onMouseEnter(event);\n    }\n\n    handlePause();\n  };\n\n  var handleMouseLeave = function handleMouseLeave(event) {\n    if (onMouseLeave) {\n      onMouseLeave(event);\n    }\n\n    handleResume();\n  };\n\n  var handleClickAway = function handleClickAway(event) {\n    if (onClose) {\n      onClose(event, 'clickaway');\n    }\n  };\n\n  var handleExited = function handleExited() {\n    setExited(true);\n  };\n\n  var handleEnter = function handleEnter() {\n    setExited(false);\n  };\n\n  React.useEffect(function () {\n    if (!disableWindowBlurListener && open) {\n      window.addEventListener('focus', handleResume);\n      window.addEventListener('blur', handlePause);\n      return function () {\n        window.removeEventListener('focus', handleResume);\n        window.removeEventListener('blur', handlePause);\n      };\n    }\n\n    return undefined;\n  }, [disableWindowBlurListener, handleResume, open]); // So we only render active snackbars.\n\n  if (!open && exited) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(ClickAwayListener, _extends({\n    onClickAway: handleClickAway\n  }, ClickAwayListenerProps), /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, classes[\"anchorOrigin\".concat(capitalize(vertical)).concat(capitalize(horizontal))], className),\n    onMouseEnter: handleMouseEnter,\n    onMouseLeave: handleMouseLeave,\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    appear: true,\n    in: open,\n    onEnter: createChainedFunction(handleEnter, onEnter),\n    onEntered: onEntered,\n    onEntering: onEntering,\n    onExit: onExit,\n    onExited: createChainedFunction(handleExited, onExited),\n    onExiting: onExiting,\n    timeout: transitionDuration,\n    direction: vertical === 'top' ? 'down' : 'up'\n  }, TransitionProps), children || /*#__PURE__*/React.createElement(SnackbarContent, _extends({\n    message: message,\n    action: action\n  }, ContentProps)))));\n});\nprocess.env.NODE_ENV !== \"production\" ? Snackbar.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The action to display. It renders after the message, at the end of the snackbar.\n   */\n  action: PropTypes.node,\n\n  /**\n   * The anchor of the `Snackbar`.\n   */\n  anchorOrigin: PropTypes.shape({\n    horizontal: PropTypes.oneOf(['center', 'left', 'right']).isRequired,\n    vertical: PropTypes.oneOf(['bottom', 'top']).isRequired\n  }),\n\n  /**\n   * The number of milliseconds to wait before automatically calling the\n   * `onClose` function. `onClose` should then set the state of the `open`\n   * prop to hide the Snackbar. This behavior is disabled by default with\n   * the `null` value.\n   */\n  autoHideDuration: PropTypes.number,\n\n  /**\n   * Replace the `SnackbarContent` component.\n   */\n  children: PropTypes.element,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Props applied to the `ClickAwayListener` element.\n   */\n  ClickAwayListenerProps: PropTypes.object,\n\n  /**\n   * Props applied to the [`SnackbarContent`](/api/snackbar-content/) element.\n   */\n  ContentProps: PropTypes.object,\n\n  /**\n   * If `true`, the `autoHideDuration` timer will expire even if the window is not focused.\n   */\n  disableWindowBlurListener: PropTypes.bool,\n\n  /**\n   * When displaying multiple consecutive Snackbars from a parent rendering a single\n   * <Snackbar/>, add the key prop to ensure independent treatment of each message.\n   * e.g. <Snackbar key={message} />, otherwise, the message may update-in-place and\n   * features such as autoHideDuration may be canceled.\n   */\n  key: PropTypes.any,\n\n  /**\n   * The message to display.\n   */\n  message: PropTypes.node,\n\n  /**\n   * Callback fired when the component requests to be closed.\n   * Typically `onClose` is used to set state in the parent component,\n   * which is used to control the `Snackbar` `open` prop.\n   * The `reason` parameter can optionally be used to control the response to `onClose`,\n   * for example ignoring `clickaway`.\n   *\n   * @param {object} event The event source of the callback.\n   * @param {string} reason Can be: `\"timeout\"` (`autoHideDuration` expired), `\"clickaway\"`.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Callback fired before the transition is entering.\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * Callback fired when the transition has entered.\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * Callback fired when the transition is entering.\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * Callback fired before the transition is exiting.\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * Callback fired when the transition has exited.\n   */\n  onExited: PropTypes.func,\n\n  /**\n   * Callback fired when the transition is exiting.\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onMouseEnter: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onMouseLeave: PropTypes.func,\n\n  /**\n   * If `true`, `Snackbar` is open.\n   */\n  open: PropTypes.bool,\n\n  /**\n   * The number of milliseconds to wait before dismissing after user interaction.\n   * If `autoHideDuration` prop isn't specified, it does nothing.\n   * If `autoHideDuration` prop is specified but `resumeHideDuration` isn't,\n   * we default to `autoHideDuration / 2` ms.\n   */\n  resumeHideDuration: PropTypes.number,\n\n  /**\n   * The component used for the transition.\n   * [Follow this guide](/components/transitions/#transitioncomponent-prop) to learn more about the requirements for this component.\n   */\n  TransitionComponent: PropTypes.elementType,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   */\n  transitionDuration: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })]),\n\n  /**\n   * Props applied to the [`Transition`](http://reactcommunity.org/react-transition-group/transition#Transition-props) element.\n   */\n  TransitionProps: PropTypes.object\n} : void 0;\nexport default withStyles(styles, {\n  flip: false,\n  name: 'MuiSnackbar'\n})(Snackbar);","import * as React from 'react';\nimport Snackbar from '@material-ui/core/Snackbar';\n\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    snackbarStyle: {\n      backgroundColor: '#6d1331',\n      '&:hover': {\n        backgroundColor: 'rgb(100, 10, 40)',\n        cursor: 'pointer',\n      },\n    },\n  })\n);\ninterface SnackbarProps {\n  onClick: () => void;\n}\n\nexport const SnackbarAds: React.FC<SnackbarProps> = (props) => {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(true);\n\n  const handleClose = (\n    event: React.SyntheticEvent | React.MouseEvent,\n    reason?: string\n  ) => {\n    if (reason === 'clickaway') {\n      setOpen(false);\n      return;\n    }\n\n    setOpen(false);\n  };\n  return (\n    <>\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'right',\n        }}\n        color='primary'\n        open={open}\n        autoHideDuration={6000}\n        onClose={handleClose}\n        onClick={props.onClick}\n        ContentProps={{\n          className: classes.snackbarStyle,\n        }}\n        message='Vuoi creare un annuncio?'\n      />\n    </>\n  );\n};\n","import * as React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Container from '@material-ui/core/Container';\nimport { navigate, RouteComponentProps } from '@reach/router';\nimport {\n  AdsWineQuery,\n  QueryOrderBy,\n  TypeAd,\n  TypeProduct,\n  useAdsWineLazyQuery,\n} from '../generated/graphql';\nimport { DeepExtractType } from 'ts-deep-extract-types';\nimport { notification, searchedWine } from '../cache';\nimport { CardWine } from '../components/CardWine';\nimport { BackButton } from '../components/BackButton';\nimport { Filter } from '../components/FilterAds';\nimport { SnackbarAds } from '../components/Snackbar';\nimport { useTheme } from '@material-ui/core/styles';\nimport { StyledBox } from '../components/StyledBox';\nimport { useMediaQuery } from '@material-ui/core';\nimport { Order } from '../components/FilterAds/Order';\nimport { InfiniteScroll } from '../components/InfiniteScrollFetch';\nimport { AdsWineResult } from '../types';\n\nconst Ads: React.FC<RouteComponentProps> = () => {\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.up('sm'));\n  const width = matches ? 400 : 250;\n  const searchedWineCache = searchedWine();\n  const [ads, setAds] = React.useState<\n    DeepExtractType<AdsWineQuery, ['ads']>['ads']\n  >([]);\n  const [adsFiltered, setAdsFiltered] = React.useState<\n    DeepExtractType<AdsWineQuery, ['ads']>['ads']\n  >([]);\n  const [order, setOrder] = React.useState<QueryOrderBy>(\n    QueryOrderBy.CreatedAtDesc\n  );\n  const [query, result] = useAdsWineLazyQuery({\n    variables: {\n      offset: 0,\n      limit: 4,\n      orderBy: order,\n      wineName: searchedWineCache?.wineName,\n      typeProduct: searchedWineCache?.typeProduct as TypeProduct,\n      typeAd:\n        searchedWineCache?.typeAd === TypeAd.Buy ? TypeAd.Sell : TypeAd.Buy,\n    },\n    onError: (error) => notification({ type: 'error', message: error.message }),\n  });\n  React.useEffect(() => {\n    if (searchedWineCache?.wineName) {\n      query();\n    } else {\n      void navigate('/');\n    }\n  }, [searchedWineCache]);\n  React.useEffect(() => {\n    if (result.data?.ads) {\n      setAds(result.data.ads.ads);\n    }\n  }, [result.data]);\n\n  React.useEffect(() => {\n    if (result.fetchMore && ads && ads.length) {\n      result\n        .fetchMore({\n          variables: { orderBy: order, limit: ads.length },\n        })\n        .catch((e) => console.log(e));\n    }\n  }, [order]);\n\n  const onClick = async () => {\n    if (searchedWineCache === undefined) {\n      return;\n    } else {\n      searchedWine({\n        ...searchedWineCache,\n        isPost: true,\n      });\n      const url = searchedWineCache.typeAd === TypeAd.Buy ? '/buy' : '/sell';\n      await navigate(url);\n    }\n  };\n\n  const defaultText =\n    \"Questi sono gli annunci che abbiamo trovato per te: sono stati pubblicati da utenti interessati all'acquisto.\";\n  const noAdsText =\n    'Non abbiamo trovato nulla che corrisponde ai criteri di ricerca, ma esistono annunci per questo vino, clicca su filtri e mostra tutto per vederli';\n\n  const NoResults = () => (\n    <div onClick={onClick}>\n      Non abbiamo trovato nulla, vuoi creare un annuncio?\n    </div>\n  );\n  if (result.data?.ads && result.data?.ads?.pageCount === 0) {\n    return <NoResults />;\n  }\n  const handleFetchMore = async () => {\n    if (result.fetchMore) {\n      try {\n        await result.fetchMore({\n          variables: { offset: result.data?.ads?.ads?.length, orderBy: order },\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  };\n  if (ads?.length === 0) {\n    return <div>Non hai ancora creato annunci</div>;\n  }\n  if (ads && ads.length && result.data?.ads?.ads?.length !== 0) {\n    return (\n      <Container component='main' maxWidth='xs'>\n        <CssBaseline />\n        <BackButton />\n        <Typography color='primary' component='h3' variant='h5'>\n          La tua ricerca\n        </Typography>\n        <StyledBox typeAd={searchedWineCache?.typeAd as TypeAd} width={width}>\n          <Typography component='h5' variant='h6'>\n            {searchedWineCache?.typeAd === TypeAd.Buy ? `Compro ` : `Vendo`}{' '}\n            {searchedWineCache?.wineName}\n          </Typography>\n          <Typography align='left' variant='body1'>\n            {`Annata: ${searchedWineCache?.harvest as number}`}\n            <br />\n            {`Gradazione: ${searchedWineCache?.abv as number} % Vol`}\n            <br />\n            {`Quantit√†: ${searchedWineCache?.liters as number} l`}\n            <br />\n            {`Prezzo: ${searchedWineCache?.price as number} euro al litro`}\n          </Typography>\n        </StyledBox>\n        <br />\n        <Typography color='primary' component='h3' variant='h5'>\n          I nostri risultati\n        </Typography>\n        <Typography variant='body2'>\n          {adsFiltered && adsFiltered.length > 0 ? defaultText : noAdsText}\n        </Typography>\n        <Filter setList={setAds} list={ads} setFilteredList={setAdsFiltered} />\n        <Order setOrder={setOrder} order={order} />\n        <br />\n        <InfiniteScroll\n          fetchMore={handleFetchMore}\n          isVisible={ads.length !== result.data?.ads?.pageCount}\n          isLoading={result.loading}\n        >\n          {' '}\n          {adsFiltered &&\n            adsFiltered.map((ad) => (\n              <CardWine key={ad && ad._id} ad={ad as AdsWineResult} />\n            ))}\n        </InfiniteScroll>\n        <SnackbarAds onClick={onClick} />\n      </Container>\n    );\n  }\n  return <Skeleton />;\n};\n\nexport default Ads;\n"],"sourceRoot":""}