{"version":3,"sources":["components/BackButton.tsx","../node_modules/@material-ui/icons/ArrowBackIos.js","containers/StyledBox.tsx","../node_modules/@material-ui/icons/ExpandMore.js","containers/CloseNegotiationButton.tsx","../node_modules/@material-ui/core/esm/DialogTitle/DialogTitle.js","containers/CreateReview.tsx","components/ReviewModal/index.tsx","../node_modules/@material-ui/core/esm/Collapse/Collapse.js","../node_modules/@material-ui/icons/FavoriteBorder.js","../node_modules/@material-ui/icons/ExpandLess.js","containers/FavoriteButton.tsx","components/NegotiationModal/index.tsx","components/Cards/CardWineDetail.tsx","components/OpenNegotiations.tsx","pages/Ad.tsx"],"names":["BackButton","aria-label","color","size","startIcon","onClick","navigate","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","StyledBox","props","sellColor","notActive","buyColor","boxShadow","p","m","mt","px","pt","width","typeAd","TypeAd","Sell","borderColor","bgcolor","borderRadius","children","CloseNegotiationButton","id","isBuy","classes","useStyles","useUpdateNegotiationMutation","onCompleted","closedNegotiation","updateNegotiation","errors","length","errorMessages","map","error","text","notification","type","message","toString","onError","closeNegotiation","loading","handleCloseNegotiation","a","variables","negotiation","_id","isConcluded","className","buyButton","sellButton","disabled","DialogTitle","ref","_props$disableTypogra","disableTypography","other","_objectWithoutProperties","_extends","clsx","root","Typography","component","variant","withStyles","margin","padding","flex","name","CreateReview","review","closeModal","useCreateReviewMutation","createdReview","createReview","Button","labels","0.5","1","1.5","2","2.5","3","3.5","4","4.5","5","CreateReviewModal","idUser","idNegotiation","open","setOpen","setValue","hover","setHover","setReview","useStylesHook","classesTextField","useStylesForms","classesStars","useStyleRating","handleClose","Buy","style","display","Dialog","onClose","aria-labelledby","DialogContent","precision","onChange","event","newValue","onChangeActive","newHover","Box","ml","TextField","multiline","rows","helperText","target","InputLabelProps","InputProps","inputSell","underline","underlineSell","label","placeholder","DialogActions","forUser","rating","content","Collapse","_props$collapsedHeigh","collapsedHeight","collapsedHeightProp","_props$component","Component","_props$disableStrictM","disableStrictModeCompat","inProp","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","_props$timeout","timeout","duration","standard","_props$TransitionComp","TransitionComponent","Transition","theme","useTheme","timer","wrapperRef","autoTransitionDuration","concat","clearTimeout","current","enableStrictModeCompat","unstable_strictMode","nodeRef","handleRef","useForkRef","undefined","normalizedTransitionCallback","callback","nodeOrAppearing","maybeAppearing","_ref","_ref2","_slicedToArray","node","isAppearing","handleEnter","height","handleEntering","wrapperHeight","clientHeight","transitionDuration","getTransitionProps","mode","duration2","transitions","getAutoHeightDuration","handleEntered","handleExit","handleExited","handleExiting","addEndListener","nodeOrNext","maybeNext","next","setTimeout","state","childProps","container","entered","hidden","minHeight","wrapper","wrapperInner","muiSupportAuto","overflow","transition","create","visibility","FavoriteButton","ad","useSaveAdMutation","console","log","update","cache","response","cachedDataMeLocal","_","cloneDeep","readQuery","query","MeDocument","me","savedAds","isFav","indexAd","findIndex","adSaved","splice","push","data","saveAd","writeQuery","setIsFav","IconButton","NegotiationModal","createNegotiation","CardWineDetail","openModal","setOpenModal","handleClickOpen","ContactOrEdit","postedBy","negotiations","find","isActive","adWine","__typename","firstName","align","wineName","wine","denominazioneZona","harvest","abv","litersTo","priceFrom","address","regione","provincia","comune","Grid","justify","numberViews","activeNegotiations","OpenNegotiations","showNegotiations","Loading","data-testid","List","negotiationsForAd","ListItem","createdBy","dateCreated","dateConcluded","Link","to","Divider","Ad","setAd","useParams","useAdQuery","useCreateNegotiationMutation","createdNegotiation","updateCacheNegotiations","useNegotiationsForAdLazyQuery","lazyNegotiations","lazyNegResult","negotiationsMyAd","filter","neg","buyerOrSeller","Container","maxWidth","CssBaseline","paper","newNegotiation","forUserAd"],"mappings":"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","file":"static/js/6.5738e029.chunk.js","sourcesContent":["import Button from '@material-ui/core/Button';\nimport * as React from 'react';\n// import { searchedWine } from '../cache';\nimport { navigate } from '@reach/router';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\n// import { TypeAd } from '../generated/graphql';\n\nexport const BackButton: React.FC = () => {\n  // // const searchedWineCache = searchedWine();\n  // // const { pathname } = useLocation();\n  // // if (searchedWineCache?.typeAd === TypeAd.Buy && pathname !== '/buy') {\n  // //   return (\n  // //     <Button\n  // //       component={Link}\n  // //       to='/buy'\n  // //       //variant='contained'\n  // //       color='primary'\n  // //       size='large'\n  // //       startIcon={<ArrowBackIosIcon />}\n  // //     >\n  // //       Compra\n  // //     </Button>\n  // //   );\n  // // } else if (\n  // //   searchedWineCache?.typeAd === TypeAd.Sell &&\n  // //   pathname !== '/sell'\n  // // ) {\n  //   return (\n  //     <Button\n  //       component={Link}\n  //       to='/sell'\n  //       //variant='contained'\n  //       color='primary'\n  //       size='large'\n  //       startIcon={<ArrowBackIosIcon />}\n  //     >\n  //       Vendi\n  //     </Button>\n  //   );\n  // } else\n  return (\n    <Button\n      aria-label='previous-page'\n      color='primary'\n      size='large'\n      startIcon={<ArrowBackIosIcon />}\n      onClick={() => navigate(-1)}\n    >\n      Torna indietro\n    </Button>\n  );\n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z\"\n}), 'ArrowBackIos');\n\nexports.default = _default;","import * as React from 'react';\nimport Box from '@material-ui/core/Box';\nimport { TypeAd } from '../generated/graphql';\n\ninterface BoxProps {\n  width: number;\n  typeAd: TypeAd;\n  children: React.ReactNode;\n  notActive?: boolean;\n}\n\nexport const StyledBox: React.FC<BoxProps> = (props) => {\n  const sellColor = props.notActive ? '#b2b2b2' : 'white';\n  const buyColor = props.notActive ? '#8a425a' : 'primary.main';\n\n  return (\n    <Box\n      boxShadow={3}\n      p={2}\n      m={2}\n      mt={2}\n      px={2}\n      pt={2}\n      width={props.width}\n      color={props.typeAd === TypeAd.Sell ? 'primary.main' : 'white'}\n      borderColor={props.typeAd === TypeAd.Sell ? 'white' : 'primary.main'}\n      bgcolor={props.typeAd === TypeAd.Sell ? sellColor : buyColor}\n      borderRadius={16}\n    >\n      {props.children}\n    </Box>\n  );\n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n}), 'ExpandMore');\n\nexports.default = _default;","import Button from '@material-ui/core/Button';\nimport * as React from 'react';\nimport { notification } from '../cache';\nimport { useUpdateNegotiationMutation } from '../generated/graphql';\nimport { useStyles } from '../utils/styleHook';\n\nexport const CloseNegotiationButton: React.FC<{\n  id: string;\n  isBuy?: boolean;\n}> = ({ id, isBuy }) => {\n  const classes = useStyles();\n  const [closeNegotiation, { loading }] = useUpdateNegotiationMutation({\n    onCompleted: (closedNegotiation) => {\n      if (closedNegotiation.updateNegotiation?.errors?.length) {\n        const errorMessages = closedNegotiation.updateNegotiation?.errors.map(\n          (error) => error?.text\n        );\n        notification({\n          type: 'error',\n          message: `${errorMessages.toString()}`,\n        });\n      } else {\n        notification({\n          message: 'trattativa chiusa con successo',\n          type: 'success',\n        });\n      }\n    },\n\n    onError: (error) => notification({ type: 'error', message: error.message }),\n  });\n\n  const handleCloseNegotiation = async () => {\n    await closeNegotiation({\n      variables: { negotiation: { _id: id, isConcluded: true } },\n    });\n  };\n\n  return (\n    <Button\n      aria-label='close-negotiation'\n      className={isBuy ? classes.buyButton : classes.sellButton}\n      disabled={loading}\n      onClick={handleCloseNegotiation}\n    >\n      Dichiara chiusa la trattativa\n    </Button>\n  );\n};\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport Typography from '../Typography';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    margin: 0,\n    padding: '16px 24px',\n    flex: '0 0 auto'\n  }\n};\nvar DialogTitle = /*#__PURE__*/React.forwardRef(function DialogTitle(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$disableTypogra = props.disableTypography,\n      disableTypography = _props$disableTypogra === void 0 ? false : _props$disableTypogra,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"disableTypography\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other), disableTypography ? children : /*#__PURE__*/React.createElement(Typography, {\n    component: \"h2\",\n    variant: \"h6\"\n  }, children));\n});\nprocess.env.NODE_ENV !== \"production\" ? DialogTitle.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the children won't be wrapped by a typography component.\n   * For instance, this can be useful to render an h4 instead of the default h2.\n   */\n  disableTypography: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDialogTitle'\n})(DialogTitle);","import Button from '@material-ui/core/Button';\nimport * as React from 'react';\nimport { notification } from '../cache';\nimport { useCreateReviewMutation, ReviewInput } from '../generated/graphql';\n\nexport const CreateReview: React.FC<{\n  review: ReviewInput;\n  disabled: boolean;\n  closeModal?: () => void;\n}> = ({ review, disabled, closeModal }) => {\n  const [createReview, { loading }] = useCreateReviewMutation({\n    onCompleted: (createdReview) => {\n      if (createdReview.createReview?.errors?.length) {\n        const errorMessages = createdReview.createReview?.errors.map(\n          (error) => error?.text\n        );\n        notification({\n          type: 'error',\n          message: `${errorMessages.toString()}`,\n        });\n      } else {\n        notification({\n          type: 'success',\n          message: 'Recensione creata con successo',\n        });\n      }\n    },\n\n    onError: (error) => notification({ type: 'error', message: error.message }),\n  });\n\n  const handleCreateReview = () => {\n    closeModal && closeModal();\n    void createReview({\n      variables: {\n        review,\n      },\n    });\n  };\n\n  return (\n    <Button\n      disabled={disabled || loading}\n      aria-label='review'\n      onClick={handleCreateReview}\n      color='primary'\n    >\n      Recensisci\n    </Button>\n  );\n};\n","import Button from '@material-ui/core/Button';\nimport * as React from 'react';\nimport { TypeAd } from '../../generated/graphql';\nimport {\n  StyledRating,\n  useStyles as useStylesHook,\n  useStylesForms,\n  useStyleRating,\n} from '../../utils/styleHook';\nimport Box from '@material-ui/core/Box';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport TextField from '@material-ui/core/TextField';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { CreateReview } from '../../containers/CreateReview';\nconst labels: { [index: string]: string } = {\n  0.5: 'Useless',\n  1: 'Useless+',\n  1.5: 'Poor',\n  2: 'Poor+',\n  2.5: 'Ok',\n  3: 'Ok+',\n  3.5: 'Good',\n  4: 'Good+',\n  4.5: 'Excellent',\n  5: 'Excellent+',\n};\n\nexport const CreateReviewModal: React.FC<{\n  idNegotiation: string;\n  idUser: string;\n  type: TypeAd;\n}> = ({ idUser, idNegotiation, type }) => {\n  const [open, setOpen] = React.useState<boolean>(false);\n  const [value, setValue] = React.useState<number | null>(2);\n  const [hover, setHover] = React.useState<number>(-1);\n  const [review, setReview] = React.useState<string>('');\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setReview(event.target.value);\n  };\n  const classes = useStylesHook();\n  const classesTextField = useStylesForms();\n  const classesStars = useStyleRating();\n  const handleModal = () => {\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <>\n      <Button\n        aria-label='review'\n        className={type === TypeAd.Buy ? classes.buyButton : classes.sellButton}\n        onClick={handleModal}\n      >\n        Lascia una recensione\n      </Button>\n      <div style={{ display: 'none' }}>\n        <Dialog\n          open={open}\n          onClose={handleClose}\n          aria-labelledby='form-dialog-title'\n        >\n          <DialogTitle id='form-dialog-title'>\n            Recensisci la trattativa\n          </DialogTitle>\n\n          <DialogContent>\n            <div className={classesStars.root}>\n              <StyledRating\n                name='hover-feedback'\n                value={value}\n                precision={0.5}\n                onChange={(event, newValue) => {\n                  setValue(newValue);\n                }}\n                onChangeActive={(event, newHover) => {\n                  setHover(newHover);\n                }}\n              />\n              {value !== null && (\n                <Box ml={2}>{labels[hover !== -1 ? hover : value]}</Box>\n              )}\n            </div>\n            <TextField\n              color='primary'\n              multiline\n              rows={4}\n              value={review}\n              error={review.length > 0 && review.length <= 5}\n              helperText='Lunghezza minima 5 caratteri'\n              onChange={handleChange}\n              InputLabelProps={{\n                style: { color: '#6d1331' },\n              }}\n              InputProps={{\n                className: classesTextField.inputSell,\n                classes: {\n                  underline: classesTextField.underlineSell,\n                },\n              }}\n              id='outlined-multiline-flexible'\n              label='Recensione'\n              placeholder='Ottima persona con cui....'\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button\n              aria-label='close-modal'\n              onClick={handleClose}\n              color='primary'\n            >\n              Cancel\n            </Button>\n            <CreateReview\n              disabled={review.length <= 5}\n              review={{\n                forUser: idUser,\n                rating: value as number,\n                negotiation: idNegotiation,\n                content: review,\n                type: type,\n              }}\n              closeModal={handleClose}\n            />\n          </DialogActions>\n        </Dialog>\n      </div>\n    </>\n  );\n};\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { Transition } from 'react-transition-group';\nimport withStyles from '../styles/withStyles';\nimport { duration } from '../styles/transitions';\nimport { getTransitionProps } from '../transitions/utils';\nimport useTheme from '../styles/useTheme';\nimport { useForkRef } from '../utils';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the container element. */\n    container: {\n      height: 0,\n      overflow: 'hidden',\n      transition: theme.transitions.create('height')\n    },\n\n    /* Styles applied to the container element when the transition has entered. */\n    entered: {\n      height: 'auto',\n      overflow: 'visible'\n    },\n\n    /* Styles applied to the container element when the transition has exited and `collapsedHeight` != 0px. */\n    hidden: {\n      visibility: 'hidden'\n    },\n\n    /* Styles applied to the outer wrapper element. */\n    wrapper: {\n      // Hack to get children with a negative margin to not falsify the height computation.\n      display: 'flex'\n    },\n\n    /* Styles applied to the inner wrapper element. */\n    wrapperInner: {\n      width: '100%'\n    }\n  };\n};\n/**\n * The Collapse transition is used by the\n * [Vertical Stepper](/components/steppers/#vertical-stepper) StepContent component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nvar Collapse = /*#__PURE__*/React.forwardRef(function Collapse(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$collapsedHeigh = props.collapsedHeight,\n      collapsedHeightProp = _props$collapsedHeigh === void 0 ? '0px' : _props$collapsedHeigh,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      _props$disableStrictM = props.disableStrictModeCompat,\n      disableStrictModeCompat = _props$disableStrictM === void 0 ? false : _props$disableStrictM,\n      inProp = props.in,\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onExit = props.onExit,\n      onExited = props.onExited,\n      onExiting = props.onExiting,\n      style = props.style,\n      _props$timeout = props.timeout,\n      timeout = _props$timeout === void 0 ? duration.standard : _props$timeout,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Transition : _props$TransitionComp,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"collapsedHeight\", \"component\", \"disableStrictModeCompat\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"style\", \"timeout\", \"TransitionComponent\"]);\n\n  var theme = useTheme();\n  var timer = React.useRef();\n  var wrapperRef = React.useRef(null);\n  var autoTransitionDuration = React.useRef();\n  var collapsedHeight = typeof collapsedHeightProp === 'number' ? \"\".concat(collapsedHeightProp, \"px\") : collapsedHeightProp;\n  React.useEffect(function () {\n    return function () {\n      clearTimeout(timer.current);\n    };\n  }, []);\n  var enableStrictModeCompat = theme.unstable_strictMode && !disableStrictModeCompat;\n  var nodeRef = React.useRef(null);\n  var handleRef = useForkRef(ref, enableStrictModeCompat ? nodeRef : undefined);\n\n  var normalizedTransitionCallback = function normalizedTransitionCallback(callback) {\n    return function (nodeOrAppearing, maybeAppearing) {\n      if (callback) {\n        var _ref = enableStrictModeCompat ? [nodeRef.current, nodeOrAppearing] : [nodeOrAppearing, maybeAppearing],\n            _ref2 = _slicedToArray(_ref, 2),\n            node = _ref2[0],\n            isAppearing = _ref2[1]; // onEnterXxx and onExitXxx callbacks have a different arguments.length value.\n\n\n        if (isAppearing === undefined) {\n          callback(node);\n        } else {\n          callback(node, isAppearing);\n        }\n      }\n    };\n  };\n\n  var handleEnter = normalizedTransitionCallback(function (node, isAppearing) {\n    node.style.height = collapsedHeight;\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  });\n  var handleEntering = normalizedTransitionCallback(function (node, isAppearing) {\n    var wrapperHeight = wrapperRef.current ? wrapperRef.current.clientHeight : 0;\n\n    var _getTransitionProps = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'enter'\n    }),\n        transitionDuration = _getTransitionProps.duration;\n\n    if (timeout === 'auto') {\n      var duration2 = theme.transitions.getAutoHeightDuration(wrapperHeight);\n      node.style.transitionDuration = \"\".concat(duration2, \"ms\");\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : \"\".concat(transitionDuration, \"ms\");\n    }\n\n    node.style.height = \"\".concat(wrapperHeight, \"px\");\n\n    if (onEntering) {\n      onEntering(node, isAppearing);\n    }\n  });\n  var handleEntered = normalizedTransitionCallback(function (node, isAppearing) {\n    node.style.height = 'auto';\n\n    if (onEntered) {\n      onEntered(node, isAppearing);\n    }\n  });\n  var handleExit = normalizedTransitionCallback(function (node) {\n    var wrapperHeight = wrapperRef.current ? wrapperRef.current.clientHeight : 0;\n    node.style.height = \"\".concat(wrapperHeight, \"px\");\n\n    if (onExit) {\n      onExit(node);\n    }\n  });\n  var handleExited = normalizedTransitionCallback(onExited);\n  var handleExiting = normalizedTransitionCallback(function (node) {\n    var wrapperHeight = wrapperRef.current ? wrapperRef.current.clientHeight : 0;\n\n    var _getTransitionProps2 = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'exit'\n    }),\n        transitionDuration = _getTransitionProps2.duration;\n\n    if (timeout === 'auto') {\n      var duration2 = theme.transitions.getAutoHeightDuration(wrapperHeight);\n      node.style.transitionDuration = \"\".concat(duration2, \"ms\");\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : \"\".concat(transitionDuration, \"ms\");\n    }\n\n    node.style.height = collapsedHeight;\n\n    if (onExiting) {\n      onExiting(node);\n    }\n  });\n\n  var addEndListener = function addEndListener(nodeOrNext, maybeNext) {\n    var next = enableStrictModeCompat ? nodeOrNext : maybeNext;\n\n    if (timeout === 'auto') {\n      timer.current = setTimeout(next, autoTransitionDuration.current || 0);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    in: inProp,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    onExiting: handleExiting,\n    addEndListener: addEndListener,\n    nodeRef: enableStrictModeCompat ? nodeRef : undefined,\n    timeout: timeout === 'auto' ? null : timeout\n  }, other), function (state, childProps) {\n    return /*#__PURE__*/React.createElement(Component, _extends({\n      className: clsx(classes.container, className, {\n        'entered': classes.entered,\n        'exited': !inProp && collapsedHeight === '0px' && classes.hidden\n      }[state]),\n      style: _extends({\n        minHeight: collapsedHeight\n      }, style),\n      ref: handleRef\n    }, childProps), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.wrapper,\n      ref: wrapperRef\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.wrapperInner\n    }, children)));\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Collapse.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content node to be collapsed.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The height of the container when collapsed.\n   */\n  collapsedHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * Enable this prop if you encounter 'Function components cannot be given refs',\n   * use `unstable_createStrictModeTheme`,\n   * and can't forward the ref in the passed `Component`.\n   */\n  disableStrictModeCompat: PropTypes.bool,\n\n  /**\n   * If `true`, the component will transition in.\n   */\n  in: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExited: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   *\n   * Set to 'auto' to automatically calculate transition time based on height.\n   */\n  timeout: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })])\n} : void 0;\nCollapse.muiSupportAuto = true;\nexport default withStyles(styles, {\n  name: 'MuiCollapse'\n})(Collapse);","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z\"\n}), 'FavoriteBorder');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z\"\n}), 'ExpandLess');\n\nexports.default = _default;","import * as React from 'react';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport IconButton from '@material-ui/core/IconButton';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport _ from 'lodash';\nimport {\n  useSaveAdMutation,\n  MeDocument,\n  AdWine,\n  AdQuery,\n} from '../generated/graphql';\nimport { ICachedMe } from '../utils/updateCache';\n\nexport const FavoriteButton: React.FC<{\n  ad: AdQuery['ad'];\n}> = ({ ad }) => {\n  const [saveAd] = useSaveAdMutation({\n    onError: (error) => console.log(error),\n    update: (cache, response) => {\n      const cachedDataMeLocal: ICachedMe | null = _.cloneDeep(\n        cache.readQuery({\n          query: MeDocument,\n        })\n      );\n      if (cachedDataMeLocal?.me.savedAds && isFav) {\n        const indexAd = cachedDataMeLocal?.me.savedAds.findIndex(\n          (adSaved) => adSaved._id === ad?._id\n        );\n        cachedDataMeLocal?.me.savedAds.splice(indexAd, 1);\n      } else if (cachedDataMeLocal?.me.savedAds) {\n        cachedDataMeLocal?.me.savedAds.push(\n          response.data?.saveAd?.response as AdWine\n        );\n      }\n      cache.writeQuery({ query: MeDocument, data: cachedDataMeLocal });\n    },\n  });\n  const [isFav, setIsFav] = React.useState<boolean>(false);\n  const handleClick = (id: string) => {\n    void saveAd({ variables: { id } });\n    setIsFav(!isFav);\n  };\n  return (\n    <IconButton\n      aria-label='save'\n      onClick={() => handleClick(ad?._id as string)}\n    >\n      {isFav ? <FavoriteIcon /> : <FavoriteBorderIcon />}\n    </IconButton>\n  );\n};\n","import * as React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\n\nexport const NegotiationModal: React.FC<{\n  handleClose: () => void;\n  open: boolean;\n  createNegotiation: () => void;\n}> = ({ handleClose, open, createNegotiation }) => {\n  const handleClick = () => {\n    createNegotiation();\n    handleClose();\n  };\n\n  return (\n    <div>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby='open-negotiation'\n      >\n        <DialogContent>\n          <Button aria-label='open-negotiation' onClick={handleClick}>\n            Apri la trattativa\n          </Button>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color='primary'>\n            Cancel\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n","/* eslint-disable @typescript-eslint/restrict-template-expressions */\nimport * as React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { AdQuery, TypeAd } from '../../generated/graphql';\nimport { Button, Grid } from '@material-ui/core';\nimport { FavoriteButton } from '../../containers/FavoriteButton';\nimport { NegotiationModal } from '../NegotiationModal';\nimport { StyledBox } from '../../containers/StyledBox';\nimport { useStyles } from '../../utils/styleHook';\n\nexport const CardWineDetail: React.FC<{\n  ad: AdQuery['ad'];\n  me: AdQuery['me'];\n  createNegotiation: () => void;\n}> = ({ ad, createNegotiation, me }) => {\n  const classes = useStyles();\n  const isBuy = ad?.typeAd === TypeAd.Buy ? true : false;\n  const [openModal, setOpenModal] = React.useState<boolean>(false);\n  const handleClickOpen = () => {\n    setOpenModal(true);\n  };\n  const handleClose = () => {\n    setOpenModal(false);\n  };\n\n  const ContactOrEdit = () => {\n    if (me?._id === ad?.postedBy._id) {\n      return (\n        <Button\n          aria-label='edit-ad'\n          className={isBuy ? classes.buyButton : classes.sellButton}\n        >\n          Modifica l annuncio\n        </Button>\n      );\n    } else if (\n      me?.negotiations?.find((negotiation) => negotiation?.ad._id === ad?._id)\n    ) {\n      return <div>Negoziazione gia aperta</div>;\n    }\n    if (!ad?.isActive) {\n      return <Typography>Annuncio non piu attivo </Typography>;\n    }\n    return (\n      <>\n        <Button\n          aria-label='open-negotiation-dialog'\n          className={isBuy ? classes.buyButton : classes.sellButton}\n          onClick={handleClickOpen}\n        >\n          Contatta il {ad?.typeAd === TypeAd.Buy ? 'compratore' : 'venditore'}\n        </Button>\n        <NegotiationModal\n          handleClose={handleClose}\n          open={openModal}\n          createNegotiation={createNegotiation}\n        />\n      </>\n    );\n  };\n  const adWine = ad?.__typename === 'AdWine' ? ad : null;\n  return (\n    <StyledBox width={1} typeAd={ad?.typeAd as TypeAd}>\n      {ad?.postedBy._id !== me?._id ? <FavoriteButton ad={ad} /> : null}\n\n      <Typography component='h5' variant='h5'>\n        L&apos;utente {ad?.postedBy.firstName} {isBuy ? 'compra' : 'vende'}:\n      </Typography>\n      <Typography align='left' variant='h6'>\n        {adWine?.wineName} {adWine?.wine?.denominazioneZona}\n        <br />\n        Annata: {ad?.harvest}\n        <br />\n        Gradazione: {ad?.abv} % Vol\n        <br />\n        Quantit√†: {adWine?.litersTo}\n        <br />\n        Prezzo: {ad?.priceFrom} euro al litro\n      </Typography>\n      <br />\n      <Typography align='left' component='h5' variant='h5'>\n        Indirizzo\n      </Typography>\n      <br />\n      <Typography align='left' variant='h6'>\n        Regione: {ad?.address?.regione}\n        <br />\n        Provincia: {ad?.address?.provincia}\n        <br />\n        Comune: {ad?.address?.comune}\n      </Typography>\n      <br />\n      <ContactOrEdit />\n      <Grid container justify='space-between'>\n        <Typography align='left' variant='caption'>\n          Annuncio visualizzato {ad?.numberViews} volte\n        </Typography>\n\n        <Typography align='right' variant='caption'>\n          Negoziazioni attive: {ad?.activeNegotiations}\n        </Typography>\n      </Grid>\n    </StyledBox>\n  );\n};\n","import { LazyQueryResult } from '@apollo/client';\nimport * as React from 'react';\nimport { Exact, NegotiationsForAdQuery } from '../generated/graphql';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Divider from '@material-ui/core/Divider';\nimport { Typography } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport { Link } from '@reach/router';\nimport { CloseNegotiationButton } from '../containers/CloseNegotiationButton';\nimport Collapse from '@material-ui/core/Collapse';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\nimport IconButton from '@material-ui/core/IconButton';\nimport { useStyles } from '../utils/styleHook';\nimport { Loading } from './Loading';\nimport { CreateReviewModal } from '../components/ReviewModal';\n\nexport const OpenNegotiations: React.FC<{\n  data: LazyQueryResult<\n    NegotiationsForAdQuery,\n    Exact<{\n      ad: string;\n    }>\n  >;\n  showNegotiations: () => void;\n}> = ({ data, showNegotiations }) => {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState<boolean>(false);\n  const handleShowNegotiations = () => {\n    if (!open) {\n      showNegotiations();\n    }\n    setOpen(!open);\n  };\n  if (data.loading) {\n    return <Loading />;\n  }\n  if (data.error) {\n    return <div>error</div>;\n  }\n  return (\n    <>\n      <IconButton\n        aria-label='show-open-negotiations'\n        data-testid='negotiationsAd'\n        onClick={handleShowNegotiations}\n      >\n        {!open ? <ExpandMoreIcon /> : <ExpandLessIcon />}\n      </IconButton>\n      <Collapse in={open}>\n        <List aria-label='negotiations'>\n          {data?.data?.negotiationsForAd?.map((negotiation) => (\n            <div key={negotiation._id}>\n              <ListItem>\n                <div>\n                  <Typography color='primary' component='h3' variant='h5'>\n                    {negotiation.createdBy.firstName}\n                  </Typography>\n                  <br />\n                  <Typography color='secondary' variant='body1'>\n                    aperta il {negotiation.dateCreated}\n                  </Typography>\n                  <Typography color='secondary' variant='body1'>\n                    {negotiation.dateConcluded\n                      ? `chiusa il ${negotiation.dateConcluded}`\n                      : null}\n                  </Typography>\n                  <br />\n                  <Button\n                    aria-label='open-chat'\n                    className={classes.buyButton}\n                    component={Link}\n                    to={`/messaggi/${negotiation._id}`}\n                  >\n                    Vai alla chat\n                  </Button>\n                  <br />\n                  {!negotiation.isConcluded ? (\n                    <CloseNegotiationButton isBuy={true} id={negotiation._id} />\n                  ) : (\n                    <CreateReviewModal\n                      idNegotiation={negotiation._id}\n                      idUser={negotiation.createdBy._id}\n                      type={negotiation.type}\n                    />\n                  )}\n                </div>\n              </ListItem>\n              <Divider />\n            </div>\n          ))}\n        </List>\n      </Collapse>\n    </>\n  );\n};\n","import * as React from 'react';\nimport { RouteComponentProps } from '@reach/router';\nimport { useParams } from '@reach/router';\nimport {\n  TypeAd,\n  useAdQuery,\n  useCreateNegotiationMutation,\n  NegotiationInput,\n  useNegotiationsForAdLazyQuery,\n  AdQuery,\n} from '../generated/graphql';\nimport { notification } from '../cache';\nimport { CardWineDetail } from '../components/Cards/CardWineDetail';\nimport { Container, CssBaseline, Typography } from '@material-ui/core';\nimport { BackButton } from '../components/BackButton';\nimport { updateCacheNegotiations } from '../utils/updateCache';\nimport { OpenNegotiations } from '../components/OpenNegotiations';\nimport { useStyles } from '../utils/styleHook';\nimport { Loading } from '../components/Loading';\n\nconst Ad: React.FC<RouteComponentProps> = () => {\n  const [ad, setAd] = React.useState<AdQuery['ad'] | undefined>(undefined);\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n  const { id }: { id: string } = useParams();\n  const { data, loading, error } = useAdQuery({\n    variables: {\n      id: id,\n    },\n    onCompleted: (data) => (data?.ad ? setAd(data?.ad) : null),\n    onError: (error) => console.log(error),\n  });\n  React.useEffect(() => {\n    if (data?.ad) {\n      setAd(data?.ad);\n    }\n  }, [data?.ad?.activeNegotiations]);\n  const [createNegotiation] = useCreateNegotiationMutation({\n    onCompleted: (createdNegotiation) => {\n      if (createdNegotiation.createNegotiation?.errors?.length) {\n        const errorMessages = createdNegotiation.createNegotiation?.errors.map(\n          (error) => error?.text\n        );\n        notification({\n          type: 'error',\n          message: `${errorMessages.toString()}`,\n        });\n      } else {\n        notification({\n          message: 'trattativa creata con successo',\n          type: 'success',\n        });\n      }\n    },\n\n    onError: (error) =>\n      notification({\n        type: 'error',\n        message: `errore durante creazione trattativa: ${error.message}`,\n      }),\n    update: (cache, response) => {\n      updateCacheNegotiations(\n        cache,\n        response.data?.createNegotiation?.response\n      );\n    },\n  });\n  const [lazyNegotiations, lazyNegResult] = useNegotiationsForAdLazyQuery();\n  const handleShowNegotiations = () => {\n    lazyNegotiations({ variables: { ad: id } });\n  };\n  const openNegotiation = () => {\n    const newNegotiation: NegotiationInput = {\n      forUserAd: ad?.postedBy._id,\n      ad: ad?._id,\n      type: ad?.typeAd,\n    } as NegotiationInput;\n    void createNegotiation({ variables: { negotiation: newNegotiation } });\n  };\n  const classes = useStyles();\n  if (error && !loading) {\n    return <div>Errore</div>;\n  }\n  const negotiationsMyAd = data?.me?.negotiations?.filter(\n    (neg) => neg.ad._id === data?.ad?._id\n  );\n  const buyerOrSeller =\n    ad?.typeAd === TypeAd.Buy ? \"L'acquirente\" : 'Il venditore';\n  if (ad?._id) {\n    return (\n      <Container component='main' maxWidth='xs'>\n        <CssBaseline />\n        <BackButton />\n        <div className={classes.paper}>\n          <Typography color='primary' component='h3' variant='h5'>\n            Contatta {buyerOrSeller}\n          </Typography>\n          <Typography color='secondary' variant='body1'>\n            Questo √® uno degli annunci che abbiamo selezionato per te: verifica\n            anche tu i parametri e decidi se procedere.\n          </Typography>\n        </div>\n        <CardWineDetail\n          ad={ad}\n          createNegotiation={openNegotiation}\n          me={data?.me}\n        />\n        {data?.me?._id === ad.postedBy._id && negotiationsMyAd?.length ? (\n          <OpenNegotiations\n            data={lazyNegResult}\n            showNegotiations={handleShowNegotiations}\n          />\n        ) : null}\n      </Container>\n    );\n  }\n  return <Loading />;\n};\n\nexport default Ad;\n"],"sourceRoot":""}