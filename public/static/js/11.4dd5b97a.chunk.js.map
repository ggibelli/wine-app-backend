{"version":3,"sources":["containers/CloseNegotiationButton.tsx","containers/CancelNegotiationButton.tsx","components/NegotiationModals/CloseNegotiationModal.tsx","containers/CreateReview.tsx","components/ReviewModal/index.tsx","../node_modules/@material-ui/core/esm/DialogTitle/DialogTitle.js","pages/Negotiation.tsx"],"names":["CloseNegotiationButton","id","handleClose","useUpdateNegotiationMutation","onCompleted","closedNegotiation","updateNegotiation","errors","length","errorMessages","map","error","text","notification","type","message","toString","onError","closeNegotiation","loading","handleCloseNegotiation","a","variables","negotiation","_id","isConcluded","Button","aria-label","disabled","onClick","CancelNegotiationButton","useDeleteNegotiationMutation","deleteNegotiation","update","cache","data","updateRemovedNeg","response","CloseNegotiationModal","isBuy","isMessage","classes","useStyles","React","open","setOpen","fullWidth","className","buyButton","sellButton","style","display","Dialog","onClose","aria-labelledby","DialogContent","DialogActions","color","CreateReview","review","closeModal","useCreateReviewMutation","createdReview","createReview","labels","0.5","1","1.5","2","2.5","3","3.5","4","4.5","5","CreateReviewModal","idUser","idNegotiation","value","setValue","hover","setHover","setReview","useStylesHook","classesTextField","useStylesForms","classesStars","useStyleRating","TypeAd","Sell","Buy","DialogTitle","root","name","precision","onChange","event","newValue","onChangeActive","newHover","Box","ml","TextField","multiline","rows","helperText","target","InputLabelProps","InputProps","inputSell","underline","underlineSell","label","placeholder","forUser","rating","content","props","ref","children","_props$disableTypogra","disableTypography","other","_objectWithoutProperties","_extends","clsx","Typography","component","variant","withStyles","margin","padding","flex","Negotiation","useParams","result","useNegotiationQuery","adWine","ad","__typename","UserContact","postedBy","hideContact","data-testid","phoneNumber","email","maxWidth","paper","wineName","wine","denominazioneZona","forUserAd","Link","to"],"mappings":"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","file":"static/js/11.4dd5b97a.chunk.js","sourcesContent":["import Button from '@material-ui/core/Button';\nimport * as React from 'react';\nimport { notification } from '../cache';\nimport { useUpdateNegotiationMutation } from '../generated/graphql';\n\nexport const CloseNegotiationButton: React.FC<{\n  id: string;\n  handleClose: () => void;\n}> = ({ id, handleClose }) => {\n  const [closeNegotiation, { loading }] = useUpdateNegotiationMutation({\n    onCompleted: (closedNegotiation) => {\n      if (closedNegotiation.updateNegotiation?.errors?.length) {\n        const errorMessages = closedNegotiation.updateNegotiation?.errors.map(\n          (error) => error?.text\n        );\n        notification({\n          type: 'error',\n          message: `${errorMessages.toString()}`,\n        });\n      } else {\n        notification({\n          message: 'trattativa chiusa con successo',\n          type: 'success',\n        });\n      }\n    },\n    onError: (error) => notification({ type: 'error', message: error.message }),\n  });\n\n  const handleCloseNegotiation = async () => {\n    handleClose();\n    await closeNegotiation({\n      variables: { negotiation: { _id: id, isConcluded: true } },\n    });\n  };\n\n  return (\n    <Button\n      aria-label='close-negotiation'\n      disabled={loading}\n      onClick={handleCloseNegotiation}\n    >\n      Dichiara chiusa la trattativa\n    </Button>\n  );\n};\n","import Button from '@material-ui/core/Button';\nimport * as React from 'react';\nimport { notification } from '../cache';\nimport { useDeleteNegotiationMutation } from '../generated/graphql';\nimport { updateRemovedNeg } from '../utils/updateCache';\n\nexport const CancelNegotiationButton: React.FC<{\n  id: string;\n  handleClose: () => void;\n}> = ({ id, handleClose }) => {\n  const [closeNegotiation, { loading }] = useDeleteNegotiationMutation({\n    onCompleted: (closedNegotiation) => {\n      if (closedNegotiation.deleteNegotiation?.errors?.length) {\n        const errorMessages = closedNegotiation.deleteNegotiation?.errors.map(\n          (error) => error?.text\n        );\n        notification({\n          type: 'error',\n          message: `${errorMessages.toString()}`,\n        });\n      } else {\n        notification({\n          message: 'trattativa cancellata con successo',\n          type: 'info',\n        });\n      }\n    },\n    onError: (error) => notification({ type: 'error', message: error.message }),\n    update: (cache, { data }) => {\n      updateRemovedNeg(cache, data?.deleteNegotiation?.response);\n    },\n  });\n\n  const handleCloseNegotiation = async () => {\n    handleClose();\n    await closeNegotiation({\n      variables: { id },\n    });\n  };\n\n  return (\n    <Button\n      aria-label='cancel-negotiation'\n      disabled={loading}\n      onClick={handleCloseNegotiation}\n    >\n      Cancella la trattativa\n    </Button>\n  );\n};\n","import * as React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport { CloseNegotiationButton } from '../../containers/CloseNegotiationButton';\nimport { CancelNegotiationButton } from '../../containers/CancelNegotiationButton';\nimport { useStyles } from '../../utils/styleHook';\n\nexport const CloseNegotiationModal: React.FC<{\n  id: string;\n  isBuy?: boolean;\n  isMessage?: boolean;\n}> = ({ id, isBuy, isMessage }) => {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState<boolean>(false);\n  const handleModal = () => {\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n  isBuy = !!isMessage;\n  return (\n    <>\n      <Button\n        fullWidth\n        aria-label='close-negotiation-popup'\n        className={isBuy ? classes.buyButton : classes.sellButton}\n        onClick={handleModal}\n      >\n        Chiudi trattativa\n      </Button>\n      <div style={{ display: 'none' }}>\n        <Dialog\n          open={open}\n          onClose={handleClose}\n          aria-labelledby='close-negotiation'\n        >\n          <DialogContent>\n            <CancelNegotiationButton id={id} handleClose={handleClose} />\n            <CloseNegotiationButton id={id} handleClose={handleClose} />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleClose} color='primary'>\n              Cancel\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    </>\n  );\n};\n","import Button from '@material-ui/core/Button';\nimport * as React from 'react';\nimport { notification } from '../cache';\nimport { useCreateReviewMutation, ReviewInput } from '../generated/graphql';\n\nexport const CreateReview: React.FC<{\n  review: ReviewInput;\n  disabled: boolean;\n  closeModal?: () => void;\n}> = ({ review, disabled, closeModal }) => {\n  const [createReview, { loading }] = useCreateReviewMutation({\n    onCompleted: (createdReview) => {\n      if (createdReview.createReview?.errors?.length) {\n        const errorMessages = createdReview.createReview?.errors.map(\n          (error) => error?.text\n        );\n        notification({\n          type: 'error',\n          message: `${errorMessages.toString()}`,\n        });\n      } else {\n        notification({\n          type: 'success',\n          message: 'Recensione creata con successo',\n        });\n      }\n    },\n\n    onError: (error) => notification({ type: 'error', message: error.message }),\n  });\n\n  const handleCreateReview = () => {\n    closeModal && closeModal();\n    void createReview({\n      variables: {\n        review,\n      },\n    });\n  };\n\n  return (\n    <Button\n      disabled={disabled || loading}\n      aria-label='review'\n      onClick={handleCreateReview}\n      color='primary'\n    >\n      Recensisci\n    </Button>\n  );\n};\n","import Button from '@material-ui/core/Button';\nimport * as React from 'react';\nimport { TypeAd } from '../../generated/graphql';\nimport {\n  StyledRating,\n  useStyles as useStylesHook,\n  useStylesForms,\n  useStyleRating,\n} from '../../utils/styleHook';\nimport Box from '@material-ui/core/Box';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport TextField from '@material-ui/core/TextField';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { CreateReview } from '../../containers/CreateReview';\n\nconst labels: { [index: string]: string } = {\n  0.5: 'Useless',\n  1: 'Useless+',\n  1.5: 'Poor',\n  2: 'Poor+',\n  2.5: 'Ok',\n  3: 'Ok+',\n  3.5: 'Good',\n  4: 'Good+',\n  4.5: 'Excellent',\n  5: 'Excellent+',\n};\n\nexport const CreateReviewModal: React.FC<{\n  idNegotiation: string;\n  idUser: string;\n  type: TypeAd;\n  isMessage?: boolean;\n}> = ({ idUser, idNegotiation, type, isMessage }) => {\n  const [open, setOpen] = React.useState<boolean>(false);\n  const [value, setValue] = React.useState<number | null>(2);\n  const [hover, setHover] = React.useState<number>(-1);\n  const [review, setReview] = React.useState<string>('');\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setReview(event.target.value);\n  };\n  const classes = useStylesHook();\n  const classesTextField = useStylesForms();\n  const classesStars = useStyleRating();\n  const handleModal = () => {\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n  type = isMessage ? TypeAd.Sell : type;\n  return (\n    <>\n      <Button\n        fullWidth\n        aria-label='review'\n        className={type === TypeAd.Buy ? classes.buyButton : classes.sellButton}\n        onClick={handleModal}\n      >\n        Lascia una recensione\n      </Button>\n      <div style={{ display: 'none' }}>\n        <Dialog\n          open={open}\n          onClose={handleClose}\n          aria-labelledby='form-dialog-title'\n        >\n          <DialogTitle id='form-dialog-title'>\n            Recensisci la trattativa\n          </DialogTitle>\n\n          <DialogContent>\n            <div className={classesStars.root}>\n              <StyledRating\n                name='hover-feedback'\n                value={value}\n                precision={0.5}\n                onChange={(event, newValue) => {\n                  setValue(newValue);\n                }}\n                onChangeActive={(event, newHover) => {\n                  setHover(newHover);\n                }}\n              />\n              {value !== null && (\n                <Box ml={2}>{labels[hover !== -1 ? hover : value]}</Box>\n              )}\n            </div>\n            <TextField\n              color='primary'\n              multiline\n              rows={4}\n              value={review}\n              error={review.length > 0 && review.length <= 5}\n              helperText='Lunghezza minima 5 caratteri'\n              onChange={handleChange}\n              InputLabelProps={{\n                style: { color: '#6d1331' },\n              }}\n              InputProps={{\n                className: classesTextField.inputSell,\n                classes: {\n                  underline: classesTextField.underlineSell,\n                },\n              }}\n              id='outlined-multiline-flexible'\n              label='Recensione'\n              placeholder='Ottima persona con cui....'\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button\n              aria-label='close-modal'\n              onClick={handleClose}\n              color='primary'\n            >\n              Cancel\n            </Button>\n            <CreateReview\n              disabled={review.length <= 5}\n              review={{\n                forUser: idUser,\n                rating: value as number,\n                negotiation: idNegotiation,\n                content: review,\n                type: type,\n              }}\n              closeModal={handleClose}\n            />\n          </DialogActions>\n        </Dialog>\n      </div>\n    </>\n  );\n};\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport Typography from '../Typography';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    margin: 0,\n    padding: '16px 24px',\n    flex: '0 0 auto'\n  }\n};\nvar DialogTitle = /*#__PURE__*/React.forwardRef(function DialogTitle(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$disableTypogra = props.disableTypography,\n      disableTypography = _props$disableTypogra === void 0 ? false : _props$disableTypogra,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"disableTypography\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other), disableTypography ? children : /*#__PURE__*/React.createElement(Typography, {\n    component: \"h2\",\n    variant: \"h6\"\n  }, children));\n});\nprocess.env.NODE_ENV !== \"production\" ? DialogTitle.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the children won't be wrapped by a typography component.\n   * For instance, this can be useful to render an h4 instead of the default h2.\n   */\n  disableTypography: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDialogTitle'\n})(DialogTitle);","/* eslint-disable @typescript-eslint/restrict-template-expressions */\nimport * as React from 'react';\nimport { Link, RouteComponentProps, useParams } from '@reach/router';\nimport { useNegotiationQuery } from '../generated/graphql';\nimport { Container, CssBaseline } from '@material-ui/core';\nimport { BackButton } from '../components/BackButton';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { useStyles } from '../utils/styleHook';\nimport { Loading } from '../components/Loading';\nimport { CreateReviewModal } from '../components/ReviewModal';\nimport { CloseNegotiationModal } from '../components/NegotiationModals/CloseNegotiationModal';\n\nconst Negotiation: React.FC<RouteComponentProps> = () => {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n  const { id }: { id: string } = useParams();\n  const classes = useStyles();\n  const result = useNegotiationQuery({ variables: { id } });\n  const { data, loading, error } = result;\n  const adWine =\n    data?.negotiation?.ad.__typename === 'AdWine'\n      ? data?.negotiation?.ad\n      : null;\n  const UserContact = () => {\n    if (adWine?.postedBy.hideContact) {\n      return null;\n    }\n    return (\n      <div data-testid='info-contact'>\n        puoi contattare l utente al numero: {adWine?.postedBy.phoneNumber} o\n        alla mail {adWine?.postedBy.email}\n      </div>\n    );\n  };\n\n  if (error) return <div>{error.message}</div>;\n\n  if (loading) return <Loading />;\n  return (\n    <Container component='main' maxWidth='xs'>\n      <CssBaseline />\n      <BackButton />\n      <div className={classes.paper}>\n        <Typography color='primary' component='h3' variant='h5'>\n          Gestisci la trattativa\n        </Typography>\n        <Typography color='secondary' variant='body1'>\n          Puoi decidere se contattare l utente tramite il nostro portale o\n          usando i suoi contatti\n        </Typography>\n      </div>\n      <UserContact />\n      <Typography color='secondary' variant='body1'>\n        Questa trattativa riguarda l annuncio per {adWine?.wineName}{' '}\n        {adWine?.wine?.denominazioneZona}\n      </Typography>\n      {data?.negotiation?.isConcluded ? (\n        <CreateReviewModal\n          idNegotiation={data.negotiation._id}\n          idUser={data.negotiation.forUserAd._id}\n          type={data.negotiation.type}\n        />\n      ) : (\n        <CloseNegotiationModal id={id} />\n      )}\n      <Button\n        aria-label='open-chat'\n        className={classes.sellButton}\n        component={Link}\n        to={`/messaggi/${data?.negotiation?._id}`}\n      >\n        Vai alla chat\n      </Button>\n    </Container>\n  );\n};\n\nexport default Negotiation;\n"],"sourceRoot":""}