(this["webpackJsonpwine-app-frontend"]=this["webpackJsonpwine-app-frontend"]||[]).push([[14],{454:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(4),i=n(439),o=(n(0),n(41)),r=n(455),c=n.n(r),l=function(){return Object(a.jsx)(i.a,{"aria-label":"previous-page",color:"primary",size:"large",startIcon:Object(a.jsx)(c.a,{}),onClick:function(){return Object(o.c)(-1)},children:"Torna indietro"})}},455:function(e,t,n){"use strict";var a=n(53),i=n(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(0)),r=(0,a(n(55)).default)(o.createElement("path",{d:"M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos");t.default=r},460:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(4),i=n(56),o=n.n(i),r=n(82),c=n(28),l=n(439),s=(n(0),n(21)),d=n(14),u=n(133),j=function(e){var t=e.id,n=e.isBuy,i=Object(u.c)(),j=Object(d.O)({onCompleted:function(e){var t,n;if(null===(t=e.updateNegotiation)||void 0===t||null===(n=t.errors)||void 0===n?void 0:n.length){var a,i=null===(a=e.updateNegotiation)||void 0===a?void 0:a.errors.map((function(e){return null===e||void 0===e?void 0:e.text}));Object(s.d)({type:"error",message:"".concat(i.toString())})}else Object(s.d)({message:"trattativa chiusa con successo",type:"success"})},onError:function(e){return Object(s.d)({type:"error",message:e.message})}}),v=Object(c.a)(j,2),b=v[0],p=v[1].loading,O=function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b({variables:{negotiation:{_id:t,isConcluded:!0}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(l.a,{"aria-label":"close-negotiation",className:n?i.buyButton:i.sellButton,disabled:p,onClick:O,children:"Dichiara chiusa la trattativa"})}},461:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(4),i=n(28),o=n(439),r=n(0),c=n(14),l=n(133),s=n(449),d=n(441),u=n(442),j=n(443),v=n(381),b=n(467),p=n(21),O=function(e){var t=e.review,n=e.disabled,r=e.closeModal,l=Object(c.u)({onCompleted:function(e){var t,n;if(null===(t=e.createReview)||void 0===t||null===(n=t.errors)||void 0===n?void 0:n.length){var a,i=null===(a=e.createReview)||void 0===a?void 0:a.errors.map((function(e){return null===e||void 0===e?void 0:e.text}));Object(p.d)({type:"error",message:"".concat(i.toString())})}else Object(p.d)({type:"success",message:"Recensione creata con successo"})},onError:function(e){return Object(p.d)({type:"error",message:e.message})}}),s=Object(i.a)(l,2),d=s[0],u=s[1].loading;return Object(a.jsx)(o.a,{disabled:n||u,"aria-label":"review",onClick:function(){r&&r(),d({variables:{review:t}})},color:"primary",children:"Recensisci"})},m={.5:"Useless",1:"Useless+",1.5:"Poor",2:"Poor+",2.5:"Ok",3:"Ok+",3.5:"Good",4:"Good+",4.5:"Excellent",5:"Excellent+"},h=function(e){var t=e.idUser,n=e.idNegotiation,p=e.type,h=r.useState(!1),f=Object(i.a)(h,2),g=f[0],x=f[1],y=r.useState(2),w=Object(i.a)(y,2),C=w[0],N=w[1],k=r.useState(-1),B=Object(i.a)(k,2),S=B[0],_=B[1],E=r.useState(""),R=Object(i.a)(E,2),P=R[0],U=R[1],z=Object(l.c)(),L=Object(l.d)(),M=Object(l.b)(),T=function(){x(!1)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(o.a,{"aria-label":"review",className:p===c.l.Buy?z.buyButton:z.sellButton,onClick:function(){x(!0)},children:"Lascia una recensione"}),Object(a.jsx)("div",{style:{display:"none"},children:Object(a.jsxs)(d.a,{open:g,onClose:T,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(b.a,{id:"form-dialog-title",children:"Recensisci la trattativa"}),Object(a.jsxs)(u.a,{children:[Object(a.jsxs)("div",{className:M.root,children:[Object(a.jsx)(l.a,{name:"hover-feedback",value:C,precision:.5,onChange:function(e,t){N(t)},onChangeActive:function(e,t){_(t)}}),null!==C&&Object(a.jsx)(s.a,{ml:2,children:m[-1!==S?S:C]})]}),Object(a.jsx)(v.a,{color:"primary",multiline:!0,rows:4,value:P,error:P.length>0&&P.length<=5,helperText:"Lunghezza minima 5 caratteri",onChange:function(e){U(e.target.value)},InputLabelProps:{style:{color:"#6d1331"}},InputProps:{className:L.inputSell,classes:{underline:L.underlineSell}},id:"outlined-multiline-flexible",label:"Recensione",placeholder:"Ottima persona con cui...."})]}),Object(a.jsxs)(j.a,{children:[Object(a.jsx)(o.a,{"aria-label":"close-modal",onClick:T,color:"primary",children:"Cancel"}),Object(a.jsx)(O,{disabled:P.length<=5,review:{forUser:t,rating:C,negotiation:n,content:P,type:p},closeModal:T})]})]})})]})}},467:function(e,t,n){"use strict";var a=n(1),i=n(5),o=n(0),r=(n(10),n(7)),c=n(8),l=n(91),s=o.forwardRef((function(e,t){var n=e.children,c=e.classes,s=e.className,d=e.disableTypography,u=void 0!==d&&d,j=Object(i.a)(e,["children","classes","className","disableTypography"]);return o.createElement("div",Object(a.a)({className:Object(r.a)(c.root,s),ref:t},j),u?n:o.createElement(l.a,{component:"h2",variant:"h6"},n))}));t.a=Object(c.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(s)},532:function(e,t,n){"use strict";n.r(t);var a=n(4),i=(n(0),n(41)),o=n(14),r=n(437),c=n(438),l=n(454),s=n(439),d=n(91),u=n(460),j=n(133),v=n(155),b=n(461);t.default=function(){var e,t,n,p,O,m=Object(i.e)().id,h=Object(j.c)(),f=Object(o.H)({variables:{id:m}}),g=f.data,x=f.loading,y=f.error,w="AdWine"===(null===g||void 0===g||null===(e=g.negotiation)||void 0===e?void 0:e.ad.__typename)?null===g||void 0===g||null===(t=g.negotiation)||void 0===t?void 0:t.ad:null,C=function(){return(null===w||void 0===w?void 0:w.postedBy.hideContact)?null:Object(a.jsxs)("div",{"data-testid":"info-contact",children:["puoi contattare l utente al numero: ",null===w||void 0===w?void 0:w.postedBy.phoneNumber," o alla mail ",null===w||void 0===w?void 0:w.postedBy.email]})};return y?Object(a.jsx)("div",{children:y.message}):x?Object(a.jsx)(v.a,{}):Object(a.jsxs)(r.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(c.a,{}),Object(a.jsx)(l.a,{}),Object(a.jsxs)("div",{className:h.paper,children:[Object(a.jsx)(d.a,{color:"primary",component:"h3",variant:"h5",children:"Gestisci la trattativa"}),Object(a.jsx)(d.a,{color:"secondary",variant:"body1",children:"Puoi decidere se contattare l utente tramite il nostro portale o usando i suoi contatti"})]}),Object(a.jsx)(C,{}),Object(a.jsxs)(d.a,{color:"secondary",variant:"body1",children:["Questa trattativa riguarda l annuncio per ",null===w||void 0===w?void 0:w.wineName," ",null===w||void 0===w||null===(n=w.wine)||void 0===n?void 0:n.denominazioneZona]}),(null===g||void 0===g||null===(p=g.negotiation)||void 0===p?void 0:p.isConcluded)?Object(a.jsx)(b.a,{idNegotiation:g.negotiation._id,idUser:g.negotiation.forUserAd._id,type:g.negotiation.type}):Object(a.jsx)(u.a,{id:m}),Object(a.jsx)(s.a,{"aria-label":"open-chat",className:h.sellButton,component:i.a,to:"/messaggi/".concat(null===g||void 0===g||null===(O=g.negotiation)||void 0===O?void 0:O._id),children:"Vai alla chat"})]})}}}]);
//# sourceMappingURL=14.232e721f.chunk.js.map