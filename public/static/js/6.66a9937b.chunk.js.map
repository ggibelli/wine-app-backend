{"version":3,"sources":["containers/StyledBox.tsx","../node_modules/@material-ui/icons/ExpandMore.js","containers/InfiniteScrollFetch.tsx","utils/useIntersectionHook.tsx","components/FilterAds/Order.tsx","../node_modules/@material-ui/icons/FavoriteBorder.js","../node_modules/@material-ui/icons/FilterList.js","../node_modules/@material-ui/core/esm/internal/svg-icons/CheckBoxOutlineBlank.js","../node_modules/@material-ui/core/esm/internal/svg-icons/CheckBox.js","../node_modules/@material-ui/core/esm/internal/svg-icons/IndeterminateCheckBox.js","../node_modules/@material-ui/core/esm/Checkbox/Checkbox.js","../node_modules/@material-ui/core/esm/colors/deepPurple.js","components/FilterAds/index.tsx","utils/multiFilter.ts","containers/FavoriteButton.tsx","components/Cards/CardWine.tsx","../node_modules/@material-ui/core/esm/Collapse/Collapse.js","pages/MyAds.tsx"],"names":["StyledBox","props","sellColor","notActive","buyColor","boxShadow","p","m","mt","px","pt","width","color","typeAd","TypeAd","Sell","borderColor","bgcolor","borderRadius","children","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","useStyles","makeStyles","createStyles","root","display","flexDirection","alignItems","InfiniteScroll","classes","message","useLocation","pathname","split","rootMargin","threshold","entry","setEntry","node","setNode","observer","current","disconnect","window","IntersectionObserver","currentObserver","observe","useIntersect","ref","isOk","setIsOk","intersectionRatio","fetchMore","setIsLoading","isVisible","isLoading","className","CircularProgress","id","style","height","Order","fullWidth","htmlFor","native","order","onChange","event","setOrder","target","inputProps","name","QueryOrderBy","CreatedAtDesc","CreatedAtAsc","isAds","PriceDesc","PriceAsc","createSvgIcon","defaultCheckedIcon","CheckBoxIcon","defaultIcon","CheckBoxOutlineBlankIcon","defaultIndeterminateIcon","IndeterminateCheckBoxIcon","Checkbox","_props$checkedIcon","checkedIcon","_props$color","_props$icon","icon","iconProp","_props$indeterminate","indeterminate","_props$indeterminateI","indeterminateIcon","indeterminateIconProp","_props$size","size","other","_objectWithoutProperties","SwitchBase","_extends","type","clsx","concat","capitalize","checked","disabled","fontSize","undefined","withStyles","theme","palette","text","secondary","colorPrimary","primary","main","backgroundColor","fade","action","hoverOpacity","colorSecondary","deepPurple","50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700","PurpleCheckbox","Filter","searchedWineCache","searchedWine","isShowAll","setIsShowAll","showFilter","setShowFilter","priceTo","abv","harvest","litersTo","filterAds","setFilterAds","list","length","filtredAds","array","filters","filterKeys","keys","filter","item","every","key","multiFilter","setFilteredList","Button","onClick","aria-label","startIcon","Collapse","in","Divider","FormControlLabel","control","label","FavoriteButton","timesFavorite","data","useMyInfoQuery","useSaveAdMutation","variables","onCompleted","setIsFav","isFav","onError","error","console","update","cache","updateCacheSaveAd","saveAd","response","stop","setStop","myInfo","savedAds","map","ad","_id","includes","IconButton","CardWine","useTheme","useMediaQuery","breakpoints","up","isBuy","Buy","pointerEvent","isActive","me","myAd","ads","data-testid","Link","pointerEvents","component","RouterLink","to","underline","Typography","variant","wineName","align","priceFrom","Grid","container","justify","datePosted","numberViews","activeNegotiations","typeProduct","TypeProduct","AdWine","wine","navigate","savedTimes","_props$collapsedHeigh","collapsedHeight","collapsedHeightProp","_props$component","Component","_props$disableStrictM","disableStrictModeCompat","inProp","onEnter","onEntered","onEntering","onExit","onExited","onExiting","_props$timeout","timeout","duration","standard","_props$TransitionComp","TransitionComponent","Transition","timer","wrapperRef","autoTransitionDuration","clearTimeout","enableStrictModeCompat","unstable_strictMode","nodeRef","handleRef","useForkRef","normalizedTransitionCallback","callback","nodeOrAppearing","maybeAppearing","_ref","_ref2","_slicedToArray","isAppearing","handleEnter","handleEntering","wrapperHeight","clientHeight","transitionDuration","getTransitionProps","mode","duration2","transitions","getAutoHeightDuration","handleEntered","handleExit","handleExited","handleExiting","addEndListener","nodeOrNext","maybeNext","next","setTimeout","state","childProps","entered","hidden","minHeight","wrapper","wrapperInner","muiSupportAuto","overflow","transition","create","visibility","MyAds","pageCount","setPageCount","useAdsForUserQuery","offset","limit","orderBy","user","adsForUser","loading","hideNotActive","setHideNotActive","isLoadFetchMore","setIsLoadFetchMore","isLoadOrder","setIsLoadOrder","loadMore","a","result","handleFetchMore","maxWidth"],"mappings":"kMAWaA,EAAgC,SAACC,GAC5C,IAAMC,EAAYD,EAAME,UAAY,UAAY,QAC1CC,EAAWH,EAAME,UAAY,UAAY,eAE/C,OACE,cAAC,IAAD,CACEE,UAAW,EACXC,EAAG,EACHC,EAAG,EACHC,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,MAAOV,EAAMU,MACbC,MAAOX,EAAMY,SAAWC,IAAOC,KAAO,eAAiB,QACvDC,YAAaf,EAAMY,SAAWC,IAAOC,KAAO,QAAU,eACtDE,QAAShB,EAAMY,SAAWC,IAAOC,KAAOb,EAAYE,EACpDc,aAAc,GAXhB,SAaGjB,EAAMkB,a,iCC3Bb,IAAIC,EAAyBC,EAAQ,IAEjCC,EAA0BD,EAAQ,IAEtCE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAAQN,EAAwBD,EAAQ,IAIxCQ,GAAW,EAFMT,EAAuBC,EAAQ,KAElBM,SAAuBC,EAAME,cAAc,OAAQ,CACnFC,EAAG,iDACD,cAEJN,EAAQE,QAAUE,G,kJCJZG,EAAYC,aAAW,kBAC3BC,YAAa,CACXC,KAAM,CACJC,QAAS,OACTC,cAAe,SACfC,WAAY,eAKLC,EAAgD,SAACtC,GAC5D,IAAMuC,EAAUR,IAEVS,EAAqC,aADtBC,cAAbC,SACiBC,MAAM,KAAK,GAHkC,ECvB5C,SAAC,GAOvB,IAAD,IANHT,YAMG,MANI,KAMJ,MALHU,kBAKG,MALU,MAKV,MAJHC,iBAIG,MAJS,EAIT,IACuBlB,WACxB,MAFC,mBACImB,EADJ,KACWC,EADX,OAIqBpB,WAAsC,MAJ3D,mBAIIqB,EAJJ,KAIUC,EAJV,KAMGC,EAAWvB,SAA0C,MAiB3D,OAhBAA,aAAgB,WACVuB,EAASC,SACXD,EAASC,QAAQC,aAEnBF,EAASC,QAAU,IAAIE,OAAOC,sBAC5B,gBAAER,EAAF,2BAAaC,EAASD,KACtB,CAAEZ,OAAMU,aAAYC,cANF,IASHU,EAAoBL,EAA7BC,QAKR,OAHIH,GACFO,EAAgBC,QAAQR,GAEnB,kBAAMO,EAAgBH,gBAC5B,CAACJ,EAAMd,EAAMU,EAAYC,IACrB,CAACI,EAASH,GDHIW,CAAa,CAAEZ,UAAW,IAJuB,mBAI/Da,EAJ+D,KAI1DZ,EAJ0D,OAK9CnB,YAAwB,GALsB,mBAK/DgC,EAL+D,KAKzDC,EALyD,KAgBtE,OAVAjC,aAAgB,WACVmB,IAAc,OAALA,QAAK,IAALA,OAAA,EAAAA,EAAOe,mBAAoB,GAAKF,GACtC3D,EAAM8D,YACX9D,EAAM+D,cAAgB/D,EAAM+D,cAAa,GACzCH,GAAQ,IAC8B,KAAxB,OAALd,QAAK,IAALA,OAAA,EAAAA,EAAOe,oBAA4BF,IAC5CC,GAAQ,GACR5D,EAAM+D,cAAgB/D,EAAM+D,cAAa,MAE1C,QAACjB,QAAD,IAACA,OAAD,EAACA,EAAOe,oBACPrB,EAEA,qCACGxC,EAAMgE,UACLhE,EAAMiE,UACJ,qBAAKC,UAAW3B,EAAQL,KAAxB,SACE,cAACiC,EAAA,EAAD,MAGF,sBAAKD,UAAW3B,EAAQL,KAAMkC,GAAG,uBAAuBV,IAAKA,EAA7D,UACG,IACD,cAAC,IAAD,OAGF,KACH1D,EAAMkB,YAMX,sBAAKgD,UAAW3B,EAAQL,KAAxB,UACGlC,EAAMkB,SACNlB,EAAMgE,UACLhE,EAAMiE,UACJ,cAACE,EAAA,EAAD,IAEA,sBAAKC,GAAG,uBAAuBV,IAAKA,EAAKW,MAAO,CAAEC,OAAQ,IAA1D,UACG,IACD,cAAC,IAAD,OAGF,U,uHE5DGC,EAA8B,SAACvE,GAI1C,OACE,eAAC,IAAD,CAAawE,WAAS,EAAtB,UACE,cAAC,IAAD,CAAYH,MAAO,CAAE1D,MAAO,SAAW8D,QAAQ,QAA/C,8BAGA,eAAC,IAAD,CACEC,QAAM,EACNjD,MAAOzB,EAAM2E,MACbC,SAXe,SAACC,GACpB7E,EAAM8E,SAASD,EAAME,OAAOtD,QAWxBuD,WAAY,CACVC,KAAM,QACNb,GAAI,SANR,UASE,wBAAQ3C,MAAOyD,IAAaC,cAA5B,6BACA,wBAAQ1D,MAAOyD,IAAaE,aAA5B,8BACCpF,EAAMqF,MACL,qCACE,wBAAQ5D,MAAOyD,IAAaI,UAA5B,0BACA,wBAAQ7D,MAAOyD,IAAaK,SAA5B,8BAEA,a,iCCpCZ,IAAIpE,EAAyBC,EAAQ,IAEjCC,EAA0BD,EAAQ,IAEtCE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAAQN,EAAwBD,EAAQ,IAIxCQ,GAAW,EAFMT,EAAuBC,EAAQ,KAElBM,SAAuBC,EAAME,cAAc,OAAQ,CACnFC,EAAG,4VACD,kBAEJN,EAAQE,QAAUE,G,iCCjBlB,IAAIT,EAAyBC,EAAQ,IAEjCC,EAA0BD,EAAQ,IAEtCE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAAQN,EAAwBD,EAAQ,IAIxCQ,GAAW,EAFMT,EAAuBC,EAAQ,KAElBM,SAAuBC,EAAME,cAAc,OAAQ,CACnFC,EAAG,mDACD,cAEJN,EAAQE,QAAUE,G,2OCbH4D,cAA4B7D,gBAAoB,OAAQ,CACrEG,EAAG,+FACD,wBCFW0D,cAA4B7D,gBAAoB,OAAQ,CACrEG,EAAG,wIACD,Y,QCFW0D,cAA4B7D,gBAAoB,OAAQ,CACrEG,EAAG,kGACD,yB,eCwDA2D,EAAkC9D,gBAAoB+D,EAAc,MACpEC,EAA2BhE,gBAAoBiE,EAA0B,MACzEC,EAAwClE,gBAAoBmE,EAA2B,MACvFC,EAAwBpE,cAAiB,SAAkB3B,EAAO0D,GACpE,IAAIsC,EAAqBhG,EAAMiG,YAC3BA,OAAqC,IAAvBD,EAAgCP,EAAqBO,EACnEzD,EAAUvC,EAAMuC,QAChB2D,EAAelG,EAAMW,MACrBA,OAAyB,IAAjBuF,EAA0B,YAAcA,EAChDC,EAAcnG,EAAMoG,KACpBC,OAA2B,IAAhBF,EAAyBR,EAAcQ,EAClDG,EAAuBtG,EAAMuG,cAC7BA,OAAyC,IAAzBD,GAA0CA,EAC1DE,EAAwBxG,EAAMyG,kBAC9BC,OAAkD,IAA1BF,EAAmCX,EAA2BW,EACtFxB,EAAahF,EAAMgF,WACnB2B,EAAc3G,EAAM4G,KACpBA,OAAuB,IAAhBD,EAAyB,SAAWA,EAC3CE,EAAQC,YAAyB9G,EAAO,CAAC,cAAe,UAAW,QAAS,OAAQ,gBAAiB,oBAAqB,aAAc,SAExIoG,EAAOG,EAAgBG,EAAwBL,EAC/CI,EAAoBF,EAAgBG,EAAwBT,EAChE,OAAoBtE,gBAAoBoF,IAAYC,YAAS,CAC3DC,KAAM,WACN1E,QAAS,CACPL,KAAMgF,YAAK3E,EAAQL,KAAMK,EAAQ,QAAQ4E,OAAOC,YAAWzG,KAAU4F,GAAiBhE,EAAQgE,eAC9Fc,QAAS9E,EAAQ8E,QACjBC,SAAU/E,EAAQ+E,UAEpB3G,MAAOA,EACPqE,WAAYgC,YAAS,CACnB,qBAAsBT,GACrBvB,GACHoB,KAAmBzE,eAAmByE,EAAM,CAC1CmB,cAAkCC,IAAxBpB,EAAKpG,MAAMuH,UAAmC,UAATX,EAAmBA,EAAOR,EAAKpG,MAAMuH,WAEtFtB,YAA0BtE,eAAmB8E,EAAmB,CAC9Dc,cAA+CC,IAArCf,EAAkBzG,MAAMuH,UAAmC,UAATX,EAAmBA,EAAOH,EAAkBzG,MAAMuH,WAEhH7D,IAAKA,GACJmD,OAiGUY,eA5LK,SAAgBC,GAClC,MAAO,CAELxF,KAAM,CACJvB,MAAO+G,EAAMC,QAAQC,KAAKC,WAI5BR,QAAS,GAGTC,SAAU,GAGVf,cAAe,GAGfuB,aAAc,CACZ,YAAa,CACXnH,MAAO+G,EAAMC,QAAQI,QAAQC,KAC7B,UAAW,CACTC,gBAAiBC,YAAKR,EAAMC,QAAQI,QAAQC,KAAMN,EAAMC,QAAQQ,OAAOC,cAEvE,uBAAwB,CACtBH,gBAAiB,iBAIvB,aAAc,CACZtH,MAAO+G,EAAMC,QAAQQ,OAAOb,WAKhCe,eAAgB,CACd,YAAa,CACX1H,MAAO+G,EAAMC,QAAQE,UAAUG,KAC/B,UAAW,CACTC,gBAAiBC,YAAKR,EAAMC,QAAQE,UAAUG,KAAMN,EAAMC,QAAQQ,OAAOC,cAEzE,uBAAwB,CACtBH,gBAAiB,iBAIvB,aAAc,CACZtH,MAAO+G,EAAMC,QAAQQ,OAAOb,cA8IF,CAChCrC,KAAM,eADOwC,CAEZ1B,GC3LYuC,EAhBE,CACfC,GAAI,UACJC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,KAAM,UACNC,KAAM,UACNC,KAAM,UACNC,KAAM,W,QCFD,IAAMC,EAAiB5B,YAAW,CACvCvF,KAAM,CACJvB,MAAO2H,EAAW,KAClB,YAAa,CACX3H,MAAO2H,EAAW,OAGtBjB,QAAS,IAPmBI,EAQ3B,SAACzH,GAAD,OAA0B,cAAC,EAAD,aAAUW,MAAM,WAAcX,OAW9CsJ,EAAS,SAAOtJ,GAC3B,IAAMuJ,EAAoBC,cADkD,EAE1C7H,YAAwB,GAFkB,mBAErE8H,EAFqE,KAE1DC,EAF0D,OAGxC/H,YAAwB,GAHgB,mBAGrEgI,EAHqE,KAGzDC,EAHyD,OAI1CjI,WAAyB,CACzDkI,QAAS,SAACA,GAAD,OACPA,IAAO,OAAKN,QAAL,IAAKA,OAAL,EAAKA,EAAmBM,UACjCC,IAAK,SAACA,GAAD,OACHA,IAAO,OAACP,QAAD,IAACA,OAAD,EAACA,EAAmBO,KAAiB,IAC5CA,IAAO,OAACP,QAAD,IAACA,OAAD,EAACA,EAAmBO,KAAiB,IAC9CC,QAAS,SAACA,GAAD,OACPA,KAAO,OAAMR,QAAN,IAAMA,OAAN,EAAMA,EAAmBQ,UAChCA,EAAU,KAAV,OAAiBR,QAAjB,IAAiBA,OAAjB,EAAiBA,EAAmBQ,UACtCC,SAAU,SAACA,GAAD,OACRA,IAAQ,OAAKT,QAAL,IAAKA,OAAL,EAAKA,EAAmBS,aAdwC,mBAIrEC,EAJqE,KAI1DC,EAJ0D,KAgB5EvI,aAAgB,WACd,GAAI3B,EAAMmK,KAAKC,OAAS,EAAG,CACzB,IAAMC,ECvCL,SACLC,EACAC,GAEA,IAAMC,EAAalJ,OAAOmJ,KAAKF,GAC/B,OAAOD,EAAMI,QAAO,SAACC,GAEnB,OAAOH,EAAWI,OAAM,SAACC,GAEvB,MAA4B,oBAAjBN,EAAQM,IACZN,EAAQM,GAAKF,EAAKE,UD6BNC,CAAY9K,EAAMmK,KAAMF,GAC3CjK,EAAM+K,gBAAgBV,MAEvB,CAACJ,EAAWjK,EAAMmK,OAyBrB,OACE,qCACE,cAACa,EAAA,EAAD,CACEC,QAAS,kBAAMrB,GAAeD,IAC9BuB,aAAW,SACXvK,MAAM,UACNiG,KAAK,QACLuE,UAAW,cAAC,IAAD,IALb,oBASA,eAACC,EAAA,EAAD,CAAUC,GAAI1B,EAAd,UACG3J,EAAMkB,SACP,cAACoK,EAAA,EAAD,IACA,cAACC,EAAA,EAAD,CACEC,QACE,cAACnC,EAAD,CACEhC,QAASoC,EACT7E,SA1CU,WASlBsF,EARGT,EAQU,CACXI,QAAS,SAACA,GAAD,OACPA,IAAO,OAAKN,QAAL,IAAKA,OAAL,EAAKA,EAAmBM,UACjCC,IAAK,SAACA,GAAD,OACHA,IAAO,OAACP,QAAD,IAACA,OAAD,EAACA,EAAmBO,KAAiB,IAC5CA,IAAO,OAACP,QAAD,IAACA,OAAD,EAACA,EAAmBO,KAAiB,IAC9CC,QAAS,SAACA,GAAD,OACPA,KAAO,OAAMR,QAAN,IAAMA,OAAN,EAAMA,EAAmBQ,UAChCA,EAAU,KAAV,OAAiBR,QAAjB,IAAiBA,OAAjB,EAAiBA,EAAmBQ,UACtCC,SAAU,SAACA,GAAD,OACRA,IAAQ,OAAKT,QAAL,IAAKA,OAAL,EAAKA,EAAmBS,YAjBvB,CACXH,QAAS,kBAAM,GACfE,QAAS,kBAAM,GACfD,IAAK,kBAAM,GACXE,SAAU,kBAAM,KAgBpBN,GAAcD,IAqBJxE,KAAK,YAGTwG,MAAM,qD,iQE1FHC,EAIR,SAAC,GAAiD,IAAD,IAA9CtH,EAA8C,EAA9CA,GAA8C,IAA1CmD,gBAA0C,MAA/B,UAA+B,EAApBoE,EAAoB,EAApBA,cACxBC,EAASC,cAATD,KAD4C,EAEnCE,YAAkB,CACjCC,UAAW,CAAE3H,MACb4H,YAAa,WACXC,GAAUC,IAEZC,QAAS,SAACC,GAAD,OAAWC,QAAQD,MAAMA,IAClCE,OAAQ,SAACC,EAAD,GAAsB,IAAD,EAAXX,EAAW,EAAXA,KAChBY,YAAkBD,EAAD,OAAQX,QAAR,IAAQA,GAAR,UAAQA,EAAMa,cAAd,aAAQ,EAAcC,aAPpCD,EAF6C,sBAY5B9K,YAAwB,GAZI,mBAY7CgL,EAZ6C,KAYvCC,EAZuC,OAa1BjL,YACpB,OAAJiK,QAAI,IAAJA,GAAA,UAAAA,EAAMiB,cAAN,mBAAcC,gBAAd,eAAwBC,KAAI,SAACC,GAAD,OAAQA,EAAGC,OAAKC,SAAS9I,MAAO,GAdV,mBAa7C8H,EAb6C,KAatCD,EAbsC,KAyBpD,OATAtK,aAAgB,WAAO,IAAD,EACiB,KAA7B,OAAJiK,QAAI,IAAJA,GAAA,UAAAA,EAAMiB,cAAN,eAAcC,YAAaH,IAC7BV,GACM,OAAJL,QAAI,IAAJA,GAAA,UAAAA,EAAMiB,cAAN,mBAAcC,gBAAd,eAAwBC,KAAI,SAACC,GAAD,OAAQA,EAAGC,OAAKC,SAAS9I,MAAO,GAE9DwI,GAAQ,MAET,CAAChB,IAGF,eAACuB,EAAA,EAAD,CAAYjC,aAAW,OAAOD,QAAS,kBAAMwB,KAAU7F,KAAK,QAA5D,UACGsF,EACC,cAAC,IAAD,CAAc3E,SAAUA,IAExB,cAAC,IAAD,CAAoBA,SAAUA,IAE/BoE,M,iBC7BMyB,EAA4C,SAAC,GAAY,IAAD,EAATJ,EAAS,EAATA,GACpDtF,EAAQ2F,cAER3M,EADU4M,YAAc5F,EAAM6F,YAAYC,GAAG,OAC3B,IAAM,IACxBC,GAAU,OAAFT,QAAE,IAAFA,OAAA,EAAAA,EAAIpM,UAAWC,IAAO6M,IAC9BC,GAAiB,OAAFX,QAAE,IAAFA,OAAA,EAAAA,EAAIY,UAAW,OAAS,OACvCC,EAAKhB,cACLiB,EAAI,OAAGD,QAAH,IAAGA,GAAH,UAAGA,EAAIE,WAAP,aAAG,EAAShB,KAAI,SAACC,GAAD,OAAQA,EAAGC,OAAKC,SAASF,EAAGC,KAStD,OACE,qCACE,eAAClN,EAAA,EAAD,CACEiO,cAAY,YACZtN,MAAOA,EACPE,OAAQoM,EAAGpM,OACXV,WAAY8M,EAAGY,SAJjB,UAME,eAACK,EAAA,EAAD,CACE/C,aAAW,UACX7G,MAAO,CAAE6J,cAAeP,EAAcxL,QAAS,SAC/CgM,UAAWC,IACXC,GAAE,mBAAcrB,EAAGC,KACnBqB,UAAU,OALZ,UAOE,eAACC,EAAA,EAAD,CACEJ,UAAU,KACVK,QAAQ,KACR7N,MAAO8M,EAAQ,gBAAkB,UAHnC,UAKGA,EAAQ,SAAW,QALtB,IAKgCT,EAAGyB,SAAU,OAG7C,eAACF,EAAA,EAAD,CACEG,MAAM,OACNF,QAAQ,QACR7N,MAAO8M,EAAQ,gBAAkB,UAHnC,qBAKWT,EAAGjD,QACZ,uBANF,eAOeiD,EAAGlD,IAPlB,SAQE,uBARF,gBASakD,EAAGhD,SAThB,KAUE,uBAVF,WAWWgD,EAAG2B,UAXd,kBAcF,uBACA,eAACC,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,gBAAxB,UACG,IACD,eAACP,EAAA,EAAD,CACEP,cAAY,YACZU,MAAM,QACNF,QAAQ,UACR7N,MAAO8M,EAAQ,gBAAkB,UAJnC,2BAMiBT,EAAG+B,cAEpB,sBAAK1K,MAAO,CAAE1D,MAAO,aAArB,UACE,cAAC,IAAD,CAAgB4G,SAAS,UAD3B,OAEGyF,QAFH,IAEGA,OAFH,EAEGA,EAAIgC,YACL,cAAC,IAAD,CAAkBzH,SAAS,UAH7B,OAIGyF,QAJH,IAIGA,OAJH,EAIGA,EAAIiC,4BAIX,eAACL,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,gBAAxB,UACE,8BACGhB,EAAO,cAAC9C,EAAA,EAAD,CAAQC,QAlEJ,WAClBzB,YAAa,2BACRwD,GADO,IAEVkC,YAAaC,IAAYC,OACzBC,UAAM7H,KAEH8H,YAAS,aA4DA,4BAAwD,OAElE,8BACE,cAAC,EAAD,CACElL,GAAI4I,EAAGC,IACP1F,SAAS,QACToE,eAAiB,OAAFqB,QAAE,IAAFA,OAAA,EAAAA,EAAIuC,aAAc,c,iCChG7C,gGAkDInE,EAAwBzJ,cAAiB,SAAkB3B,EAAO0D,GACpE,IAAIxC,EAAWlB,EAAMkB,SACjBqB,EAAUvC,EAAMuC,QAChB2B,EAAYlE,EAAMkE,UAClBsL,EAAwBxP,EAAMyP,gBAC9BC,OAAgD,IAA1BF,EAAmC,MAAQA,EACjEG,EAAmB3P,EAAMmO,UACzByB,OAAiC,IAArBD,EAA8B,MAAQA,EAClDE,EAAwB7P,EAAM8P,wBAC9BA,OAAoD,IAA1BD,GAA2CA,EACrEE,EAAS/P,EAAMqL,GACf2E,EAAUhQ,EAAMgQ,QAChBC,EAAYjQ,EAAMiQ,UAClBC,EAAalQ,EAAMkQ,WACnBC,EAASnQ,EAAMmQ,OACfC,EAAWpQ,EAAMoQ,SACjBC,EAAYrQ,EAAMqQ,UAClBhM,EAAQrE,EAAMqE,MACdiM,EAAiBtQ,EAAMuQ,QACvBA,OAA6B,IAAnBD,EAA4BE,IAASC,SAAWH,EAC1DI,EAAwB1Q,EAAM2Q,oBAC9BA,OAAgD,IAA1BD,EAAmCE,IAAaF,EACtE7J,EAAQC,YAAyB9G,EAAO,CAAC,WAAY,UAAW,YAAa,kBAAmB,YAAa,0BAA2B,KAAM,UAAW,YAAa,aAAc,SAAU,WAAY,YAAa,QAAS,UAAW,wBAE3O0H,EAAQ2F,cACRwD,EAAQlP,WACRmP,EAAanP,SAAa,MAC1BoP,EAAyBpP,WACzB8N,EAAiD,kBAAxBC,EAAmC,GAAGvI,OAAOuI,EAAqB,MAAQA,EACvG/N,aAAgB,WACd,OAAO,WACLqP,aAAaH,EAAM1N,YAEpB,IACH,IAAI8N,EAAyBvJ,EAAMwJ,sBAAwBpB,EACvDqB,EAAUxP,SAAa,MACvByP,EAAYC,YAAW3N,EAAKuN,EAAyBE,OAAU3J,GAE/D8J,EAA+B,SAAsCC,GACvE,OAAO,SAAUC,EAAiBC,GAChC,GAAIF,EAAU,CACZ,IAAIG,EAAOT,EAAyB,CAACE,EAAQhO,QAASqO,GAAmB,CAACA,EAAiBC,GACvFE,EAAQC,YAAeF,EAAM,GAC7B1O,EAAO2O,EAAM,GACbE,EAAcF,EAAM,QAGJnK,IAAhBqK,EACFN,EAASvO,GAETuO,EAASvO,EAAM6O,MAMnBC,EAAcR,GAA6B,SAAUtO,EAAM6O,GAC7D7O,EAAKqB,MAAMC,OAASmL,EAEhBO,GACFA,EAAQhN,EAAM6O,MAGdE,EAAiBT,GAA6B,SAAUtO,EAAM6O,GAChE,IAAIG,EAAgBlB,EAAW3N,QAAU2N,EAAW3N,QAAQ8O,aAAe,EAQvEC,EANsBC,YAAmB,CAC3C9N,MAAOA,EACPkM,QAASA,GACR,CACD6B,KAAM,UAEqC5B,SAE7C,GAAgB,SAAZD,EAAoB,CACtB,IAAI8B,EAAY3K,EAAM4K,YAAYC,sBAAsBP,GACxDhP,EAAKqB,MAAM6N,mBAAqB,GAAG/K,OAAOkL,EAAW,MACrDtB,EAAuB5N,QAAUkP,OAEjCrP,EAAKqB,MAAM6N,mBAAmD,kBAAvBA,EAAkCA,EAAqB,GAAG/K,OAAO+K,EAAoB,MAG9HlP,EAAKqB,MAAMC,OAAS,GAAG6C,OAAO6K,EAAe,MAEzC9B,GACFA,EAAWlN,EAAM6O,MAGjBW,EAAgBlB,GAA6B,SAAUtO,EAAM6O,GAC/D7O,EAAKqB,MAAMC,OAAS,OAEhB2L,GACFA,EAAUjN,EAAM6O,MAGhBY,EAAanB,GAA6B,SAAUtO,GACtD,IAAIgP,EAAgBlB,EAAW3N,QAAU2N,EAAW3N,QAAQ8O,aAAe,EAC3EjP,EAAKqB,MAAMC,OAAS,GAAG6C,OAAO6K,EAAe,MAEzC7B,GACFA,EAAOnN,MAGP0P,EAAepB,EAA6BlB,GAC5CuC,EAAgBrB,GAA6B,SAAUtO,GACzD,IAAIgP,EAAgBlB,EAAW3N,QAAU2N,EAAW3N,QAAQ8O,aAAe,EAQvEC,EANuBC,YAAmB,CAC5C9N,MAAOA,EACPkM,QAASA,GACR,CACD6B,KAAM,SAEsC5B,SAE9C,GAAgB,SAAZD,EAAoB,CACtB,IAAI8B,EAAY3K,EAAM4K,YAAYC,sBAAsBP,GACxDhP,EAAKqB,MAAM6N,mBAAqB,GAAG/K,OAAOkL,EAAW,MACrDtB,EAAuB5N,QAAUkP,OAEjCrP,EAAKqB,MAAM6N,mBAAmD,kBAAvBA,EAAkCA,EAAqB,GAAG/K,OAAO+K,EAAoB,MAG9HlP,EAAKqB,MAAMC,OAASmL,EAEhBY,GACFA,EAAUrN,MAYd,OAAoBrB,gBAAoBgP,EAAqB3J,YAAS,CACpEqE,GAAI0E,EACJC,QAAS8B,EACT7B,UAAWuC,EACXtC,WAAY6B,EACZ5B,OAAQsC,EACRrC,SAAUsC,EACVrC,UAAWsC,EACXC,eAhBmB,SAAwBC,EAAYC,GACvD,IAAIC,EAAO9B,EAAyB4B,EAAaC,EAEjC,SAAZvC,IACFM,EAAM1N,QAAU6P,WAAWD,EAAMhC,EAAuB5N,SAAW,KAarEgO,QAASF,EAAyBE,OAAU3J,EAC5C+I,QAAqB,SAAZA,EAAqB,KAAOA,GACpC1J,IAAQ,SAAUoM,EAAOC,GAC1B,OAAoBvR,gBAAoBiO,EAAW5I,YAAS,CAC1D9C,UAAWgD,YAAK3E,EAAQsM,UAAW3K,EAAW,CAC5C,QAAW3B,EAAQ4Q,QACnB,QAAWpD,GAA8B,QAApBN,GAA6BlN,EAAQ6Q,QAC1DH,IACF5O,MAAO2C,YAAS,CACdqM,UAAW5D,GACVpL,GACHX,IAAK0N,GACJ8B,GAA0BvR,gBAAoB,MAAO,CACtDuC,UAAW3B,EAAQ+Q,QACnB5P,IAAKoN,GACSnP,gBAAoB,MAAO,CACzCuC,UAAW3B,EAAQgR,cAClBrS,WAiGPkK,EAASoI,gBAAiB,EACX/L,iBA5SK,SAAgBC,GAClC,MAAO,CAELmH,UAAW,CACTvK,OAAQ,EACRmP,SAAU,SACVC,WAAYhM,EAAM4K,YAAYqB,OAAO,WAIvCR,QAAS,CACP7O,OAAQ,OACRmP,SAAU,WAIZL,OAAQ,CACNQ,WAAY,UAIdN,QAAS,CAEPnR,QAAS,QAIXoR,aAAc,CACZ7S,MAAO,WAgRqB,CAChCuE,KAAM,eADOwC,CAEZ2D,I,4MCnKYyI,UAjI8B,WAAO,IAAD,QAC3ChG,EAAKhB,cADsC,EAEvBlL,WACxBuD,IAAaC,eAHkC,mBAE1CR,EAF0C,KAEnCG,EAFmC,OAKfnD,WAAuB,GALR,mBAK1CmS,EAL0C,KAK/BC,EAL+B,OAMLC,YAAmB,CAC7DjI,UAAW,CACTkI,OAAQ,EACRC,MAAO,EACPC,QAASjP,IAAaC,cACtBiP,KAAI,OAAEvG,QAAF,IAAEA,OAAF,EAAEA,EAAIZ,IACVW,cAAUpG,GAEZ2E,QAAS,SAACC,GAAD,OAAWC,QAAQD,MAAMA,IAClCJ,YAAa,YAAqB,IAAlBqI,EAAiB,EAAjBA,WACdN,EAAY,OAACM,QAAD,IAACA,OAAD,EAACA,EAAYP,cAVrBlI,EANyC,EAMzCA,KAAM0I,EANmC,EAMnCA,QAASlI,EAN0B,EAM1BA,MAAOtI,EANmB,EAMnBA,UANmB,EAmBPnC,YAAwB,GAnBjB,mBAmB1C4S,EAnB0C,KAmB3BC,EAnB2B,OAoBH7S,YAAwB,GApBrB,mBAoB1C8S,EApB0C,KAoBzBC,EApByB,OAqBX/S,YAAwB,GArBb,mBAqB1CgT,EArB0C,KAqB7BC,EArB6B,KAkDjD,GAxBAjT,aAAgB,WAAO,IAAD,IACdkT,EAAQ,uCAAG,oCAAAC,EAAA,6DACfF,GAAe,GADA,kBAG4C9Q,EAAU,CACjEiI,UAAW,CACToI,QAASxP,EACTuP,MAAK,OAAEtI,QAAF,IAAEA,GAAF,UAAEA,EAAMyI,kBAAR,iBAAE,EAAkBtG,WAApB,aAAE,EAAuB3D,OAC9BwD,SAAU2G,KAPD,OAGPQ,EAHO,OAUbH,GAAe,IACf,UAAAG,EAAOnJ,KAAKyI,kBAAZ,eAAwBP,aAAcA,GACpCC,EAAY,UAACgB,EAAOnJ,KAAKyI,kBAAb,aAAC,EAAwBP,WAZ1B,gDAcbzH,QAAQD,MAAR,MAda,yDAAH,sDAkBN,OAAJR,QAAI,IAAJA,GAAA,UAAAA,EAAMyI,kBAAN,mBAAkBtG,WAAlB,eAAuB3D,SAAUtG,GAC9B+Q,MAEN,CAAClQ,IAEA2P,EACF,OAAO,cAAC,IAAD,IAGT,KAAI,OAACzG,QAAD,IAACA,OAAD,EAACA,EAAIZ,MAAOb,EAAO,OAAO,wCAE9B,GAAsC,KAA9B,OAAJR,QAAI,IAAJA,GAAA,UAAAA,EAAMyI,kBAAN,mBAAkBtG,WAAlB,eAAuB3D,QACzB,OAAO,gEAET,UAAIwB,QAAJ,IAAIA,GAAJ,UAAIA,EAAMyI,kBAAV,iBAAI,EAAkBtG,WAAtB,aAAI,EAAuB3D,OAAQ,CAAC,IAAD,QAC3B4K,EAAe,uCAAG,sCAAAF,EAAA,yDACtBJ,GAAmB,IACf5Q,KAAS,OAAI8H,QAAJ,IAAIA,GAAJ,UAAIA,EAAMyI,kBAAV,iBAAI,EAAkBtG,WAAtB,aAAI,EAAuB3D,QAFlB,0CAIZtG,EAAU,CACdiI,UAAW,CACTkI,OAAM,OAAErI,QAAF,IAAEA,GAAF,UAAEA,EAAMyI,kBAAR,iBAAE,EAAkBtG,WAApB,aAAE,EAAuB3D,OAC/B+J,QAASxP,EACTiJ,SAAU2G,KARI,OAWlBG,GAAmB,IACnB,UAAA9I,EAAKyI,kBAAL,eAAiBP,aAAcA,GAC7BC,EAAY,UAACnI,EAAKyI,kBAAN,aAAC,EAAiBP,WAbd,gDAelBY,GAAmB,GACnBrI,QAAQD,MAAR,MAhBkB,yDAAH,qDAoBrB,OACE,eAAC,IAAD,CAAW+B,UAAU,OAAO8G,SAAS,KAArC,UACE,cAAC,IAAD,IACA,cAAC,IAAD,IACA,uBACA,cAAC,IAAD,CAAYtU,MAAM,UAAUwN,UAAU,KAAKK,QAAQ,KAAnD,wCAGA,uBACA,cAAC,IAAD,CAAO1J,SAAUA,EAAUH,MAAOA,IAClC,cAAC,IAAD,IACA,cAAC,IAAD,CACE6G,QACE,cAAC,IAAD,CACEnE,QAASkN,EACT3P,SAzEU,WACpB4P,GAAkBD,IAyERtP,KAAK,YAGTwG,MAAM,kCAEPkJ,EACC,cAAC,IAAD,IAEA,eAAC,IAAD,CACE7Q,UAAWkR,EACXhR,WAAe,OAAJ4H,QAAI,IAAJA,GAAA,UAAAA,EAAMyI,kBAAN,mBAAkBtG,WAAlB,eAAuB3D,QAAS0J,EAC3C7P,UAAWwQ,EAHb,UAKG,IALH,OAMG7I,QANH,IAMGA,GANH,UAMGA,EAAMyI,kBANT,iBAMG,EAAkBtG,WANrB,aAMG,EACGrD,QAAO,SAACsC,GACR,OAAIuH,GACO,OAAFvH,QAAE,IAAFA,OAAA,EAAAA,EAAIY,YAAa2G,EAEjBvH,KAGVD,KAAI,SAACC,GAAD,OACH,cAAC,IAAD,CAA6BA,GAAIA,GAAlBA,GAAMA,EAAGC,cAOtC,OAAO","file":"static/js/6.66a9937b.chunk.js","sourcesContent":["import * as React from 'react';\nimport Box from '@material-ui/core/Box';\nimport { TypeAd } from '../generated/graphql';\n\ninterface BoxProps {\n  width: number;\n  typeAd: TypeAd;\n  children: React.ReactNode;\n  notActive?: boolean;\n}\n\nexport const StyledBox: React.FC<BoxProps> = (props) => {\n  const sellColor = props.notActive ? '#b2b2b2' : 'white';\n  const buyColor = props.notActive ? '#8a425a' : 'primary.main';\n\n  return (\n    <Box\n      boxShadow={3}\n      p={2}\n      m={2}\n      mt={2}\n      px={2}\n      pt={2}\n      width={props.width}\n      color={props.typeAd === TypeAd.Sell ? 'primary.main' : 'white'}\n      borderColor={props.typeAd === TypeAd.Sell ? 'white' : 'primary.main'}\n      bgcolor={props.typeAd === TypeAd.Sell ? sellColor : buyColor}\n      borderRadius={16}\n    >\n      {props.children}\n    </Box>\n  );\n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n}), 'ExpandMore');\n\nexports.default = _default;","import { useLocation } from '@reach/router';\nimport * as React from 'react';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { useIntersect } from '../utils/useIntersectionHook';\nimport { makeStyles, createStyles } from '@material-ui/core';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\ninterface InfiniteScrollProps {\n  children: React.ReactNode;\n  fetchMore: () => void;\n  isVisible: boolean;\n  isLoading: boolean;\n  setIsLoading?: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n    },\n  })\n);\n\nexport const InfiniteScroll: React.FC<InfiniteScrollProps> = (props) => {\n  const classes = useStyles();\n  const { pathname } = useLocation();\n  const message = pathname.split('/')[1] === 'messaggi';\n  const [ref, entry] = useIntersect({ threshold: 0 });\n  const [isOk, setIsOk] = React.useState<boolean>(true);\n  React.useEffect(() => {\n    if (entry && entry?.intersectionRatio > 0 && isOk) {\n      void props.fetchMore();\n      props.setIsLoading && props.setIsLoading(true);\n      setIsOk(false);\n    } else if (entry?.intersectionRatio === 0 && !isOk) {\n      setIsOk(true);\n      props.setIsLoading && props.setIsLoading(false);\n    }\n  }, [entry?.intersectionRatio]);\n  if (message) {\n    return (\n      <>\n        {props.isVisible ? (\n          props.isLoading ? (\n            <div className={classes.root}>\n              <CircularProgress />\n            </div>\n          ) : (\n            <div className={classes.root} id='page-bottom-boundary' ref={ref}>\n              {' '}\n              <ExpandMoreIcon />\n            </div>\n          )\n        ) : null}\n        {props.children}\n      </>\n    );\n  }\n\n  return (\n    <div className={classes.root}>\n      {props.children}\n      {props.isVisible ? (\n        props.isLoading ? (\n          <CircularProgress />\n        ) : (\n          <div id='page-bottom-boundary' ref={ref} style={{ height: 30 }}>\n            {' '}\n            <ExpandMoreIcon />\n          </div>\n        )\n      ) : null}\n    </div>\n  );\n};\n","import * as React from 'react';\n\nexport const useIntersect = ({\n  root = null,\n  rootMargin = '0px',\n  threshold = 0,\n}): [\n  React.Dispatch<React.SetStateAction<HTMLDivElement | null>>,\n  IntersectionObserverEntry | null\n] => {\n  const [entry, setEntry] = React.useState<IntersectionObserverEntry | null>(\n    null\n  );\n  const [node, setNode] = React.useState<HTMLDivElement | null>(null);\n\n  const observer = React.useRef<IntersectionObserver | null>(null);\n  React.useEffect(() => {\n    if (observer.current) {\n      observer.current.disconnect();\n    }\n    observer.current = new window.IntersectionObserver(\n      ([entry]) => setEntry(entry),\n      { root, rootMargin, threshold }\n    );\n\n    const { current: currentObserver } = observer;\n\n    if (node) {\n      currentObserver.observe(node);\n    }\n    return () => currentObserver.disconnect();\n  }, [node, root, rootMargin, threshold]);\n  return [setNode, entry];\n};\n","/* eslint-disable @typescript-eslint/no-unsafe-member-access */\nimport * as React from 'react';\nimport Select from '@material-ui/core/Select';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport { QueryOrderBy } from '../../generated/graphql';\n\ninterface OrderProps {\n  setOrder: React.Dispatch<React.SetStateAction<QueryOrderBy>>;\n  order: QueryOrderBy;\n  isAds?: boolean;\n}\n\nexport const Order: React.FC<OrderProps> = (props) => {\n  const handleChange = (event: React.ChangeEvent<{ value: unknown }>) => {\n    props.setOrder(event.target.value as QueryOrderBy);\n  };\n  return (\n    <FormControl fullWidth>\n      <InputLabel style={{ color: 'black' }} htmlFor='order'>\n        Ordine risultati\n      </InputLabel>\n      <Select\n        native\n        value={props.order}\n        onChange={handleChange}\n        inputProps={{\n          name: 'order',\n          id: 'order',\n        }}\n      >\n        <option value={QueryOrderBy.CreatedAtDesc}>Dal piu recente</option>\n        <option value={QueryOrderBy.CreatedAtAsc}>Dal meno recente</option>\n        {props.isAds ? (\n          <>\n            <option value={QueryOrderBy.PriceDesc}>Dal piu caro</option>\n            <option value={QueryOrderBy.PriceAsc}>Dal meno caro</option>\n          </>\n        ) : null}\n      </Select>\n    </FormControl>\n  );\n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z\"\n}), 'FavoriteBorder');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z\"\n}), 'FilterList');\n\nexports.default = _default;","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"\n}), 'CheckBoxOutlineBlank');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n}), 'CheckBox');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z\"\n}), 'IndeterminateCheckBox');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport SwitchBase from '../internal/SwitchBase';\nimport CheckBoxOutlineBlankIcon from '../internal/svg-icons/CheckBoxOutlineBlank';\nimport CheckBoxIcon from '../internal/svg-icons/CheckBox';\nimport { fade } from '../styles/colorManipulator';\nimport IndeterminateCheckBoxIcon from '../internal/svg-icons/IndeterminateCheckBox';\nimport capitalize from '../utils/capitalize';\nimport withStyles from '../styles/withStyles';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      color: theme.palette.text.secondary\n    },\n\n    /* Pseudo-class applied to the root element if `checked={true}`. */\n    checked: {},\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Pseudo-class applied to the root element if `indeterminate={true}`. */\n    indeterminate: {},\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      '&$checked': {\n        color: theme.palette.primary.main,\n        '&:hover': {\n          backgroundColor: fade(theme.palette.primary.main, theme.palette.action.hoverOpacity),\n          // Reset on touch devices, it doesn't add specificity\n          '@media (hover: none)': {\n            backgroundColor: 'transparent'\n          }\n        }\n      },\n      '&$disabled': {\n        color: theme.palette.action.disabled\n      }\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      '&$checked': {\n        color: theme.palette.secondary.main,\n        '&:hover': {\n          backgroundColor: fade(theme.palette.secondary.main, theme.palette.action.hoverOpacity),\n          // Reset on touch devices, it doesn't add specificity\n          '@media (hover: none)': {\n            backgroundColor: 'transparent'\n          }\n        }\n      },\n      '&$disabled': {\n        color: theme.palette.action.disabled\n      }\n    }\n  };\n};\nvar defaultCheckedIcon = /*#__PURE__*/React.createElement(CheckBoxIcon, null);\nvar defaultIcon = /*#__PURE__*/React.createElement(CheckBoxOutlineBlankIcon, null);\nvar defaultIndeterminateIcon = /*#__PURE__*/React.createElement(IndeterminateCheckBoxIcon, null);\nvar Checkbox = /*#__PURE__*/React.forwardRef(function Checkbox(props, ref) {\n  var _props$checkedIcon = props.checkedIcon,\n      checkedIcon = _props$checkedIcon === void 0 ? defaultCheckedIcon : _props$checkedIcon,\n      classes = props.classes,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'secondary' : _props$color,\n      _props$icon = props.icon,\n      iconProp = _props$icon === void 0 ? defaultIcon : _props$icon,\n      _props$indeterminate = props.indeterminate,\n      indeterminate = _props$indeterminate === void 0 ? false : _props$indeterminate,\n      _props$indeterminateI = props.indeterminateIcon,\n      indeterminateIconProp = _props$indeterminateI === void 0 ? defaultIndeterminateIcon : _props$indeterminateI,\n      inputProps = props.inputProps,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      other = _objectWithoutProperties(props, [\"checkedIcon\", \"classes\", \"color\", \"icon\", \"indeterminate\", \"indeterminateIcon\", \"inputProps\", \"size\"]);\n\n  var icon = indeterminate ? indeterminateIconProp : iconProp;\n  var indeterminateIcon = indeterminate ? indeterminateIconProp : checkedIcon;\n  return /*#__PURE__*/React.createElement(SwitchBase, _extends({\n    type: \"checkbox\",\n    classes: {\n      root: clsx(classes.root, classes[\"color\".concat(capitalize(color))], indeterminate && classes.indeterminate),\n      checked: classes.checked,\n      disabled: classes.disabled\n    },\n    color: color,\n    inputProps: _extends({\n      'data-indeterminate': indeterminate\n    }, inputProps),\n    icon: /*#__PURE__*/React.cloneElement(icon, {\n      fontSize: icon.props.fontSize === undefined && size === \"small\" ? size : icon.props.fontSize\n    }),\n    checkedIcon: /*#__PURE__*/React.cloneElement(indeterminateIcon, {\n      fontSize: indeterminateIcon.props.fontSize === undefined && size === \"small\" ? size : indeterminateIcon.props.fontSize\n    }),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Checkbox.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * If `true`, the component is checked.\n   */\n  checked: PropTypes.bool,\n\n  /**\n   * The icon to display when the component is checked.\n   */\n  checkedIcon: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['default', 'primary', 'secondary']),\n\n  /**\n   * If `true`, the checkbox will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the ripple effect will be disabled.\n   */\n  disableRipple: PropTypes.bool,\n\n  /**\n   * The icon to display when the component is unchecked.\n   */\n  icon: PropTypes.node,\n\n  /**\n   * The id of the `input` element.\n   */\n  id: PropTypes.string,\n\n  /**\n   * If `true`, the component appears indeterminate.\n   * This does not set the native input element to indeterminate due\n   * to inconsistent behavior across browsers.\n   * However, we set a `data-indeterminate` attribute on the input.\n   */\n  indeterminate: PropTypes.bool,\n\n  /**\n   * The icon to display when the component is indeterminate.\n   */\n  indeterminateIcon: PropTypes.node,\n\n  /**\n   * [Attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Attributes) applied to the `input` element.\n   */\n  inputProps: PropTypes.object,\n\n  /**\n   * Pass a ref to the `input` element.\n   */\n  inputRef: refType,\n\n  /**\n   * Callback fired when the state is changed.\n   *\n   * @param {object} event The event source of the callback.\n   * You can pull out the new checked state by accessing `event.target.checked` (boolean).\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * If `true`, the `input` element will be required.\n   */\n  required: PropTypes.bool,\n\n  /**\n   * The size of the checkbox.\n   * `small` is equivalent to the dense checkbox styling.\n   */\n  size: PropTypes.oneOf(['medium', 'small']),\n\n  /**\n   * The value of the component. The DOM API casts this to a string.\n   * The browser uses \"on\" as the default value.\n   */\n  value: PropTypes.any\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCheckbox'\n})(Checkbox);","var deepPurple = {\n  50: '#ede7f6',\n  100: '#d1c4e9',\n  200: '#b39ddb',\n  300: '#9575cd',\n  400: '#7e57c2',\n  500: '#673ab7',\n  600: '#5e35b1',\n  700: '#512da8',\n  800: '#4527a0',\n  900: '#311b92',\n  A100: '#b388ff',\n  A200: '#7c4dff',\n  A400: '#651fff',\n  A700: '#6200ea'\n};\nexport default deepPurple;","import * as React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Collapse from '@material-ui/core/Collapse';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport Divider from '@material-ui/core/Divider';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox, { CheckboxProps } from '@material-ui/core/Checkbox';\nimport { withStyles } from '@material-ui/core/styles';\nimport { deepPurple } from '@material-ui/core/colors';\nimport { searchedWine } from '../../cache';\nimport { IFilters, multiFilter } from '../../utils/multiFilter';\n\nexport const PurpleCheckbox = withStyles({\n  root: {\n    color: deepPurple[400],\n    '&$checked': {\n      color: deepPurple[600],\n    },\n  },\n  checked: {},\n})((props: CheckboxProps) => <Checkbox color='default' {...props} />);\n\ninterface FilterProps<T, Y> {\n  list: Array<T>;\n  filteredList?: Array<Y>;\n  setFilteredList: React.Dispatch<\n    React.SetStateAction<Array<any> | undefined | null>\n  >;\n  children?: React.ReactNode;\n}\n\nexport const Filter = <T, Y>(props: FilterProps<T, Y>): React.ReactElement => {\n  const searchedWineCache = searchedWine();\n  const [isShowAll, setIsShowAll] = React.useState<boolean>(false);\n  const [showFilter, setShowFilter] = React.useState<boolean>(false);\n  const [filterAds, setFilterAds] = React.useState<IFilters>({\n    priceTo: (priceTo: number) =>\n      priceTo <= (searchedWineCache?.priceTo as number),\n    abv: (abv: number) =>\n      abv >= (searchedWineCache?.abv as number) - 0.5 ||\n      abv <= (searchedWineCache?.abv as number) + 0.5,\n    harvest: (harvest: number) =>\n      harvest === (searchedWineCache?.harvest as number) ||\n      harvest - 1 === (searchedWineCache?.harvest as number),\n    litersTo: (litersTo: number) =>\n      litersTo >= (searchedWineCache?.litersTo as number),\n  });\n  React.useEffect(() => {\n    if (props.list.length > 0) {\n      const filtredAds = multiFilter(props.list, filterAds);\n      props.setFilteredList(filtredAds);\n    }\n  }, [filterAds, props.list]);\n  const handleShowAll = () => {\n    if (!isShowAll) {\n      setFilterAds({\n        priceTo: () => true,\n        harvest: () => true,\n        abv: () => true,\n        litersTo: () => true,\n      });\n    } else {\n      setFilterAds({\n        priceTo: (priceTo: number) =>\n          priceTo <= (searchedWineCache?.priceTo as number),\n        abv: (abv: number) =>\n          abv >= (searchedWineCache?.abv as number) - 0.5 ||\n          abv <= (searchedWineCache?.abv as number) + 0.5,\n        harvest: (harvest: number) =>\n          harvest === (searchedWineCache?.harvest as number) ||\n          harvest - 1 === (searchedWineCache?.harvest as number),\n        litersTo: (litersTo: number) =>\n          litersTo >= (searchedWineCache?.litersTo as number),\n      });\n    }\n    setIsShowAll(!isShowAll);\n  };\n  return (\n    <>\n      <Button\n        onClick={() => setShowFilter(!showFilter)}\n        aria-label='filter'\n        color='primary'\n        size='large'\n        startIcon={<FilterListIcon />}\n      >\n        Filtri\n      </Button>\n      <Collapse in={showFilter}>\n        {props.children}\n        <Divider />\n        <FormControlLabel\n          control={\n            <PurpleCheckbox\n              checked={isShowAll}\n              onChange={handleShowAll}\n              name='showAll'\n            />\n          }\n          label='Mostra tutti gli annunci per questo vino'\n        />\n      </Collapse>\n    </>\n  );\n};\n","export interface IFilters {\n  [key: string]: (value: any) => boolean;\n}\n\ninterface IArray {\n  [key: string]: any;\n}\n\n// function taken from https://gist.github.com/jherax/f11d669ba286f21b7a2dcff69621eb72\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport function multiFilter(\n  array: Array<IArray>,\n  filters: IFilters\n): Array<IArray> {\n  const filterKeys = Object.keys(filters);\n  return array.filter((item) => {\n    // validates all filter criteria\n    return filterKeys.every((key) => {\n      // ignores non-function predicates\n      if (typeof filters[key] !== 'function') return true;\n      return filters[key](item[key]);\n    });\n  });\n}\n","import * as React from 'react';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport IconButton from '@material-ui/core/IconButton';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport { useSaveAdMutation, useMyInfoQuery } from '../generated/graphql';\nimport { updateCacheSaveAd } from '../utils/updateCache';\n\ntype FontSize = 'small' | 'inherit' | 'default' | 'large';\n\nexport const FavoriteButton: React.FC<{\n  id: string;\n  timesFavorite: number;\n  fontSize?: FontSize;\n}> = ({ id, fontSize = 'default', timesFavorite }) => {\n  const { data } = useMyInfoQuery();\n  const [saveAd] = useSaveAdMutation({\n    variables: { id },\n    onCompleted: () => {\n      setIsFav(!isFav);\n    },\n    onError: (error) => console.error(error),\n    update: (cache, { data }) => {\n      updateCacheSaveAd(cache, data?.saveAd?.response);\n    },\n  });\n  const [stop, setStop] = React.useState<boolean>(false);\n  const [isFav, setIsFav] = React.useState<boolean>(\n    data?.myInfo?.savedAds?.map((ad) => ad._id).includes(id) || false\n  );\n  React.useEffect(() => {\n    if (data?.myInfo?.savedAds && !stop) {\n      setIsFav(\n        data?.myInfo?.savedAds?.map((ad) => ad._id).includes(id) || false\n      );\n      setStop(true);\n    }\n  }, [data]);\n\n  return (\n    <IconButton aria-label='save' onClick={() => saveAd()} size='small'>\n      {isFav ? (\n        <FavoriteIcon fontSize={fontSize} />\n      ) : (\n        <FavoriteBorderIcon fontSize={fontSize} />\n      )}\n      {timesFavorite}\n    </IconButton>\n  );\n};\n","import * as React from 'react';\nimport { StyledBox } from '../../containers/StyledBox';\nimport Typography from '@material-ui/core/Typography';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport Link from '@material-ui/core/Link';\nimport { Link as RouterLink, navigate } from '@reach/router';\nimport { TypeAd, TypeProduct } from '../../generated/graphql';\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { AdsWineResult } from '../../types';\nimport Grid from '@material-ui/core/Grid';\nimport { HandshakeOutline } from 'mdi-material-ui';\nimport { FavoriteButton } from '../../containers/FavoriteButton';\nimport { Button } from '@material-ui/core';\nimport { myInfo, searchedWine } from '../../cache';\n\nexport const CardWine: React.FC<{ ad: AdsWineResult }> = ({ ad }) => {\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.up('sm'));\n  const width = matches ? 400 : 250;\n  const isBuy = ad?.typeAd === TypeAd.Buy ? true : false;\n  const pointerEvent = ad?.isActive ? 'auto' : 'none';\n  const me = myInfo();\n  const myAd = me?.ads?.map((ad) => ad._id).includes(ad._id);\n  const handleClick = () => {\n    searchedWine({\n      ...ad,\n      typeProduct: TypeProduct.AdWine,\n      wine: undefined,\n    });\n    void navigate('/annunci');\n  };\n  return (\n    <>\n      <StyledBox\n        data-testid='card-wine'\n        width={width}\n        typeAd={ad.typeAd}\n        notActive={!ad.isActive}\n      >\n        <Link\n          aria-label='link-ad'\n          style={{ pointerEvents: pointerEvent, display: 'block' }}\n          component={RouterLink}\n          to={`/annunci/${ad._id}`}\n          underline='none'\n        >\n          <Typography\n            component='h5'\n            variant='h6'\n            color={isBuy ? 'textSecondary' : 'primary'}\n          >\n            {isBuy ? 'Compro' : 'Vendo'} {ad.wineName}{' '}\n            {/* {ad.wine.denominazioneZona} */}\n          </Typography>\n          <Typography\n            align='left'\n            variant='body1'\n            color={isBuy ? 'textSecondary' : 'primary'}\n          >\n            Annata: {ad.harvest}\n            <br />\n            Gradazione: {ad.abv} % Vol\n            <br />\n            Quantità: {ad.litersTo} l\n            <br />\n            Prezzo: {ad.priceFrom} €/l\n          </Typography>\n        </Link>\n        <br />\n        <Grid container justify='space-between'>\n          {' '}\n          <Typography\n            data-testid='published'\n            align='right'\n            variant='caption'\n            color={isBuy ? 'textSecondary' : 'primary'}\n          >\n            pubblicato il {ad.datePosted}\n          </Typography>\n          <div style={{ color: 'secondary' }}>\n            <VisibilityIcon fontSize='small' />\n            {ad?.numberViews}\n            <HandshakeOutline fontSize='small' />\n            {ad?.activeNegotiations}\n          </div>\n        </Grid>\n      </StyledBox>\n      <Grid container justify='space-between'>\n        <div>\n          {myAd ? <Button onClick={handleClick}>Cerca di nuovo</Button> : null}\n        </div>\n        <div>\n          <FavoriteButton\n            id={ad._id}\n            fontSize='small'\n            timesFavorite={ad?.savedTimes || 0}\n          />\n        </div>\n\n        {/* <Typography align='right' variant='caption'></Typography> */}\n      </Grid>\n    </>\n  );\n};\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { Transition } from 'react-transition-group';\nimport withStyles from '../styles/withStyles';\nimport { duration } from '../styles/transitions';\nimport { getTransitionProps } from '../transitions/utils';\nimport useTheme from '../styles/useTheme';\nimport { useForkRef } from '../utils';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the container element. */\n    container: {\n      height: 0,\n      overflow: 'hidden',\n      transition: theme.transitions.create('height')\n    },\n\n    /* Styles applied to the container element when the transition has entered. */\n    entered: {\n      height: 'auto',\n      overflow: 'visible'\n    },\n\n    /* Styles applied to the container element when the transition has exited and `collapsedHeight` != 0px. */\n    hidden: {\n      visibility: 'hidden'\n    },\n\n    /* Styles applied to the outer wrapper element. */\n    wrapper: {\n      // Hack to get children with a negative margin to not falsify the height computation.\n      display: 'flex'\n    },\n\n    /* Styles applied to the inner wrapper element. */\n    wrapperInner: {\n      width: '100%'\n    }\n  };\n};\n/**\n * The Collapse transition is used by the\n * [Vertical Stepper](/components/steppers/#vertical-stepper) StepContent component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nvar Collapse = /*#__PURE__*/React.forwardRef(function Collapse(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$collapsedHeigh = props.collapsedHeight,\n      collapsedHeightProp = _props$collapsedHeigh === void 0 ? '0px' : _props$collapsedHeigh,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      _props$disableStrictM = props.disableStrictModeCompat,\n      disableStrictModeCompat = _props$disableStrictM === void 0 ? false : _props$disableStrictM,\n      inProp = props.in,\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onExit = props.onExit,\n      onExited = props.onExited,\n      onExiting = props.onExiting,\n      style = props.style,\n      _props$timeout = props.timeout,\n      timeout = _props$timeout === void 0 ? duration.standard : _props$timeout,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Transition : _props$TransitionComp,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"collapsedHeight\", \"component\", \"disableStrictModeCompat\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"style\", \"timeout\", \"TransitionComponent\"]);\n\n  var theme = useTheme();\n  var timer = React.useRef();\n  var wrapperRef = React.useRef(null);\n  var autoTransitionDuration = React.useRef();\n  var collapsedHeight = typeof collapsedHeightProp === 'number' ? \"\".concat(collapsedHeightProp, \"px\") : collapsedHeightProp;\n  React.useEffect(function () {\n    return function () {\n      clearTimeout(timer.current);\n    };\n  }, []);\n  var enableStrictModeCompat = theme.unstable_strictMode && !disableStrictModeCompat;\n  var nodeRef = React.useRef(null);\n  var handleRef = useForkRef(ref, enableStrictModeCompat ? nodeRef : undefined);\n\n  var normalizedTransitionCallback = function normalizedTransitionCallback(callback) {\n    return function (nodeOrAppearing, maybeAppearing) {\n      if (callback) {\n        var _ref = enableStrictModeCompat ? [nodeRef.current, nodeOrAppearing] : [nodeOrAppearing, maybeAppearing],\n            _ref2 = _slicedToArray(_ref, 2),\n            node = _ref2[0],\n            isAppearing = _ref2[1]; // onEnterXxx and onExitXxx callbacks have a different arguments.length value.\n\n\n        if (isAppearing === undefined) {\n          callback(node);\n        } else {\n          callback(node, isAppearing);\n        }\n      }\n    };\n  };\n\n  var handleEnter = normalizedTransitionCallback(function (node, isAppearing) {\n    node.style.height = collapsedHeight;\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  });\n  var handleEntering = normalizedTransitionCallback(function (node, isAppearing) {\n    var wrapperHeight = wrapperRef.current ? wrapperRef.current.clientHeight : 0;\n\n    var _getTransitionProps = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'enter'\n    }),\n        transitionDuration = _getTransitionProps.duration;\n\n    if (timeout === 'auto') {\n      var duration2 = theme.transitions.getAutoHeightDuration(wrapperHeight);\n      node.style.transitionDuration = \"\".concat(duration2, \"ms\");\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : \"\".concat(transitionDuration, \"ms\");\n    }\n\n    node.style.height = \"\".concat(wrapperHeight, \"px\");\n\n    if (onEntering) {\n      onEntering(node, isAppearing);\n    }\n  });\n  var handleEntered = normalizedTransitionCallback(function (node, isAppearing) {\n    node.style.height = 'auto';\n\n    if (onEntered) {\n      onEntered(node, isAppearing);\n    }\n  });\n  var handleExit = normalizedTransitionCallback(function (node) {\n    var wrapperHeight = wrapperRef.current ? wrapperRef.current.clientHeight : 0;\n    node.style.height = \"\".concat(wrapperHeight, \"px\");\n\n    if (onExit) {\n      onExit(node);\n    }\n  });\n  var handleExited = normalizedTransitionCallback(onExited);\n  var handleExiting = normalizedTransitionCallback(function (node) {\n    var wrapperHeight = wrapperRef.current ? wrapperRef.current.clientHeight : 0;\n\n    var _getTransitionProps2 = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'exit'\n    }),\n        transitionDuration = _getTransitionProps2.duration;\n\n    if (timeout === 'auto') {\n      var duration2 = theme.transitions.getAutoHeightDuration(wrapperHeight);\n      node.style.transitionDuration = \"\".concat(duration2, \"ms\");\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : \"\".concat(transitionDuration, \"ms\");\n    }\n\n    node.style.height = collapsedHeight;\n\n    if (onExiting) {\n      onExiting(node);\n    }\n  });\n\n  var addEndListener = function addEndListener(nodeOrNext, maybeNext) {\n    var next = enableStrictModeCompat ? nodeOrNext : maybeNext;\n\n    if (timeout === 'auto') {\n      timer.current = setTimeout(next, autoTransitionDuration.current || 0);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    in: inProp,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    onExiting: handleExiting,\n    addEndListener: addEndListener,\n    nodeRef: enableStrictModeCompat ? nodeRef : undefined,\n    timeout: timeout === 'auto' ? null : timeout\n  }, other), function (state, childProps) {\n    return /*#__PURE__*/React.createElement(Component, _extends({\n      className: clsx(classes.container, className, {\n        'entered': classes.entered,\n        'exited': !inProp && collapsedHeight === '0px' && classes.hidden\n      }[state]),\n      style: _extends({\n        minHeight: collapsedHeight\n      }, style),\n      ref: handleRef\n    }, childProps), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.wrapper,\n      ref: wrapperRef\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.wrapperInner\n    }, children)));\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Collapse.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content node to be collapsed.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The height of the container when collapsed.\n   */\n  collapsedHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * Enable this prop if you encounter 'Function components cannot be given refs',\n   * use `unstable_createStrictModeTheme`,\n   * and can't forward the ref in the passed `Component`.\n   */\n  disableStrictModeCompat: PropTypes.bool,\n\n  /**\n   * If `true`, the component will transition in.\n   */\n  in: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExited: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   *\n   * Set to 'auto' to automatically calculate transition time based on height.\n   */\n  timeout: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })])\n} : void 0;\nCollapse.muiSupportAuto = true;\nexport default withStyles(styles, {\n  name: 'MuiCollapse'\n})(Collapse);","import * as React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Container from '@material-ui/core/Container';\nimport { RouteComponentProps } from '@reach/router';\nimport {\n  QueryOrderBy,\n  useAdsForUserQuery,\n  AdsForUserQuery,\n} from '../generated/graphql';\nimport { BackButton } from '../components/BackButton';\nimport { Order } from '../components/FilterAds/Order';\nimport { InfiniteScroll } from '../containers/InfiniteScrollFetch';\nimport { myInfo } from '../cache';\nimport { CardWine } from '../components/Cards/CardWine';\nimport { AdsWineResult } from '../types';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Divider from '@material-ui/core/Divider';\nimport { PurpleCheckbox } from '../components/FilterAds';\nimport { Loading } from '../components/Loading';\nimport { ApolloQueryResult } from '@apollo/client';\n\nconst MyAds: React.FC<RouteComponentProps> = () => {\n  const me = myInfo();\n  const [order, setOrder] = React.useState<QueryOrderBy>(\n    QueryOrderBy.CreatedAtDesc\n  );\n  const [pageCount, setPageCount] = React.useState<number>(0);\n  const { data, loading, error, fetchMore } = useAdsForUserQuery({\n    variables: {\n      offset: 0,\n      limit: 4,\n      orderBy: QueryOrderBy.CreatedAtDesc,\n      user: me?._id as string,\n      isActive: undefined,\n    },\n    onError: (error) => console.error(error),\n    onCompleted: ({ adsForUser }) => {\n      setPageCount(adsForUser?.pageCount as number);\n    },\n  });\n  const [hideNotActive, setHideNotActive] = React.useState<boolean>(false);\n  const [isLoadFetchMore, setIsLoadFetchMore] = React.useState<boolean>(false);\n  const [isLoadOrder, setIsLoadOrder] = React.useState<boolean>(false);\n  const handleShowAll = () => {\n    setHideNotActive(!hideNotActive);\n  };\n\n  React.useEffect(() => {\n    const loadMore = async () => {\n      setIsLoadOrder(true);\n      try {\n        const result: ApolloQueryResult<AdsForUserQuery> = await fetchMore({\n          variables: {\n            orderBy: order,\n            limit: data?.adsForUser?.ads?.length,\n            isActive: hideNotActive,\n          },\n        });\n        setIsLoadOrder(false);\n        result.data.adsForUser?.pageCount !== pageCount &&\n          setPageCount(result.data.adsForUser?.pageCount as number);\n      } catch (e) {\n        console.error(e);\n      }\n    };\n\n    if (data?.adsForUser?.ads?.length && fetchMore) {\n      void loadMore();\n    }\n  }, [order]);\n\n  if (loading) {\n    return <Loading />;\n  }\n\n  if (!me?._id || error) return <div>error</div>;\n\n  if (data?.adsForUser?.ads?.length === 0) {\n    return <div>Non hai ancora creato annunci</div>;\n  }\n  if (data?.adsForUser?.ads?.length) {\n    const handleFetchMore = async () => {\n      setIsLoadFetchMore(true);\n      if (fetchMore && data?.adsForUser?.ads?.length) {\n        try {\n          await fetchMore({\n            variables: {\n              offset: data?.adsForUser?.ads?.length,\n              orderBy: order,\n              isActive: hideNotActive,\n            },\n          });\n          setIsLoadFetchMore(false);\n          data.adsForUser?.pageCount !== pageCount &&\n            setPageCount(data.adsForUser?.pageCount as number);\n        } catch (e) {\n          setIsLoadFetchMore(false);\n          console.error(e);\n        }\n      }\n    };\n    return (\n      <Container component='main' maxWidth='xs'>\n        <CssBaseline />\n        <BackButton />\n        <br />\n        <Typography color='primary' component='h3' variant='h5'>\n          Gli annunci che hai creato\n        </Typography>\n        <br />\n        <Order setOrder={setOrder} order={order} />\n        <Divider />\n        <FormControlLabel\n          control={\n            <PurpleCheckbox\n              checked={hideNotActive}\n              onChange={handleShowAll}\n              name='showAll'\n            />\n          }\n          label='Nascondi gli annunci inattivi'\n        />\n        {isLoadOrder ? (\n          <Loading />\n        ) : (\n          <InfiniteScroll\n            fetchMore={handleFetchMore}\n            isVisible={data?.adsForUser?.ads?.length < pageCount}\n            isLoading={isLoadFetchMore}\n          >\n            {' '}\n            {data?.adsForUser?.ads\n              ?.filter((ad) => {\n                if (hideNotActive) {\n                  return ad?.isActive === hideNotActive;\n                } else {\n                  return ad;\n                }\n              })\n              .map((ad) => (\n                <CardWine key={ad && ad._id} ad={ad as AdsWineResult} />\n              ))}\n          </InfiniteScroll>\n        )}\n      </Container>\n    );\n  }\n  return <div>gravissimo errore</div>;\n};\n\nexport default MyAds;\n"],"sourceRoot":""}