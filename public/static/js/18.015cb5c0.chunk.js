(this["webpackJsonpwine-app-frontend"]=this["webpackJsonpwine-app-frontend"]||[]).push([[18],{516:function(e,n,r){"use strict";r.r(n);var t=r(4),a=r(81),l=r.n(a),i=r(103),o=r(26),s=(r(0),r(70)),d=r(156),c=r(175),u=r(472),b=r(470),m=r(474),j=r(436),x=r(437),p=r(151),h=r(448),O=r(429),C=r(197),v=r.n(C),f=r(90),g=r(475),T=r(476),y=r(477),w=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(2)},submit:{margin:e.spacing(3,0,2)},input:{color:"#6d1331"},underline:{color:"#6d1331","&:before":{borderBottom:"1px solid #6d1331"},"&&&&:hover:before":{borderBottom:"2px solid #6d1331"},"&:after":{borderBottom:"3px solid #6d1331"},disabled:{},focused:{},error:{}}}})),N={email:"",reEmail:"",password:"",rePassword:"",firstName:"",lastName:"",address:{via:"",comune:"",provincia:"",regione:"",CAP:"12345"},pIva:"",phoneNumber:"",hideContact:!1},P=function(e){var n=e.onSubmit;return Object(t.jsx)(s.c,{initialValues:N,validationSchema:b.c,onSubmit:n,children:function(e){var n=e.isValid,r=e.dirty,a=e.setFieldValue,l=w();return Object(t.jsxs)("div",{className:l.paper,children:[Object(t.jsx)(h.a,{className:l.avatar,children:Object(t.jsx)(v.a,{})}),Object(t.jsx)(f.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(t.jsxs)(s.b,{className:l.form,children:[Object(t.jsxs)(x.a,{container:!0,spacing:2,children:[Object(t.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(t.jsx)(d.a,{name:"firstName",type:"text",label:"Nome",placeholder:"Nome",underlineColor:l.underline,labelTextColor:"#6d1331",inputTextColor:l.input})}),Object(t.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(t.jsx)(d.a,{name:"lastName",type:"text",label:"Cognome",placeholder:"Cognome",underlineColor:l.underline,labelTextColor:"#6d1331",inputTextColor:l.input})}),Object(t.jsx)(x.a,{item:!0,xs:12,children:Object(t.jsx)(d.a,{name:"email",type:"email",label:"Email",placeholder:"Email address",underlineColor:l.underline,labelTextColor:"#6d1331",inputTextColor:l.input})}),Object(t.jsx)(x.a,{item:!0,xs:12,children:Object(t.jsx)(d.a,{name:"reEmail",type:"email",label:"Reinsert Email",placeholder:"Reinsert Email address",underlineColor:l.underline,labelTextColor:"#6d1331",inputTextColor:l.input})}),Object(t.jsx)(x.a,{item:!0,xs:12,children:Object(t.jsx)(c.a,{name:"password",underlineColor:l.underline})}),Object(t.jsx)(x.a,{item:!0,xs:12,children:Object(t.jsx)(c.a,{name:"rePassword",underlineColor:l.underline})}),Object(t.jsx)(x.a,{item:!0,xs:12,children:Object(t.jsx)(d.a,{name:"pIva",type:"text",label:"Partita Iva",placeholder:"Partita Iva",underlineColor:l.underline,labelTextColor:"#6d1331",inputTextColor:l.input})}),Object(t.jsx)(x.a,{item:!0,xs:12,children:Object(t.jsx)(d.a,{name:"phoneNumber",type:"text",label:"Numero di telefono",placeholder:"Numero di telefono",underlineColor:l.underline,labelTextColor:"#6d1331",inputTextColor:l.input})}),Object(t.jsx)(x.a,{item:!0,xs:12,children:Object(t.jsx)(g.a,{setFieldValue:a,name:"address.regione",label:"Regione",items:u.a,labelTextColor:"#6d1331",underlineColor:l.underline})}),Object(t.jsx)(x.a,{item:!0,xs:12,children:Object(t.jsx)(T.a,{setFieldValue:a,name:"address.provincia",label:"Provincia",labelTextColor:"#6d1331",underlineColor:l.underline})}),Object(t.jsx)(x.a,{item:!0,xs:12,children:Object(t.jsx)(y.a,{setFieldValue:a,name:"address.comune",label:"Comune",labelTextColor:"#6d1331",underlineColor:l.underline})}),Object(t.jsx)(x.a,{item:!0,xs:12,children:Object(t.jsx)(d.a,{name:"address.via",type:"text",label:"Via",placeholder:"Via",underlineColor:l.underline,labelTextColor:"#6d1331",inputTextColor:l.input})}),Object(t.jsx)(x.a,{item:!0,xs:12,children:Object(t.jsx)(d.a,{name:"address.CAP",type:"number",max:"99999",label:"CAP",placeholder:"CAP",underlineColor:l.underline,labelTextColor:"#6d1331",inputTextColor:l.input})}),Object(t.jsx)(x.a,{item:!0,xs:12,children:Object(t.jsx)(m.a,{name:"hideContact",label:"Nascondi info personali"})})]}),Object(t.jsx)(j.a,{fullWidth:!0,type:"submit",disabled:!r||!n,children:"Submit"}),Object(t.jsx)(x.a,{container:!0,justify:"flex-end",children:Object(t.jsx)(x.a,{item:!0,children:Object(t.jsx)(O.a,{href:"#",variant:"body2",children:"Already have an account? Sign in"})})})]})]})}})},S=r(15),E=r(23),I=r(41),V=r(34),A=r.n(V),k=r(434),F=r(435);n.default=function(){var e=Object(S.u)({onError:function(e){return Object(E.d)({type:"error",message:e.message})},onCompleted:function(e){var n,r,t,a,l=e.createUser;0===(null===l||void 0===l||null===(n=l.errors)||void 0===n?void 0:n.length)&&(localStorage.setItem("wineapp-user-token",null===l||void 0===l||null===(t=l.response)||void 0===t?void 0:t.token),localStorage.setItem("wineapp-user-id",null===l||void 0===l||null===(a=l.response)||void 0===a?void 0:a.user._id),Object(E.b)(!0),Object(E.d)({type:"success",message:"welcome"}),Object(I.c)("/"));if(null===l||void 0===l||null===(r=l.errors)||void 0===r?void 0:r.length){var i=l.errors.map((function(e){return null===e||void 0===e?void 0:e.text}));Object(E.d)({type:"error",message:i.toString()})}}}),n=Object(o.a)(e,1)[0],r=function(){var e=Object(i.a)(l.a.mark((function e(r){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(t=A.a.cloneDeep(r)).reEmail,delete t.rePassword,t.address.CAP=t.address.CAP.toString(),e.next=6,n({variables:{userInput:t}});case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(t.jsxs)(k.a,{component:"main",maxWidth:"xs",children:[Object(t.jsx)(P,{onSubmit:r}),";",Object(t.jsx)(F.a,{})]})}}}]);
//# sourceMappingURL=18.015cb5c0.chunk.js.map