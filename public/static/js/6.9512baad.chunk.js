(this["webpackJsonpwine-app-frontend"]=this["webpackJsonpwine-app-frontend"]||[]).push([[6],{480:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(458),a=(n(0),n(42)),o=n(481),r=n.n(o),c=n(3),l=function(){return Object(c.jsx)(i.a,{"aria-label":"previous-page",color:"primary",size:"large",startIcon:Object(c.jsx)(r.a,{}),onClick:function(){return Object(a.c)(-1)},children:"Torna indietro"})}},481:function(e,t,n){"use strict";var i=n(52),a=n(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(0)),r=(0,i(n(54)).default)(o.createElement("path",{d:"M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos");t.default=r},482:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(0);var i=n(473),a=n(12),o=n(3),r=function(e){var t=e.notActive?"#b2b2b2":"white",n=e.notActive?"#8a425a":"primary.main";return Object(o.jsx)(i.a,{boxShadow:3,p:2,m:0,mt:2,px:2,pt:2,width:e.width,color:e.typeAd===a.j.Sell?"primary.main":"white",borderColor:e.typeAd===a.j.Sell?"white":"primary.main",bgcolor:e.typeAd===a.j.Sell?t:n,borderRadius:16,children:e.children})}},483:function(e,t,n){"use strict";var i=n(52),a=n(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(0)),r=(0,i(n(54)).default)(o.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.default=r},486:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n(31),a=n(0),o=n(487),r=n.n(o),c=n(400),l=n(168),d=n.n(l),s=n(12),u=n(97),v=n(42),j=n(3),b=function(e){var t,n,o=e.id,l=e.fontSize,b=void 0===l?"default":l,p=e.timesFavorite,f=Object(v.d)().pathname,h=Object(s.D)().data,O=Object(s.M)({variables:{id:o},onCompleted:function(){_(!N)},onError:function(e){return console.error(e)},update:function(e,t){var n,i=t.data;"/salvati"===f?setTimeout((function(){var t;return Object(u.f)(e,null===i||void 0===i||null===(t=i.saveAd)||void 0===t?void 0:t.response)}),500):Object(u.f)(e,null===i||void 0===i||null===(n=i.saveAd)||void 0===n?void 0:n.response)}}),m=Object(i.a)(O,1)[0],x=a.useState(!1),g=Object(i.a)(x,2),y=g[0],C=g[1],w=a.useState((null===h||void 0===h||null===(t=h.myInfo)||void 0===t||null===(n=t.savedAds)||void 0===n?void 0:n.map((function(e){return e._id})).includes(o))||!1),E=Object(i.a)(w,2),N=E[0],_=E[1];return a.useEffect((function(){var e,t,n;(null===h||void 0===h||null===(e=h.myInfo)||void 0===e?void 0:e.savedAds)&&!y&&(_((null===h||void 0===h||null===(t=h.myInfo)||void 0===t||null===(n=t.savedAds)||void 0===n?void 0:n.map((function(e){return e._id})).includes(o))||!1),C(!0))}),[h]),Object(j.jsxs)(c.a,{"aria-label":"save",onClick:function(){return m()},size:"small",children:[N?Object(j.jsx)(d.a,{fontSize:b}):Object(j.jsx)(r.a,{fontSize:b}),p]})}},487:function(e,t,n){"use strict";var i=n(52),a=n(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(0)),r=(0,i(n(54)).default)(o.createElement("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder");t.default=r},488:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n(31),a=n(0),o=n(458),r=n(468),c=n(472),l=n(469),d=n(55),s=n.n(d),u=n(81),v=n(17),j=n(12),b=n(3),p=function(e){var t=e.id,n=e.handleClose,a=Object(j.N)({onCompleted:function(e){var t,n;if(null===(t=e.updateNegotiation)||void 0===t||null===(n=t.errors)||void 0===n?void 0:n.length){var i,a=null===(i=e.updateNegotiation)||void 0===i?void 0:i.errors.map((function(e){return null===e||void 0===e?void 0:e.text}));Object(v.d)({type:"error",message:"".concat(a.toString())})}else Object(v.d)({message:"trattativa chiusa con successo",type:"success"})},onError:function(e){return Object(v.d)({type:"error",message:e.message})}}),r=Object(i.a)(a,2),c=r[0],l=r[1].loading,d=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(),e.next=3,c({variables:{negotiation:{_id:t,isConcluded:!0}}});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)(o.a,{"aria-label":"close-negotiation",disabled:l,onClick:d,children:"Dichiara chiusa la trattativa"})},f=n(97),h=function(e){var t=e.id,n=e.handleClose,a=Object(j.u)({onCompleted:function(e){var t,n;if(null===(t=e.deleteNegotiation)||void 0===t||null===(n=t.errors)||void 0===n?void 0:n.length){var i,a=null===(i=e.deleteNegotiation)||void 0===i?void 0:i.errors.map((function(e){return null===e||void 0===e?void 0:e.text}));Object(v.d)({type:"error",message:"".concat(a.toString())})}else Object(v.d)({message:"trattativa cancellata con successo",type:"info"})},onError:function(e){return Object(v.d)({type:"error",message:e.message})},update:function(e,t){var n,i=t.data;Object(f.g)(e,null===i||void 0===i||null===(n=i.deleteNegotiation)||void 0===n?void 0:n.response)}}),r=Object(i.a)(a,2),c=r[0],l=r[1].loading,d=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(),e.next=3,c({variables:{id:t}});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)(o.a,{"aria-label":"cancel-negotiation",disabled:l,onClick:d,children:"Cancella la trattativa"})},O=n(140),m=function(e){var t=e.id,n=e.isBuy,d=e.isMessage,s=Object(O.c)(),u=a.useState(!1),v=Object(i.a)(u,2),j=v[0],f=v[1],m=function(){f(!1)};return n=d?!!d:n,Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(o.a,{fullWidth:!0,"aria-label":"close-negotiation-popup",className:n?s.buyButton:s.sellButton,onClick:function(){f(!0)},children:"Chiudi trattativa"}),Object(b.jsx)("div",{style:{display:"none"},children:Object(b.jsxs)(r.a,{open:j,onClose:m,"aria-labelledby":"close-negotiation",children:[Object(b.jsxs)(l.a,{children:[Object(b.jsx)(h,{id:t,handleClose:m}),Object(b.jsx)(p,{id:t,handleClose:m})]}),Object(b.jsx)(c.a,{children:Object(b.jsx)(o.a,{onClick:m,color:"primary",children:"Cancel"})})]})})]})}},489:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n(31),a=n(458),o=n(0),r=n(12),c=n(140),l=n(473),d=n(468),s=n(469),u=n(472),v=n(401),j=n(495),b=n(17),p=n(3),f=function(e){var t=e.review,n=e.disabled,o=e.closeModal,c=Object(r.s)({onCompleted:function(e){var t,n;if(null===(t=e.createReview)||void 0===t||null===(n=t.errors)||void 0===n?void 0:n.length){var i,a=null===(i=e.createReview)||void 0===i?void 0:i.errors.map((function(e){return null===e||void 0===e?void 0:e.text}));Object(b.d)({type:"error",message:"".concat(a.toString())})}else Object(b.d)({type:"success",message:"Recensione creata con successo"})},onError:function(e){return Object(b.d)({type:"error",message:e.message})}}),l=Object(i.a)(c,2),d=l[0],s=l[1].loading;return Object(p.jsx)(a.a,{disabled:n||s,"aria-label":"review",onClick:function(){o&&o(),d({variables:{review:t}})},color:"primary",children:"Recensisci"})},h={.5:"Useless",1:"Useless+",1.5:"Poor",2:"Poor+",2.5:"Ok",3:"Ok+",3.5:"Good",4:"Good+",4.5:"Excellent",5:"Excellent+"},O=function(e){var t=e.idUser,n=e.idNegotiation,b=e.type,O=e.isMessage,m=o.useState(!1),x=Object(i.a)(m,2),g=x[0],y=x[1],C=o.useState(2),w=Object(i.a)(C,2),E=w[0],N=w[1],_=o.useState(-1),A=Object(i.a)(_,2),k=A[0],S=A[1],z=o.useState(""),B=Object(i.a)(z,2),M=B[0],L=B[1],T=Object(c.c)(),R=Object(c.d)(),F=Object(c.b)(),I=function(){y(!1)};return b=O?r.j.Sell:b,Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(a.a,{fullWidth:!0,"aria-label":"review",className:b===r.j.Buy?T.buyButton:T.sellButton,onClick:function(){y(!0)},children:"Lascia una recensione"}),Object(p.jsx)("div",{style:{display:"none"},children:Object(p.jsxs)(d.a,{open:g,onClose:I,"aria-labelledby":"form-dialog-title",children:[Object(p.jsx)(j.a,{id:"form-dialog-title",children:"Recensisci la trattativa"}),Object(p.jsxs)(s.a,{children:[Object(p.jsxs)("div",{className:F.root,children:[Object(p.jsx)(c.a,{name:"hover-feedback",value:E,precision:.5,onChange:function(e,t){N(t)},onChangeActive:function(e,t){S(t)}}),null!==E&&Object(p.jsx)(l.a,{ml:2,children:h[-1!==k?k:E]})]}),Object(p.jsx)(v.a,{color:"primary",multiline:!0,rows:4,value:M,error:M.length>0&&M.length<=5,helperText:"Lunghezza minima 5 caratteri",onChange:function(e){L(e.target.value)},InputLabelProps:{style:{color:"#6d1331"}},InputProps:{className:R.inputSell,classes:{underline:R.underlineSell}},id:"outlined-multiline-flexible",label:"Recensione",placeholder:"Ottima persona con cui...."})]}),Object(p.jsxs)(u.a,{children:[Object(p.jsx)(a.a,{"aria-label":"close-modal",onClick:I,color:"primary",children:"Cancel"}),Object(p.jsx)(f,{disabled:M.length<=5,review:{forUser:t,rating:E,negotiation:n,content:M,type:b},closeModal:I})]})]})})]})}},495:function(e,t,n){"use strict";var i=n(1),a=n(4),o=n(0),r=(n(8),n(5)),c=n(6),l=n(94),d=o.forwardRef((function(e,t){var n=e.children,c=e.classes,d=e.className,s=e.disableTypography,u=void 0!==s&&s,v=Object(a.a)(e,["children","classes","className","disableTypography"]);return o.createElement("div",Object(i.a)({className:Object(r.a)(c.root,d),ref:t},v),u?n:o.createElement(l.a,{component:"h2",variant:"h6"},n))}));t.a=Object(c.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(d)},517:function(e,t,n){"use strict";var i=n(1),a=n(46),o=n(4),r=n(0),c=n(5),l=(n(8),n(408)),d=n(6),s=n(33),u=n(38),v=n(37),j=n(15),b=r.forwardRef((function(e,t){var n=e.children,d=e.classes,b=e.className,p=e.collapsedHeight,f=void 0===p?"0px":p,h=e.component,O=void 0===h?"div":h,m=e.disableStrictModeCompat,x=void 0!==m&&m,g=e.in,y=e.onEnter,C=e.onEntered,w=e.onEntering,E=e.onExit,N=e.onExited,_=e.onExiting,A=e.style,k=e.timeout,S=void 0===k?s.b.standard:k,z=e.TransitionComponent,B=void 0===z?l.a:z,M=Object(o.a)(e,["children","classes","className","collapsedHeight","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),L=Object(v.a)(),T=r.useRef(),R=r.useRef(null),F=r.useRef(),I="number"===typeof f?"".concat(f,"px"):f;r.useEffect((function(){return function(){clearTimeout(T.current)}}),[]);var D=L.unstable_strictMode&&!x,H=r.useRef(null),P=Object(j.a)(t,D?H:void 0),W=function(e){return function(t,n){if(e){var i=D?[H.current,t]:[t,n],o=Object(a.a)(i,2),r=o[0],c=o[1];void 0===c?e(r):e(r,c)}}},U=W((function(e,t){e.style.height=I,y&&y(e,t)})),G=W((function(e,t){var n=R.current?R.current.clientHeight:0,i=Object(u.a)({style:A,timeout:S},{mode:"enter"}).duration;if("auto"===S){var a=L.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(a,"ms"),F.current=a}else e.style.transitionDuration="string"===typeof i?i:"".concat(i,"ms");e.style.height="".concat(n,"px"),w&&w(e,t)})),V=W((function(e,t){e.style.height="auto",C&&C(e,t)})),J=W((function(e){var t=R.current?R.current.clientHeight:0;e.style.height="".concat(t,"px"),E&&E(e)})),Q=W(N),q=W((function(e){var t=R.current?R.current.clientHeight:0,n=Object(u.a)({style:A,timeout:S},{mode:"exit"}).duration;if("auto"===S){var i=L.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(i,"ms"),F.current=i}else e.style.transitionDuration="string"===typeof n?n:"".concat(n,"ms");e.style.height=I,_&&_(e)}));return r.createElement(B,Object(i.a)({in:g,onEnter:U,onEntered:V,onEntering:G,onExit:J,onExited:Q,onExiting:q,addEndListener:function(e,t){var n=D?e:t;"auto"===S&&(T.current=setTimeout(n,F.current||0))},nodeRef:D?H:void 0,timeout:"auto"===S?null:S},M),(function(e,t){return r.createElement(O,Object(i.a)({className:Object(c.a)(d.container,b,{entered:d.entered,exited:!g&&"0px"===I&&d.hidden}[e]),style:Object(i.a)({minHeight:I},A),ref:P},t),r.createElement("div",{className:d.wrapper,ref:R},r.createElement("div",{className:d.wrapperInner},n)))}))}));b.muiSupportAuto=!0,t.a=Object(d.a)((function(e){return{container:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(b)},518:function(e,t,n){"use strict";var i=n(52),a=n(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(0)),r=(0,i(n(54)).default)(o.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");t.default=r},563:function(e,t,n){"use strict";n.r(t);var i=n(55),a=n.n(i),o=n(81),r=n(31),c=n(0),l=n(42),d=n(12),s=n(17),u=n(94),v=n(458),j=n(471),b=n(468),p=n(472),f=n(469),h=n(3),O=function(e){var t=e.handleClose,n=e.open,i=e.createNegotiation;return Object(h.jsx)("div",{children:Object(h.jsxs)(b.a,{open:n,onClose:t,"aria-labelledby":"open-negotiation",children:[Object(h.jsx)(f.a,{children:Object(h.jsx)(v.a,{"aria-label":"open-negotiation",onClick:function(){i(),t()},children:"Apri la trattativa"})}),Object(h.jsx)(p.a,{children:Object(h.jsx)(v.a,{onClick:t,color:"primary",children:"Cancel"})})]})})},m=n(482),x=n(140),g=n(486),y=function(e){var t,n=e.ad,i=e.createNegotiation,l=e.me,s=Object(x.c)(),b=(null===n||void 0===n?void 0:n.typeAd)===d.j.Buy,p=c.useState(!1),f=Object(r.a)(p,2),y=f[0],C=f[1],w=c.useState("Copia Link"),E=Object(r.a)(w,2),N=E[0],_=E[1];if(!n)return null;var A=function(){C(!0)},k=function(){C(!1)},S=function(){var e=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.writeText(window.location.href);case 2:_("Link Copiato!"),setTimeout((function(){_("Copia Link")}),500);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e;return(null===l||void 0===l?void 0:l._id)===(null===n||void 0===n?void 0:n.postedBy._id)?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(v.a,{fullWidth:!0,"aria-label":"edit-ad",className:b?s.buyButton:s.sellButton,children:"Modifica l'annuncio"}),Object(h.jsx)("br",{})]}):(null===l||void 0===l||null===(e=l.negotiations)||void 0===e?void 0:e.find((function(e){return(null===e||void 0===e?void 0:e.ad._id)===(null===n||void 0===n?void 0:n._id)})))?Object(h.jsx)("div",{children:"Negoziazione gia aperta"}):(null===n||void 0===n?void 0:n.isActive)?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(v.a,{fullWidth:!0,"aria-label":"open-negotiation-dialog",className:b?s.buyButton:s.sellButton,onClick:A,children:["Contatta il ",(null===n||void 0===n?void 0:n.typeAd)===d.j.Buy?"compratore":"venditore"]}),Object(h.jsx)(O,{handleClose:k,open:y,createNegotiation:i})]}):Object(h.jsx)(u.a,{children:"Annuncio non piu attivo "})},B="AdWine"===(null===n||void 0===n?void 0:n.__typename)?n:null;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(m.a,{width:1,typeAd:n.typeAd,children:[Object(h.jsxs)(u.a,{component:"h5",variant:"h5",children:["L'utente ",null===n||void 0===n?void 0:n.postedBy.firstName," ",b?"compra":"vende",":"]}),Object(h.jsx)("br",{}),Object(h.jsxs)(u.a,{align:"left",variant:"h6",children:[null===B||void 0===B?void 0:B.wineName," ",null===B||void 0===B||null===(t=B.wine)||void 0===t?void 0:t.denominazioneZona,Object(h.jsx)("br",{}),"Annata: ",null===n||void 0===n?void 0:n.harvest,Object(h.jsx)("br",{}),"Gradazione: ",n.abv," % Vol",Object(h.jsx)("br",{}),"Quantit\xe0: ",null===B||void 0===B?void 0:B.litersTo," litri",Object(h.jsx)("br",{}),"Prezzo: ",n.priceFrom," euro al litro"]}),Object(h.jsx)("br",{}),Object(h.jsx)(z,{}),Object(h.jsx)(v.a,{style:{marginTop:5},fullWidth:!0,"aria-label":"copy-link",className:b?s.buyButton:s.sellButton,onClick:S,children:N}),Object(h.jsx)("br",{}),Object(h.jsxs)(j.a,{container:!0,justify:"space-between",children:[Object(h.jsxs)(u.a,{align:"left",variant:"caption",children:["Annuncio visualizzato: ",null===n||void 0===n?void 0:n.numberViews," volte"]}),Object(h.jsxs)(u.a,{align:"right",variant:"caption",children:["Negoziazioni attive: ",null===n||void 0===n?void 0:n.activeNegotiations]})]})]}),Object(h.jsxs)(j.a,{container:!0,justify:"space-between",children:[Object(h.jsx)("div",{}),Object(h.jsx)("div",{children:Object(h.jsx)(g.a,{id:n._id,timesFavorite:(null===n||void 0===n?void 0:n.savedTimes)||0})})]})]})},C=n(470),w=n(455),E=n(480),N=n(97),_=n(463),A=n(464),k=n(462),S=n(517),z=n(483),B=n.n(z),M=n(518),L=n.n(M),T=n(400),R=n(164),F=n(489),I=n(488),D=function(e){var t,n,i=e.data,a=e.showNegotiations,o=Object(x.c)(),d=c.useState(!1),s=Object(r.a)(d,2),j=s[0],b=s[1];return i.loading?Object(h.jsx)(R.a,{}):i.error?Object(h.jsx)("div",{children:"error"}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(T.a,{"aria-label":"show-open-negotiations","data-testid":"negotiationsAd",onClick:function(){j||a(),b(!j)},children:j?Object(h.jsx)(L.a,{}):Object(h.jsx)(B.a,{})}),Object(h.jsx)(S.a,{in:j,children:Object(h.jsx)(_.a,{"aria-label":"negotiations",children:null===i||void 0===i||null===(t=i.data)||void 0===t||null===(n=t.negotiationsForAd)||void 0===n?void 0:n.map((function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)(A.a,{children:Object(h.jsxs)("div",{children:[Object(h.jsx)(u.a,{color:"primary",component:"h3",variant:"h5",children:e.createdBy.firstName}),Object(h.jsx)("br",{}),Object(h.jsxs)(u.a,{color:"secondary",variant:"body1",children:["aperta il ",e.dateCreated]}),Object(h.jsx)(u.a,{color:"secondary",variant:"body1",children:e.dateConcluded?"chiusa il ".concat(e.dateConcluded):null}),Object(h.jsx)("br",{}),Object(h.jsx)(v.a,{"aria-label":"open-chat",className:o.buyButton,component:l.a,to:"/messaggi/".concat(e._id),fullWidth:!0,children:"Vai alla chat"}),Object(h.jsx)("br",{}),e.isConcluded?Object(h.jsx)(F.a,{idNegotiation:e._id,idUser:e.createdBy._id,type:e.type}):Object(h.jsx)(I.a,{id:e._id})]})}),Object(h.jsx)(k.a,{})]},e._id)}))})})]})};t.default=function(){var e,t,n,i,c=Object(l.e)().id,v=Object(d.m)({variables:{id:c},onError:function(e){return console.error(e)}}),j=v.data,b=v.loading,p=v.error,f=Object(d.r)({onCompleted:function(e){var t,n;if(null===(t=e.createNegotiation)||void 0===t||null===(n=t.errors)||void 0===n?void 0:n.length){var i,a=null===(i=e.createNegotiation)||void 0===i?void 0:i.errors.map((function(e){return null===e||void 0===e?void 0:e.text}));Object(s.d)({type:"error",message:"".concat(a.toString())})}else Object(s.d)({message:"trattativa creata con successo",type:"success"})},onError:function(e){return Object(s.d)({type:"error",message:"errore durante creazione trattativa: ".concat(e.message)})},update:function(e,t){var n,i;Object(N.d)(e,null===(n=t.data)||void 0===n||null===(i=n.createNegotiation)||void 0===i?void 0:i.response)}}),O=Object(r.a)(f,1)[0],m=Object(d.H)(),g=Object(r.a)(m,2),_=g[0],A=g[1],k=function(){var e=Object(o.a)(a.a.mark((function e(){var t,n,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={forUserAd:null===j||void 0===j||null===(t=j.ad)||void 0===t?void 0:t.postedBy._id,ad:null===j||void 0===j||null===(n=j.ad)||void 0===n?void 0:n._id,type:null===j||void 0===j||null===(i=j.ad)||void 0===i?void 0:i.typeAd},e.next=3,O({variables:{negotiation:o}});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=Object(x.c)();if(p&&!b)return Object(h.jsx)("div",{children:"Errore"});var z,B=null===j||void 0===j||null===(e=j.me)||void 0===e||null===(t=e.negotiations)||void 0===t?void 0:t.filter((function(e){var t;return e.ad._id===(null===j||void 0===j||null===(t=j.ad)||void 0===t?void 0:t._id)})),M=(null===j||void 0===j||null===(n=j.ad)||void 0===n?void 0:n.typeAd)===d.j.Buy?"L'acquirente":"Il venditore";return(null===j||void 0===j||null===(i=j.ad)||void 0===i?void 0:i._id)?Object(h.jsxs)(C.a,{component:"main",maxWidth:"xs",children:[Object(h.jsx)(w.a,{}),Object(h.jsx)(E.a,{}),Object(h.jsxs)("div",{className:S.paper,children:[Object(h.jsxs)(u.a,{color:"primary",component:"h3",variant:"h5",children:["Contatta ",M]}),Object(h.jsx)(u.a,{color:"secondary",variant:"body1",children:"Questo \xe8 uno degli annunci che abbiamo selezionato per te: verifica anche tu i parametri e decidi se procedere."})]}),Object(h.jsx)(y,{ad:null===j||void 0===j?void 0:j.ad,createNegotiation:k,me:null===j||void 0===j?void 0:j.me}),(null===j||void 0===j||null===(z=j.me)||void 0===z?void 0:z._id)===(null===j||void 0===j?void 0:j.ad.postedBy._id)&&(null===B||void 0===B?void 0:B.length)?Object(h.jsx)(D,{data:A,showNegotiations:function(){_({variables:{ad:c}})}}):null]}):Object(h.jsx)(R.a,{})}}}]);