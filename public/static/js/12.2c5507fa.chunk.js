(this["webpackJsonpwine-app-frontend"]=this["webpackJsonpwine-app-frontend"]||[]).push([[12],{450:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(4),i=n(436),r=(n(0),n(23)),o=n(41),c=n(451),s=n.n(c),l=n(15),d=function(){var e=Object(r.e)(),t=Object(o.d)().pathname;return"annunci"===t.split("/")[1]&&t.split("/")[2]?Object(a.jsx)(i.a,{component:o.a,to:"/annunci",color:"primary",size:"large",startIcon:Object(a.jsx)(s.a,{}),children:"Annunci"}):(null===e||void 0===e?void 0:e.typeAd)===l.k.Buy&&"/buy"!==t?Object(a.jsx)(i.a,{component:o.a,to:"/buy",color:"primary",size:"large",startIcon:Object(a.jsx)(s.a,{}),children:"Compra"}):(null===e||void 0===e?void 0:e.typeAd)===l.k.Sell&&"/sell"!==t?Object(a.jsx)(i.a,{component:o.a,to:"/sell",color:"primary",size:"large",startIcon:Object(a.jsx)(s.a,{}),children:"Vendi"}):Object(a.jsx)(i.a,{color:"primary",size:"large",startIcon:Object(a.jsx)(s.a,{}),onClick:function(){return Object(o.c)(-1)},children:"Torna indietro"})}},451:function(e,t,n){"use strict";var a=n(46),i=n(47);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),o=(0,a(n(48)).default)(r.createElement("path",{d:"M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos");t.default=o},466:function(e,t,n){"use strict";var a=n(1),i=n(5),r=n(0),o=n(7),c=(n(10),n(27)),s=n(8),l=r.forwardRef((function(e,t){var n=e.animation,c=void 0===n?"pulse":n,s=e.classes,l=e.className,d=e.component,u=void 0===d?"span":d,j=e.height,m=e.variant,f=void 0===m?"text":m,h=e.width,p=Object(i.a)(e,["animation","classes","className","component","height","variant","width"]),b=Boolean(p.children);return r.createElement(u,Object(a.a)({ref:t,className:Object(o.a)(s.root,s[f],l,b&&[s.withChildren,!h&&s.fitContent,!j&&s.heightAuto],!1!==c&&s[c])},p,{style:Object(a.a)({width:h,height:j},p.style)}))}));t.a=Object(s.a)((function(e){return{root:{display:"block",backgroundColor:Object(c.c)(e.palette.text.primary,"light"===e.palette.type?.11:.13),height:"1.2em"},text:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 60%",transform:"scale(1, 0.60)",borderRadius:e.shape.borderRadius,"&:empty:before":{content:'"\\00a0"'}},rect:{},circle:{borderRadius:"50%"},pulse:{animation:"$pulse 1.5s ease-in-out 0.5s infinite"},"@keyframes pulse":{"0%":{opacity:1},"50%":{opacity:.4},"100%":{opacity:1}},wave:{position:"relative",overflow:"hidden","&::after":{animation:"$wave 1.6s linear 0.5s infinite",background:"linear-gradient(90deg, transparent, ".concat(e.palette.action.hover,", transparent)"),content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}},"@keyframes wave":{"0%":{transform:"translateX(-100%)"},"60%":{transform:"translateX(100%)"},"100%":{transform:"translateX(100%)"}},withChildren:{"& > *":{visibility:"hidden"}},fitContent:{maxWidth:"fit-content"},heightAuto:{height:"auto"}}}),{name:"MuiSkeleton"})(l)},490:function(e,t,n){"use strict";var a=n(46),i=n(47);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),o=(0,a(n(48)).default)(r.createElement("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z"}),"MailOutline");t.default=o},518:function(e,t,n){"use strict";n.r(t);var a=n(4),i=n(0),r=n(466),o=n(435),c=n(434),s=n(430),l=n(15),d=n(34),u=n.n(d),j=n(28),m=n(423),f=n(426),h=n(427),p=n(428),b=n(490),v=n.n(b),O=n(431),g=n(41),y=n(23),x=function(e){var t=e.messages,n=e.id,r=Object(y.c)();if(!t)return null;var o=t.filter((function(e){return e.sentTo._id===(null===r||void 0===r?void 0:r._id)})),c=t.filter((function(e){return e.sentBy._id===(null===r||void 0===r?void 0:r._id)})),s=null===o||void 0===o?void 0:o.filter((function(e){return!e.isViewed})).length,l=o.length?o[0].sentBy.firstName:c[0].sentTo.firstName,d=o.length?o[0].negotiation.ad.wineName:c[0].negotiation.ad.wineName;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(f.a,{button:!0,component:i.forwardRef((function(e,t){return Object(a.jsx)(g.a,Object(j.a)({to:"/messaggi/".concat(n),ref:t},e))})),children:[Object(a.jsx)(h.a,{children:Object(a.jsx)(O.a,{badgeContent:s,color:"primary",children:Object(a.jsx)(v.a,{})})}),Object(a.jsx)(p.a,{primary:"Amministratore"===l?"Amministratore":"Cantina ".concat(l," - ").concat(d)})]}),Object(a.jsx)(m.a,{})]})},w=n(450);t.default=function(){var e,t,n=Object(l.B)({fetchPolicy:"network-only",onError:function(e){Object(y.d)({type:"error",message:e.message})}}),i=(null===(e=n.data)||void 0===e?void 0:e.messages)&&(null===(t=n.data)||void 0===t?void 0:t.messages),d=u.a.groupBy(i,(function(e){return e.negotiation._id})),j=Object.entries(d).sort((function(e,t){return e[0].localeCompare(t[0])}));return n.loading?Object(a.jsx)(r.a,{}):n.error?Object(a.jsx)("div",{children:"error"}):j.length?i?Object(a.jsxs)(c.a,{component:"main",maxWidth:"sm",children:[Object(a.jsx)(o.a,{}),Object(a.jsx)(w.a,{}),Object(a.jsx)(s.a,{children:j.map((function(e){return Object(a.jsx)("div",{children:Object(a.jsx)(x,{messages:e[1],id:e[0]})},e[0])}))})]}):null:Object(a.jsx)("div",{children:"nno ci sono messaggi"})}}}]);
//# sourceMappingURL=12.2c5507fa.chunk.js.map