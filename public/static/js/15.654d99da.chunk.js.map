{"version":3,"sources":["components/BackButton.tsx","../node_modules/@material-ui/icons/ArrowBackIos.js","components/FormFields/TextFieldAdornment.tsx","components/FormFields/ComboboxFieldWines.tsx","components/WineForms/Search/WineFormQuery.tsx","components/FormFields/SelectField.tsx","components/AddressForm/index.tsx","components/WineForms/Post/WineFormMutation.tsx","pages/BuySell.tsx"],"names":["BackButton","aria-label","color","size","startIcon","onClick","navigate","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","TextFieldAdornment","props","useField","name","type","field","error","touched","TextField","fullWidth","inputProps","min","max","step","InputLabelProps","style","labelTextColor","className","class","InputProps","endAdornment","InputAdornment","position","adornment","inputTextColor","classes","underline","underlineColor","undefined","data-testid","placeholder","label","helperText","useStyles","makeStyles","option","groupLabel","Combobox","items","setFieldValue","defaultWine","options","map","regione","denominazioneVino","Autocomplete","sort","a","b","localeCompare","groupBy","getOptionSelected","defaultValue","inputRoot","getOptionLabel","onChange","e","renderInput","params","component","autoComplete","initialValues","wineName","harvest","abv","price","liters","WineFormQuery","onSubmit","adType","wines","useStylesForms","wineOptions","data","wine","year","Date","getFullYear","loading","Loading","message","validationSchema","Yup","required","positive","moreThan","lessThan","isValid","dirty","TypeAd","Buy","form","formSell","Typography","variant","underlineSell","input","inputSell","Button","submit","submitSell","disabled","SelectField","FormControl","InputLabel","labelColor","htmlFor","Select","native","root","icon","textColor","id","FormHelperText","AddressForm","useFormikContext","values","isSameAddress","Grid","item","xs","ComboboxField","optionsRegioni","ComboboxProvince","ComboboxComuni","initialAddress","comune","provincia","WineFormMutation","searchedWineCache","searchedWine","sottoZona","menzione","metodoProduttivo","content","needsFollowUp","address","shape","Menzione","MetodoProduttivo","multiline","SliderField","sameAddress","differentAddress","me","myInfo","useLocation","pathname","Sell","winesQueryResult","useWinesQuery","useCreateAdWineMutation","onError","notification","onCompleted","createAd","errors","length","errorMessages","text","toString","update","cache","response","updateCacheAd","createAdWineMutation","buyOrSellText","buyerSellerText","Container","maxWidth","CssBaseline","paper","isPost","adInput","typeAd","typeProduct","priceFrom","priceTo","litersFrom","litersTo","variables","TypeProduct","AdWine"],"mappings":"sNAOaA,EAAuB,WAiClC,OACE,cAAC,IAAD,CACEC,aAAW,gBACXC,MAAM,UACNC,KAAK,QACLC,UAAW,cAAC,IAAD,IACXC,QAAS,kBAAMC,aAAU,IAL3B,8B,iCCvCJ,IAAIC,EAAyBC,EAAQ,IAEjCC,EAA0BD,EAAQ,IAEtCE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAAQN,EAAwBD,EAAQ,IAIxCQ,GAAW,EAFMT,EAAuBC,EAAQ,KAElBM,SAAuBC,EAAME,cAAc,OAAQ,CACnFC,EAAG,wDACD,gBAEJN,EAAQE,QAAUE,G,qHCCLG,EAAsC,SAACC,GAAW,IAAD,EACxBC,YAAS,CAC3CC,KAAMF,EAAME,KACZC,KAAMH,EAAMG,OAH8C,mBACrDC,EADqD,YAC5CC,EAD4C,EAC5CA,MAAOC,EADqC,EACrCA,QAIvB,OACE,cAACC,EAAA,EAAD,2BACMH,GADN,IAEEI,WAAS,EACTL,KAAMH,EAAMG,KACZM,WAAY,CACV,aAAcT,EAAME,KACpBQ,IAAKV,EAAMU,IACXC,IAAKX,EAAMW,IACXC,KAAMZ,EAAMY,MAEdC,gBAAiB,CACfC,MAAO,CAAEhC,MAAOkB,EAAMe,iBAExBC,UAAWhB,EAAMiB,MACjBC,WAAY,CACVC,aACE,cAACC,EAAA,EAAD,CAAgBC,SAAS,MAAzB,SAAgCrB,EAAMsB,YAExCN,UAAWhB,EAAMuB,eACjBC,QAAS,CACPC,UAAWzB,EAAM0B,iBAGrBrB,WAAiBsB,IAAVtB,GAAuBC,EAC9BsB,cAAa5B,EAAME,KACnB2B,YAAa7B,EAAM6B,YACnBC,MAAO9B,EAAM8B,MACbC,WAAY1B,M,2BCrCZ2B,EAAYC,YAAW,CAC3BC,OAAQ,CACNpD,MAAO,QAETqD,WAAY,CACVrD,MAAO,aAIEsD,EASR,SAAC,GAQC,IAPLC,EAOI,EAPJA,MACAP,EAMI,EANJA,MACA5B,EAKI,EALJA,KACAoC,EAII,EAJJA,cACAC,EAGI,EAHJA,YACAxB,EAEI,EAFJA,eACAW,EACI,EADJA,eACI,EAE4BzB,YAAS,CACvCC,KAAMA,IAHJ,iCAEQG,EAFR,EAEQA,MAAOC,EAFf,EAEeA,QAGbkB,EAAUQ,IAEVQ,EAAUH,EAAMI,KAAI,SAACP,GAGzB,MAAO,CACLQ,QAHcR,EAAOQ,QAAQ,GAI7BC,kBAH4BT,EAAtBS,sBAOV,OACE,cAACC,EAAA,EAAD,CACEhB,cAAY,iBACZY,QAASA,EAAQK,MAAK,SAACC,EAAGC,GAAJ,OAAWA,EAAEL,QAAQM,cAAcF,EAAEJ,YAC3DO,QAAS,SAACf,GAAD,OAA0BA,EAAOQ,SAC1CQ,kBAAmB,SAAChB,EAAQzC,GAAT,OACjByC,EAAOS,oBAAsBlD,EAAMkD,mBAErCQ,aACEZ,EAAc,CAAEG,QAAS,GAAIC,kBAAmBJ,GAAgB,KAElEf,QAAS,CACPU,OAAQV,EAAQU,OAChBC,WAAYX,EAAQW,WACpBiB,UAAW1B,GAEb2B,eAAgB,SAACnB,GAAD,OAA0BA,EAAOS,mBACjDnC,WAAS,EACT8C,SAAU,SAACC,EAAGrB,GACZI,EAAcpC,EAAD,OAAOgC,QAAP,IAAOA,OAAP,EAAOA,EAAQS,oBAE9Ba,YAAa,SAACC,GAAD,OACX,cAAC,IAAD,yBACEC,UAAWnD,KACPkD,GAFN,IAGE3B,MAAOA,EACPzB,MAAOC,QAAqBqB,IAAVtB,EAClB0B,WAAY1B,EACZI,WAAU,2BACLgD,EAAOhD,YADF,IAERkD,aAAc,iBAEhB9C,gBAAiB,CACfC,MAAO,CAAEhC,MAAOiC,W,2CClEtB6C,EAA+B,CACnCC,SAAU,GACVC,QAAS,KACTC,IAAK,KACLC,MAAO,EACPC,OAAQ,KAEGC,EASR,SAAC,GAAiC,IAAD,IAA9BC,EAA8B,EAA9BA,SAAUC,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,MAClB7C,EAAU8C,cAEVC,GAAc,UAAAF,EAAMG,YAAN,eAAYH,OAAZ,UAChBA,EAAMG,YADU,aAChB,EAAYH,MAAM5B,KAAI,SAACgC,GAAD,MAAW,CAC/B9B,kBAAmB8B,EAAK9B,kBACxBD,QAAS+B,EAAK/B,YAEhB,KAEEgC,GADQ,IAAIC,MACCC,cAEnB,OAAIP,EAAMQ,QACD,cAACC,EAAA,EAAD,IAELT,EAAMhE,MAAc,2CAAcgE,EAAMhE,MAAM0E,WAEhD,cAAC,IAAD,CACEnB,cAAeA,EACfoB,iBAAkBC,IAAW,CAC3BpB,SAAUoB,MAAaC,SAAS,YAChCpB,QAASmB,MACNE,SAAS,+BACTC,SAAS,KAAM,uCACfC,SAASX,EAHH,+CAG8CA,IACpDQ,SAAS,YACZnB,IAAKkB,MACFE,SAAS,+CACTE,SAAS,GAAI,2DACbH,SAAS,YACZlB,MAAOiB,MACJE,SAAS,2CACTE,SAAS,IAAK,+BACdH,SAAS,YACZjB,OAAQgB,MACLE,SAAS,uCACTD,SAAS,cAEdf,SAAUA,EArBZ,SAuBG,YAAwC,IAArCmB,EAAoC,EAApCA,QAASC,EAA2B,EAA3BA,MAAOjD,EAAoB,EAApBA,cAClB,OACE,eAAC,IAAD,CACEtB,UAAWoD,IAAWoB,IAAOC,IAAMjE,EAAQkE,KAAOlE,EAAQmE,SAD5D,UAGE,cAACC,EAAA,EAAD,CACElC,UAAU,KACVmC,QAAQ,KACR/G,MAAOsF,IAAWoB,IAAOC,IAAM,gBAAkB,UAHnD,2BAOA,uBACA,cAAC,EAAD,CACEvF,KAAK,WACL4B,MAAM,OACNO,MAAOkC,EACPjC,cAAeA,EACfvB,eAAgBqD,IAAWoB,IAAOC,IAAM,OAAS,UACjD/D,eACE0C,IAAWoB,IAAOC,IACdjE,EAAQC,UACRD,EAAQsE,gBAGhB,cAAC,IAAD,CACE5F,KAAK,UACLC,KAAK,SACL2B,MAAM,YACNpB,IAAI,OACJC,IAAG,UAAK+D,GACR9D,KAAK,IACLc,eACE0C,IAAWoB,IAAOC,IACdjE,EAAQC,UACRD,EAAQsE,cAEdjE,YAAY,iBACZd,eAAgBqD,IAAWoB,IAAOC,IAAM,OAAS,UACjDlE,eACE6C,IAAWoB,IAAOC,IAAMjE,EAAQuE,MAAQvE,EAAQwE,YAGpD,cAAC,EAAD,CACE9F,KAAK,MACLC,KAAK,SACL2B,MAAM,sBACNpB,IAAI,IACJC,IAAI,KACJC,KAAK,MACLiB,YAAY,mBACZP,UAAU,IACVI,eACE0C,IAAWoB,IAAOC,IACdjE,EAAQC,UACRD,EAAQsE,cAEd/E,eAAgBqD,IAAWoB,IAAOC,IAAM,OAAS,UACjDlE,eACE6C,IAAWoB,IAAOC,IAAMjE,EAAQuE,MAAQvE,EAAQwE,YAGpD,cAAC,EAAD,CACE9F,KAAK,QACLC,KAAK,SACL2B,MAAM,0BACNpB,IAAI,IACJC,IAAI,MACJC,KAAK,MACLiB,YAAY,mBACZP,UAAU,SACVI,eACE0C,IAAWoB,IAAOC,IACdjE,EAAQC,UACRD,EAAQsE,cAEd/E,eAAgBqD,IAAWoB,IAAOC,IAAM,OAAS,UACjDlE,eACE6C,IAAWoB,IAAOC,IAAMjE,EAAQuE,MAAQvE,EAAQwE,YAGpD,cAAC,EAAD,CACE9F,KAAK,SACLC,KAAK,SACL2B,MAAM,kBACNpB,IAAI,IACJC,IAAI,SACJC,KAAK,IACLiB,YAAY,qBACZP,UAAU,IACVI,eACE0C,IAAWoB,IAAOC,IACdjE,EAAQC,UACRD,EAAQsE,cAEd/E,eAAgBqD,IAAWoB,IAAOC,IAAM,OAAS,UACjDlE,eACE6C,IAAWoB,IAAOC,IAAMjE,EAAQuE,MAAQvE,EAAQwE,YAIpD,cAACC,EAAA,EAAD,CACEjF,UACEoD,IAAWoB,IAAOC,IAAMjE,EAAQ0E,OAAS1E,EAAQ2E,WAGnDhG,KAAK,SACLiG,UAAWb,IAAUD,EANvB,2B,4CCrKCe,EAA+B,SAACrG,GAAW,IAAD,EACjBC,YAAS,CAC3CC,KAAMF,EAAME,OAFuC,mBAC9CE,EAD8C,YACrCC,EADqC,EACrCA,MAAOC,EAD8B,EAC9BA,QAGvB,OACE,eAACgG,EAAA,EAAD,CAAa9F,WAAS,EAACH,WAAiBsB,IAAVtB,GAAuBC,EAArD,UACE,cAACiG,EAAA,EAAD,CACEzF,MAAO,CAAEhC,MAAOkB,EAAMwG,YACtBC,QAAO,uBAAkBzG,EAAME,MAFjC,SAIGF,EAAM8B,QAET,cAAC4E,EAAA,EAAD,yBACEC,QAAM,EACN3F,UAAWhB,EAAM0B,eACjBF,QAAS,CACPoF,KAAM5G,EAAM0B,eACZmF,KAAM7G,EAAM8G,WAEdrG,WAAY,CAAEsG,GAAG,gBAAD,OAAkB/G,EAAME,MAAQA,KAAME,EAAMF,OACxDE,GARN,aAUGJ,EAAMwC,QAAQC,KAAI,SAACP,GAAD,OACjB,wBAAqBzC,MAAOyC,EAA5B,SACGA,GADUA,SAKjB,cAAC8E,EAAA,EAAD,UAAiB3G,Q,sDCpCV4G,EAOR,SAAC,GAAuB,IAArB3E,EAAoB,EAApBA,cAEN,OAA6B,IADoB4E,cAAzCC,OACGC,cACF,KAGP,qCACE,cAACC,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACE,cAACC,EAAA,EAAD,CACElF,cAAeA,EACfpC,KAAK,kBACL4B,MAAM,UACNO,MAAOoF,QAGX,cAACJ,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACE,cAACG,EAAA,EAAD,CACEpF,cAAeA,EACfpC,KAAK,oBACL4B,MAAM,gBAGV,cAACuF,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACE,cAACI,EAAA,EAAD,CACErF,cAAeA,EACfpC,KAAK,iBACL4B,MAAM,iBCbV8F,EAAmC,CACvCC,OAAQ,GACRC,UAAW,GACXpF,QAAS,IAsBEqF,EASR,SAAC,GAAiC,IAAD,IAA9B5D,EAA8B,EAA9BA,SAAUC,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,MAClBE,GAAc,UAAAF,EAAMG,YAAN,eAAYH,OAAZ,UAChBA,EAAMG,YADU,aAChB,EAAYH,MAAM5B,KAAI,SAACgC,GAAD,MAAW,CAC/B9B,kBAAmB8B,EAAK9B,kBACxBD,QAAS+B,EAAK/B,YAEhB,KACElB,EAAU8C,cAEVI,GADQ,IAAIC,MACCC,cACboD,EAAoBC,cACpBrE,EAAkC,CACtCC,SAAQ,OAAEmE,QAAF,IAAEA,OAAF,EAAEA,EAAmBnE,SAC7BC,QAAO,OAAEkE,QAAF,IAAEA,OAAF,EAAEA,EAAmBlE,QAC5BC,IAAG,OAAEiE,QAAF,IAAEA,OAAF,EAAEA,EAAmBjE,IACxBC,MAAK,OAAEgE,QAAF,IAAEA,OAAF,EAAEA,EAAmBhE,MAC1BC,OAAM,OAAE+D,QAAF,IAAEA,OAAF,EAAEA,EAAmB/D,OAC3BiE,UAAW,GACXC,SAAU,GACVC,iBAAkB,GAClBC,QAAS,GACTC,eAAe,EACflB,eAAe,EACfmB,QAASX,GAGX,OAAIvD,EAAMQ,QACD,cAACC,EAAA,EAAD,IAELT,EAAMhE,MAAc,2CAAcgE,EAAMhE,MAAM0E,WAEhD,cAAC,IAAD,CACEnB,cAAeA,EACfoB,iBAAkBC,IAAW,CAC3BpB,SAAUoB,MAAaC,SAAS,YAChCpB,QAASmB,MACNE,SAAS,+BACTC,SAAS,KAAM,uCACfC,SAASX,EAHH,+CAG8CA,IACpDQ,SAAS,YACZnB,IAAKkB,MACFE,SAAS,+CACTE,SAAS,GAAI,2DACbH,SAAS,YACZlB,MAAOiB,MACJE,SAAS,2CACTE,SAAS,IAAK,+BACdH,SAAS,YACZjB,OAAQgB,MACLE,SAAS,uCACTD,SAAS,YACZgD,UAAWjD,MACXkD,SAAUlD,MACVmD,iBAAkBnD,MAClBoD,QAASpD,MAAaC,SAAS,YAC/BoD,cAAerD,MAAWC,SAAS,YACnCkC,cAAenC,MAAWC,SAAS,YACnCqD,QAAStD,MAAauD,MAAM,CAC1BX,OAAQ5C,MACR6C,UAAW7C,MACXvC,QAASuC,UAGbd,SAAUA,EAhCZ,SAkCG,YAAwC,IAArCmB,EAAoC,EAApCA,QAASC,EAA2B,EAA3BA,MAAOjD,EAAoB,EAApBA,cAClB,OACE,eAAC,IAAD,CACEtB,UAAWoD,IAAWoB,IAAOC,IAAMjE,EAAQkE,KAAOlE,EAAQmE,SAD5D,UAGE,cAACC,EAAA,EAAD,CACElC,UAAU,KACVmC,QAAQ,KACR/G,MAAOsF,IAAWoB,IAAOC,IAAM,gBAAkB,UAHnD,2BAOA,cAAC,EAAD,CACEvF,KAAK,WACL4B,MAAM,OACNS,YAAaqB,EAAcC,SAC3BxB,MAAOkC,EACPjC,cAAeA,EACfvB,eAAgBqD,IAAWoB,IAAOC,IAAM,OAAS,UACjD/D,eACE0C,IAAWoB,IAAOC,IACdjE,EAAQC,UACRD,EAAQsE,gBAGhB,cAAC,IAAD,CACE5F,KAAK,UACLC,KAAK,SACL2B,MAAM,YACNpB,IAAI,OACJC,IAAG,UAAK+D,GACR9D,KAAK,IACLc,eACE0C,IAAWoB,IAAOC,IACdjE,EAAQC,UACRD,EAAQsE,cAEdjE,YAAY,iBACZd,eAAgBqD,IAAWoB,IAAOC,IAAM,OAAS,UACjDlE,eACE6C,IAAWoB,IAAOC,IAAMjE,EAAQuE,MAAQvE,EAAQwE,YAGpD,cAAC,EAAD,CACE9F,KAAK,MACLC,KAAK,SACL2B,MAAM,sBACNpB,IAAI,IACJC,IAAI,KACJC,KAAK,MACLiB,YAAY,mBACZP,UAAU,IACVI,eACE0C,IAAWoB,IAAOC,IACdjE,EAAQC,UACRD,EAAQsE,cAEd/E,eAAgBqD,IAAWoB,IAAOC,IAAM,OAAS,UACjDlE,eACE6C,IAAWoB,IAAOC,IAAMjE,EAAQuE,MAAQvE,EAAQwE,YAGpD,cAAC,EAAD,CACE9F,KAAK,QACLC,KAAK,SACL2B,MAAM,4BACNpB,IAAI,IACJC,IAAI,MACJC,KAAK,MACLiB,YAAY,mBACZP,UAAU,SACVI,eACE0C,IAAWoB,IAAOC,IACdjE,EAAQC,UACRD,EAAQsE,cAEd/E,eAAgBqD,IAAWoB,IAAOC,IAAM,OAAS,UACjDlE,eACE6C,IAAWoB,IAAOC,IAAMjE,EAAQuE,MAAQvE,EAAQwE,YAGpD,cAAC,EAAD,CACE9F,KAAK,SACLC,KAAK,SACL2B,MAAM,kBACNpB,IAAI,IACJC,IAAI,SACJC,KAAK,IACLiB,YAAY,qBACZP,UAAU,IACVI,eACE0C,IAAWoB,IAAOC,IACdjE,EAAQC,UACRD,EAAQsE,cAEd/E,eAAgBqD,IAAWoB,IAAOC,IAAM,OAAS,UACjDlE,eACE6C,IAAWoB,IAAOC,IAAMjE,EAAQuE,MAAQvE,EAAQwE,YAGpD,cAAC,EAAD,CACE9F,KAAK,WACL4B,MAAM,oBACNU,QAASlD,OAAO6H,OAAOsB,KACvB/G,eACE0C,IAAWoB,IAAOC,IACdjE,EAAQC,UACRD,EAAQsE,cAEdU,WAAYpC,IAAWoB,IAAOC,IAAM,OAAS,UAC7CqB,UACE1C,IAAWoB,IAAOC,IAAMjE,EAAQuE,MAAQvE,EAAQwE,YAGpD,cAAC,EAAD,CACE9F,KAAK,mBACL4B,MAAM,6BACNU,QAASlD,OAAO6H,OAAOuB,KACvBhH,eACE0C,IAAWoB,IAAOC,IACdjE,EAAQC,UACRD,EAAQsE,cAEdU,WAAYpC,IAAWoB,IAAOC,IAAM,OAAS,UAC7CqB,UACE1C,IAAWoB,IAAOC,IAAMjE,EAAQuE,MAAQvE,EAAQwE,YAGpD,cAAC,IAAD,CACE9F,KAAK,YACLC,KAAK,OACL2B,MAAM,sBACND,YAAY,sBACZH,eACE0C,IAAWoB,IAAOC,IACdjE,EAAQC,UACRD,EAAQsE,cAEd/E,eAAgBqD,IAAWoB,IAAOC,IAAM,OAAS,UACjDlE,eACE6C,IAAWoB,IAAOC,IAAMjE,EAAQuE,MAAQvE,EAAQwE,YAGpD,cAAC,IAAD,CACE9F,KAAK,UACLC,KAAK,OACLwI,WAAW,EACX7G,MAAM,cACND,YAAY,uBACZH,eACE0C,IAAWoB,IAAOC,IACdjE,EAAQC,UACRD,EAAQsE,cAEd/E,eAAgBqD,IAAWoB,IAAOC,IAAM,OAAS,UACjDlE,eACE6C,IAAWoB,IAAOC,IAAMjE,EAAQuE,MAAQvE,EAAQwE,YAGpD,cAAC4C,EAAA,EAAD,CACE1I,KAAK,gBACL4B,MAAM,yCACN0E,WAAYpC,IAAWoB,IAAOC,IAAM,OAAS,YAE/C,cAACmD,EAAA,EAAD,CACE1I,KAAK,gBACL4B,MAAM,mDACN0E,WAAYpC,IAAWoB,IAAOC,IAAM,OAAS,YAE/C,cAAC,EAAD,CAAanD,cAAeA,IAE5B,cAAC2D,EAAA,EAAD,CAEEjF,UACEoD,IAAWoB,IAAOC,IAAMjE,EAAQ0E,OAAS1E,EAAQ2E,WAEnDhG,KAAK,SACLiG,UAAWb,IAAUD,EANvB,2B,mCCtKGG,UAjH4B,WACzC,IAIIoD,EACAC,EALEC,EAAKC,cACLxH,EAAUQ,cAEVoC,EAA+B,SADpB6E,cACOC,SAAsB1D,IAAOC,IAAMD,IAAO2D,KAG5DC,EAAmBC,cACnBrB,EAAoBC,cARqB,EAShBqB,YAAwB,CACrDC,QAAS,SAAClJ,GAAD,OACPmJ,YAAa,CACXrJ,KAAM,QACN4E,QAAQ,GAAD,OAAK1E,EAAM0E,YAEtB0E,YAAa,YAAmB,IAAD,EAAfC,EAAe,EAAfA,SACd,UAAIA,QAAJ,IAAIA,GAAJ,UAAIA,EAAUC,cAAd,aAAI,EAAkBC,OAAQ,CAC5B,IAAMC,EAAgBH,EAASC,OAAOlH,KAAI,SAACpC,GAAD,cAAWA,QAAX,IAAWA,OAAX,EAAWA,EAAOyJ,QAC5DN,YAAa,CACXrJ,KAAM,QACN4E,QAAQ,GAAD,OAAK8E,EAAcE,mBAG5BP,YAAa,CACXrJ,KAAM,UACN4E,QAAS,gBAIfiF,OAAQ,SAACC,EAAOC,GAAc,IAAD,IAC3BC,YAAcF,EAAD,UAAQC,EAAS1F,YAAjB,iBAAQ,EAAekF,gBAAvB,aAAQ,EAAyBQ,aArB3CE,EATwC,oBAgFzCC,EAAgBjG,IAAWoB,IAAOC,IAAM,WAAa,UACrD6E,EAAkBlG,IAAWoB,IAAOC,IAAM,aAAe,YAE/D,OACE,eAAC8E,EAAA,EAAD,CAAW7G,UAAU,OAAO8G,SAAS,KAArC,UACE,cAACC,EAAA,EAAD,IACA,cAAC7L,EAAA,EAAD,IACA,sBAAKoC,UAAWQ,EAAQkJ,MAAxB,UACE,eAAC9E,EAAA,EAAD,CAAYlC,UAAU,KAAKmC,QAAQ,KAAK/G,MAAM,UAA9C,2BACiBuL,EADjB,OAGA,eAACzE,EAAA,EAAD,CAAYlC,UAAU,IAAI5E,MAAM,UAAhC,wDAC8CuL,EAD9C,qCAE+BC,EAF/B,QAIkB,OAAjBtC,QAAiB,IAAjBA,OAAA,EAAAA,EAAmB2C,QAClB,cAAC,EAAD,CACEtG,MAAO+E,EACPjF,SAlDe,SAACgD,GACpBA,EAAOC,gBAAP,OAAwB2B,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAIR,SAC9BM,EAAc,CACZnG,QAASqG,EAAGR,QAAQ7F,QACpBoF,UAAWiB,EAAGR,QAAQT,UACtBD,OAAQkB,EAAGR,QAAQV,QAGrBiB,EAAmB3B,EAAOoB,QAE5B,IAAMqC,EAAmB,CACvB/G,SAAUsD,EAAOtD,SACjBgH,OAAM,OAAE7C,QAAF,IAAEA,OAAF,EAAEA,EAAmB6C,OAC3BC,YAAW,OAAE9C,QAAF,IAAEA,OAAF,EAAEA,EAAmB8C,YAChCzC,QAASlB,EAAOkB,QAChBvE,QAASqD,EAAOrD,QAChBC,IAAKoD,EAAOpD,IACZgH,UAAW5D,EAAOnD,MAClBgH,QAAS7D,EAAOnD,MAChBiH,WAAY9D,EAAOlD,OACnBiH,SAAU/D,EAAOlD,OACjBqE,cAAenB,EAAOmB,cACtBC,QAASpB,EAAOC,cAAgByB,EAAcC,GAE3CsB,EAAqB,CACxBe,UAAW,CACTpF,MAAO6E,KAGX3C,iBAAatG,GACRzC,YAAS,MAqBNkF,OAAQA,IAGV,cAAC,EAAD,CACEC,MAAO+E,EACPjF,SAtEY,SAACgD,GACrBc,YAAa,CACXpE,SAAUsD,EAAOtD,SACjBgH,OAAQzG,EACR0G,YAAaM,IAAYC,OACzBpH,OAAQkD,EAAOlD,OACfH,QAASqD,EAAOrD,QAChBC,IAAKoD,EAAOpD,IACZC,MAAOmD,EAAOnD,MACd2G,QAAQ,IAELzL,YAAS,aA4DNkF,OAAQA","file":"static/js/15.654d99da.chunk.js","sourcesContent":["import Button from '@material-ui/core/Button';\nimport * as React from 'react';\n// import { searchedWine } from '../cache';\nimport { navigate } from '@reach/router';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\n// import { TypeAd } from '../generated/graphql';\n\nexport const BackButton: React.FC = () => {\n  // // const searchedWineCache = searchedWine();\n  // // const { pathname } = useLocation();\n  // // if (searchedWineCache?.typeAd === TypeAd.Buy && pathname !== '/buy') {\n  // //   return (\n  // //     <Button\n  // //       component={Link}\n  // //       to='/buy'\n  // //       //variant='contained'\n  // //       color='primary'\n  // //       size='large'\n  // //       startIcon={<ArrowBackIosIcon />}\n  // //     >\n  // //       Compra\n  // //     </Button>\n  // //   );\n  // // } else if (\n  // //   searchedWineCache?.typeAd === TypeAd.Sell &&\n  // //   pathname !== '/sell'\n  // // ) {\n  //   return (\n  //     <Button\n  //       component={Link}\n  //       to='/sell'\n  //       //variant='contained'\n  //       color='primary'\n  //       size='large'\n  //       startIcon={<ArrowBackIosIcon />}\n  //     >\n  //       Vendi\n  //     </Button>\n  //   );\n  // } else\n  return (\n    <Button\n      aria-label='previous-page'\n      color='primary'\n      size='large'\n      startIcon={<ArrowBackIosIcon />}\n      onClick={() => navigate(-1)}\n    >\n      Torna indietro\n    </Button>\n  );\n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z\"\n}), 'ArrowBackIos');\n\nexports.default = _default;","/* eslint-disable @typescript-eslint/no-unsafe-assignment */\nimport * as React from 'react';\nimport { useField } from 'formik';\nimport TextFieldMaterial from '@material-ui/core/TextField';\nimport { InputAdornment } from '@material-ui/core';\n\ninterface Props {\n  name: string;\n  placeholder: string;\n  label: string;\n  type: string;\n  adornment: string;\n  min?: string;\n  max?: string;\n  step?: string;\n  class?: string;\n  inputTextColor?: string;\n  labelTextColor?: string;\n  underlineColor?: string;\n}\nexport const TextFieldAdornment: React.FC<Props> = (props) => {\n  const [field, { error, touched }] = useField({\n    name: props.name,\n    type: props.type,\n  });\n  return (\n    <TextFieldMaterial\n      {...field}\n      fullWidth\n      type={props.type}\n      inputProps={{\n        'aria-label': props.name,\n        min: props.min,\n        max: props.max,\n        step: props.step,\n      }}\n      InputLabelProps={{\n        style: { color: props.labelTextColor },\n      }}\n      className={props.class}\n      InputProps={{\n        endAdornment: (\n          <InputAdornment position='end'>{props.adornment}</InputAdornment>\n        ),\n        className: props.inputTextColor,\n        classes: {\n          underline: props.underlineColor,\n        },\n      }}\n      error={error !== undefined && touched}\n      data-testid={props.name}\n      placeholder={props.placeholder}\n      label={props.label}\n      helperText={error}\n    />\n  );\n};\n","import * as React from 'react';\nimport { Field, useField } from 'formik';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { makeStyles } from '@material-ui/core/styles';\n\ninterface Wine {\n  denominazioneVino: string;\n  regione: [string];\n}\n\ninterface WineCombobox {\n  denominazioneVino: string;\n  regione: string;\n}\n\nconst useStyles = makeStyles({\n  option: {\n    color: '#000',\n  },\n  groupLabel: {\n    color: '#707070',\n  },\n});\n\nexport const Combobox: React.FC<{\n  items: Wine[];\n  label: string;\n  name: string;\n  defaultWine?: string;\n  labelTextColor?: string;\n  underlineColor?: string;\n\n  setFieldValue: (name: string, value: string) => void;\n}> = ({\n  items,\n  label,\n  name,\n  setFieldValue,\n  defaultWine,\n  labelTextColor,\n  underlineColor,\n}) => {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const [_, { error, touched }] = useField({\n    name: name,\n  });\n  const classes = useStyles();\n\n  const options = items.map((option) => {\n    const regione = option.regione[0];\n    const { denominazioneVino } = option;\n    return {\n      regione,\n      denominazioneVino,\n    };\n  });\n\n  return (\n    <Autocomplete\n      data-testid='combobox-wines'\n      options={options.sort((a, b) => -b.regione.localeCompare(a.regione))}\n      groupBy={(option: WineCombobox) => option.regione}\n      getOptionSelected={(option, value) =>\n        option.denominazioneVino === value.denominazioneVino\n      }\n      defaultValue={\n        defaultWine ? { regione: '', denominazioneVino: defaultWine } : null\n      }\n      classes={{\n        option: classes.option,\n        groupLabel: classes.groupLabel,\n        inputRoot: underlineColor,\n      }}\n      getOptionLabel={(option: WineCombobox) => option.denominazioneVino}\n      fullWidth\n      onChange={(e, option) => {\n        setFieldValue(name, option?.denominazioneVino as string);\n      }}\n      renderInput={(params) => (\n        <Field\n          component={TextField}\n          {...params}\n          label={label}\n          error={touched && error !== undefined}\n          helperText={error}\n          inputProps={{\n            ...params.inputProps,\n            autoComplete: 'new-password',\n          }}\n          InputLabelProps={{\n            style: { color: labelTextColor },\n          }}\n        />\n      )}\n    />\n  );\n};\n","import { Form, Formik } from 'formik';\nimport * as React from 'react';\nimport * as Yup from 'yup';\nimport { TextFieldAdornment } from '../../FormFields/TextFieldAdornment';\nimport { TextField } from '../../FormFields/TextField';\nimport { Combobox } from '../../FormFields/ComboboxFieldWines';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { Exact, TypeAd, WinesQuery } from '../../../generated/graphql';\nimport { useStylesForms } from '../../../utils/styleHook';\nimport { QueryResult } from '@apollo/client';\nimport { Loading } from '../../Loading';\n\nexport interface WineFormQuery {\n  wineName: string;\n  harvest?: number | '';\n  abv?: number | '';\n  price?: number | '';\n  liters?: number | '';\n}\ninterface Wine {\n  denominazioneVino: string;\n  regione: [string];\n}\n\nconst initialValues: WineFormQuery = {\n  wineName: '',\n  harvest: 2015,\n  abv: 13.5,\n  price: 1,\n  liters: 100,\n};\nexport const WineFormQuery: React.FC<{\n  onSubmit: (values: WineFormQuery) => void;\n  adType: TypeAd;\n  wines: QueryResult<\n    WinesQuery,\n    Exact<{\n      [key: string]: never;\n    }>\n  >;\n}> = ({ onSubmit, adType, wines }) => {\n  const classes = useStylesForms();\n\n  const wineOptions = wines.data?.wines\n    ? wines.data?.wines.map((wine) => ({\n        denominazioneVino: wine.denominazioneVino,\n        regione: wine.regione,\n      }))\n    : null;\n  const today = new Date();\n  const year = today.getFullYear();\n\n  if (wines.loading) {\n    return <Loading />;\n  }\n  if (wines.error) return <div>Error...{wines.error.message}</div>;\n  return (\n    <Formik\n      initialValues={initialValues}\n      validationSchema={Yup.object({\n        wineName: Yup.string().required('Required'),\n        harvest: Yup.number()\n          .positive(\"L'anno deve essere positivo\")\n          .moreThan(1900, \"L'anno deve essere maggiore di 1900\")\n          .lessThan(year, `L'anno non può essere maggiore di ${year}`)\n          .required('Required'),\n        abv: Yup.number()\n          .positive('La gradazione alcolica deve essere positiva')\n          .lessThan(22, 'La gradazione alcolica non può essere maggiore di 22')\n          .required('Required'),\n        price: Yup.number()\n          .positive('Il prezzo al litro deve essere positivo')\n          .lessThan(100, 'Questo prezzo è al litro')\n          .required('Required'),\n        liters: Yup.number()\n          .positive('La quantità deve essere positiva')\n          .required('Required'),\n      })}\n      onSubmit={onSubmit}\n    >\n      {({ isValid, dirty, setFieldValue }) => {\n        return (\n          <Form\n            className={adType === TypeAd.Buy ? classes.form : classes.formSell}\n          >\n            <Typography\n              component='h3'\n              variant='h5'\n              color={adType === TypeAd.Buy ? 'textSecondary' : 'primary'}\n            >\n              Dati prodotto\n            </Typography>\n            <br />\n            <Combobox\n              name='wineName'\n              label='Vino'\n              items={wineOptions as Wine[]}\n              setFieldValue={setFieldValue}\n              labelTextColor={adType === TypeAd.Buy ? '#fff' : '#6d1331'}\n              underlineColor={\n                adType === TypeAd.Buy\n                  ? classes.underline\n                  : classes.underlineSell\n              }\n            />\n            <TextField\n              name='harvest'\n              type='number'\n              label='Vendemmia'\n              min='1900'\n              max={`${year}`}\n              step='1'\n              underlineColor={\n                adType === TypeAd.Buy\n                  ? classes.underline\n                  : classes.underlineSell\n              }\n              placeholder='Vendemmia anno'\n              labelTextColor={adType === TypeAd.Buy ? '#fff' : '#6d1331'}\n              inputTextColor={\n                adType === TypeAd.Buy ? classes.input : classes.inputSell\n              }\n            />\n            <TextFieldAdornment\n              name='abv'\n              type='number'\n              label='Gradazione alcolica'\n              min='0'\n              max='22'\n              step='0.5'\n              placeholder='Esempio 13.5 vol'\n              adornment='%'\n              underlineColor={\n                adType === TypeAd.Buy\n                  ? classes.underline\n                  : classes.underlineSell\n              }\n              labelTextColor={adType === TypeAd.Buy ? '#fff' : '#6d1331'}\n              inputTextColor={\n                adType === TypeAd.Buy ? classes.input : classes.inputSell\n              }\n            />\n            <TextFieldAdornment\n              name='price'\n              type='number'\n              label='Prezzo massimo al litro'\n              min='0'\n              max='100'\n              step='0.1'\n              placeholder='Esempio 3.5 euro'\n              adornment='€'\n              underlineColor={\n                adType === TypeAd.Buy\n                  ? classes.underline\n                  : classes.underlineSell\n              }\n              labelTextColor={adType === TypeAd.Buy ? '#fff' : '#6d1331'}\n              inputTextColor={\n                adType === TypeAd.Buy ? classes.input : classes.inputSell\n              }\n            />\n            <TextFieldAdornment\n              name='liters'\n              type='number'\n              label='Litri richiesti'\n              min='0'\n              max='999999'\n              step='1'\n              placeholder='Esempio 1000 litri'\n              adornment='l'\n              underlineColor={\n                adType === TypeAd.Buy\n                  ? classes.underline\n                  : classes.underlineSell\n              }\n              labelTextColor={adType === TypeAd.Buy ? '#fff' : '#6d1331'}\n              inputTextColor={\n                adType === TypeAd.Buy ? classes.input : classes.inputSell\n              }\n            />\n\n            <Button\n              className={\n                adType === TypeAd.Buy ? classes.submit : classes.submitSell\n              }\n              //isLoading={isValidating || isSubmitting}\n              type='submit'\n              disabled={!dirty || !isValid}\n            >\n              Submit\n            </Button>\n          </Form>\n        );\n      }}\n    </Formik>\n  );\n};\n","import * as React from 'react';\nimport { useField } from 'formik';\nimport InputLabel from '@material-ui/core/InputLabel';\n//import MenuItem from '@material-ui/core/MenuItem';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n\ninterface Props {\n  name: string;\n  label: string;\n  labelColor: string;\n  textColor: string;\n  underlineColor: string;\n  options: Array<string>;\n}\n\nexport const SelectField: React.FC<Props> = (props) => {\n  const [field, { error, touched }] = useField({\n    name: props.name,\n  });\n  return (\n    <FormControl fullWidth error={error !== undefined && touched}>\n      <InputLabel\n        style={{ color: props.labelColor }}\n        htmlFor={`select-label-${props.name}`}\n      >\n        {props.label}\n      </InputLabel>\n      <Select\n        native\n        className={props.underlineColor}\n        classes={{\n          root: props.underlineColor,\n          icon: props.textColor,\n        }}\n        inputProps={{ id: `select-label-${props.name}`, name: field.name }}\n        {...field}\n      >\n        {props.options.map((option) => (\n          <option key={option} value={option}>\n            {option}\n          </option>\n        ))}\n      </Select>\n      <FormHelperText>{error}</FormHelperText>\n    </FormControl>\n  );\n};\n","import { Grid } from '@material-ui/core';\nimport { useFormikContext } from 'formik';\nimport * as React from 'react';\nimport { ComboboxComuni } from '../FormFields/ComboboxComuni';\nimport { ComboboxField } from '../FormFields/ComboboxField';\nimport { ComboboxProvince } from '../FormFields/ComboboxProvince';\nimport { optionsRegioni } from '../UserForm/data';\nimport { WineFormMutation } from '../WineForms/Post/WineFormMutation';\n\nexport const AddressForm: React.FC<{\n  setFieldValue: (\n    field: string,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    value: any,\n    shouldValidate?: boolean | undefined\n  ) => void;\n}> = ({ setFieldValue }) => {\n  const { values }: { values: WineFormMutation } = useFormikContext();\n  if (values.isSameAddress === true) {\n    return null;\n  }\n  return (\n    <>\n      <Grid item xs={12}>\n        <ComboboxField\n          setFieldValue={setFieldValue}\n          name='address.regione'\n          label='Regione'\n          items={optionsRegioni}\n        />\n      </Grid>\n      <Grid item xs={12}>\n        <ComboboxProvince\n          setFieldValue={setFieldValue}\n          name='address.provincia'\n          label='Provincia'\n        />\n      </Grid>\n      <Grid item xs={12}>\n        <ComboboxComuni\n          setFieldValue={setFieldValue}\n          name='address.comune'\n          label='Comune'\n        />\n      </Grid>\n    </>\n  );\n};\n","import { Form, Formik } from 'formik';\nimport * as React from 'react';\nimport * as Yup from 'yup';\nimport { TextFieldAdornment } from '../../FormFields/TextFieldAdornment';\nimport { TextField } from '../../FormFields/TextField';\nimport { Combobox } from '../../FormFields/ComboboxFieldWines';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport {\n  Exact,\n  Menzione,\n  MetodoProduttivo,\n  TypeAd,\n  WinesQuery,\n} from '../../../generated/graphql';\nimport { SelectField } from '../../FormFields/SelectField';\nimport { SliderField } from '../../FormFields/SliderField';\nimport { searchedWine } from '../../../cache';\nimport { AddressForm } from '../../AddressForm';\nimport { useStylesForms } from '../../../utils/styleHook';\nimport { QueryResult } from '@apollo/client';\nimport { Loading } from '../../Loading';\n\ninterface AddressInputForm {\n  comune: string;\n  provincia: string;\n  regione: string;\n}\n\nconst initialAddress: AddressInputForm = {\n  comune: '',\n  provincia: '',\n  regione: '',\n};\n\nexport interface WineFormMutation {\n  wineName: string;\n  harvest: number | '';\n  abv: number | '';\n  price: number | '';\n  liters: number | '';\n  sottoZona?: string;\n  menzione?: Menzione | '';\n  content: string;\n  metodoProduttivo?: MetodoProduttivo | '';\n  needsFollowUp: boolean;\n  isSameAddress: boolean;\n  address?: AddressInputForm;\n}\ninterface Wine {\n  denominazioneVino: string;\n  regione: [string];\n}\n\nexport const WineFormMutation: React.FC<{\n  onSubmit: (values: WineFormMutation) => void;\n  adType: TypeAd;\n  wines: QueryResult<\n    WinesQuery,\n    Exact<{\n      [key: string]: never;\n    }>\n  >;\n}> = ({ onSubmit, adType, wines }) => {\n  const wineOptions = wines.data?.wines\n    ? wines.data?.wines.map((wine) => ({\n        denominazioneVino: wine.denominazioneVino,\n        regione: wine.regione,\n      }))\n    : null;\n  const classes = useStylesForms();\n  const today = new Date();\n  const year = today.getFullYear();\n  const searchedWineCache = searchedWine();\n  const initialValues: WineFormMutation = {\n    wineName: searchedWineCache?.wineName as string,\n    harvest: searchedWineCache?.harvest as number,\n    abv: searchedWineCache?.abv as number,\n    price: searchedWineCache?.price as number,\n    liters: searchedWineCache?.liters as number,\n    sottoZona: '',\n    menzione: '',\n    metodoProduttivo: '',\n    content: '',\n    needsFollowUp: false,\n    isSameAddress: false,\n    address: initialAddress,\n  };\n\n  if (wines.loading) {\n    return <Loading />;\n  }\n  if (wines.error) return <div>Error...{wines.error.message}</div>;\n  return (\n    <Formik\n      initialValues={initialValues}\n      validationSchema={Yup.object({\n        wineName: Yup.string().required('Required'),\n        harvest: Yup.number()\n          .positive(\"L'anno deve essere positivo\")\n          .moreThan(1900, \"L'anno deve essere maggiore di 1900\")\n          .lessThan(year, `L'anno non può essere maggiore di ${year}`)\n          .required('Required'),\n        abv: Yup.number()\n          .positive('La gradazione alcolica deve essere positiva')\n          .lessThan(22, 'La gradazione alcolica non può essere maggiore di 22')\n          .required('Required'),\n        price: Yup.number()\n          .positive('Il prezzo al litro deve essere positivo')\n          .lessThan(100, 'Questo prezzo è al litro')\n          .required('Required'),\n        liters: Yup.number()\n          .positive('La quantità deve essere positiva')\n          .required('Required'),\n        sottoZona: Yup.string(),\n        menzione: Yup.string(),\n        metodoProduttivo: Yup.string(),\n        content: Yup.string().required('Required'),\n        needsFollowUp: Yup.bool().required('Required'),\n        isSameAddress: Yup.bool().required('Required'),\n        address: Yup.object().shape({\n          comune: Yup.string(),\n          provincia: Yup.string(),\n          regione: Yup.string(),\n        }),\n      })}\n      onSubmit={onSubmit}\n    >\n      {({ isValid, dirty, setFieldValue }) => {\n        return (\n          <Form\n            className={adType === TypeAd.Buy ? classes.form : classes.formSell}\n          >\n            <Typography\n              component='h3'\n              variant='h5'\n              color={adType === TypeAd.Buy ? 'textSecondary' : 'primary'}\n            >\n              Dati prodotto\n            </Typography>\n            <Combobox\n              name='wineName'\n              label='Vino'\n              defaultWine={initialValues.wineName}\n              items={wineOptions as Wine[]}\n              setFieldValue={setFieldValue}\n              labelTextColor={adType === TypeAd.Buy ? '#fff' : '#6d1331'}\n              underlineColor={\n                adType === TypeAd.Buy\n                  ? classes.underline\n                  : classes.underlineSell\n              }\n            />\n            <TextField\n              name='harvest'\n              type='number'\n              label='Vendemmia'\n              min='1900'\n              max={`${year}`}\n              step='1'\n              underlineColor={\n                adType === TypeAd.Buy\n                  ? classes.underline\n                  : classes.underlineSell\n              }\n              placeholder='Vendemmia anno'\n              labelTextColor={adType === TypeAd.Buy ? '#fff' : '#6d1331'}\n              inputTextColor={\n                adType === TypeAd.Buy ? classes.input : classes.inputSell\n              }\n            />\n            <TextFieldAdornment\n              name='abv'\n              type='number'\n              label='Gradazione alcolica'\n              min='0'\n              max='22'\n              step='0.5'\n              placeholder='Esempio 13.5 vol'\n              adornment='%'\n              underlineColor={\n                adType === TypeAd.Buy\n                  ? classes.underline\n                  : classes.underlineSell\n              }\n              labelTextColor={adType === TypeAd.Buy ? '#fff' : '#6d1331'}\n              inputTextColor={\n                adType === TypeAd.Buy ? classes.input : classes.inputSell\n              }\n            />\n            <TextFieldAdornment\n              name='price'\n              type='number'\n              label='Prezzo richiesto al litro'\n              min='0'\n              max='100'\n              step='0.1'\n              placeholder='Esempio 3.5 euro'\n              adornment='€'\n              underlineColor={\n                adType === TypeAd.Buy\n                  ? classes.underline\n                  : classes.underlineSell\n              }\n              labelTextColor={adType === TypeAd.Buy ? '#fff' : '#6d1331'}\n              inputTextColor={\n                adType === TypeAd.Buy ? classes.input : classes.inputSell\n              }\n            />\n            <TextFieldAdornment\n              name='liters'\n              type='number'\n              label='Litri richiesti'\n              min='0'\n              max='999999'\n              step='1'\n              placeholder='Esempio 1000 litri'\n              adornment='l'\n              underlineColor={\n                adType === TypeAd.Buy\n                  ? classes.underline\n                  : classes.underlineSell\n              }\n              labelTextColor={adType === TypeAd.Buy ? '#fff' : '#6d1331'}\n              inputTextColor={\n                adType === TypeAd.Buy ? classes.input : classes.inputSell\n              }\n            />\n            <SelectField\n              name='menzione'\n              label='Menzione del vino'\n              options={Object.values(Menzione)}\n              underlineColor={\n                adType === TypeAd.Buy\n                  ? classes.underline\n                  : classes.underlineSell\n              }\n              labelColor={adType === TypeAd.Buy ? '#fff' : '#6d1331'}\n              textColor={\n                adType === TypeAd.Buy ? classes.input : classes.inputSell\n              }\n            />\n            <SelectField\n              name='metodoProduttivo'\n              label='Metodo produttivo del vino'\n              options={Object.values(MetodoProduttivo)}\n              underlineColor={\n                adType === TypeAd.Buy\n                  ? classes.underline\n                  : classes.underlineSell\n              }\n              labelColor={adType === TypeAd.Buy ? '#fff' : '#6d1331'}\n              textColor={\n                adType === TypeAd.Buy ? classes.input : classes.inputSell\n              }\n            />\n            <TextField\n              name='sottoZona'\n              type='text'\n              label='Sotto zona del vino'\n              placeholder='Sotto zona del vino'\n              underlineColor={\n                adType === TypeAd.Buy\n                  ? classes.underline\n                  : classes.underlineSell\n              }\n              labelTextColor={adType === TypeAd.Buy ? '#fff' : '#6d1331'}\n              inputTextColor={\n                adType === TypeAd.Buy ? classes.input : classes.inputSell\n              }\n            />\n            <TextField\n              name='content'\n              type='text'\n              multiline={true}\n              label='Descrizione'\n              placeholder='Vino veramente buono'\n              underlineColor={\n                adType === TypeAd.Buy\n                  ? classes.underline\n                  : classes.underlineSell\n              }\n              labelTextColor={adType === TypeAd.Buy ? '#fff' : '#6d1331'}\n              inputTextColor={\n                adType === TypeAd.Buy ? classes.input : classes.inputSell\n              }\n            />\n            <SliderField\n              name='needsFollowUp'\n              label='Aggiornami se nuovi annunci pertinenti'\n              labelColor={adType === TypeAd.Buy ? '#fff' : '#6d1331'}\n            />\n            <SliderField\n              name='isSameAddress'\n              label='Indirizzo uguale a quello usato in registrazione'\n              labelColor={adType === TypeAd.Buy ? '#fff' : '#6d1331'}\n            />\n            <AddressForm setFieldValue={setFieldValue} />\n\n            <Button\n              //isLoading={isValidating || isSubmitting}\n              className={\n                adType === TypeAd.Buy ? classes.submit : classes.submitSell\n              }\n              type='submit'\n              disabled={!dirty || !isValid}\n            >\n              Submit\n            </Button>\n          </Form>\n        );\n      }}\n    </Formik>\n  );\n};\n","import * as React from 'react';\nimport { RouteComponentProps, useLocation, navigate } from '@reach/router';\nimport { WineFormQuery } from '../components/WineForms/Search/WineFormQuery';\nimport {\n  AdInput,\n  TypeAd,\n  TypeProduct,\n  useCreateAdWineMutation,\n  AddressInput,\n  useWinesQuery,\n} from '../generated/graphql';\nimport { searchedWine, notification, myInfo } from '../cache';\nimport { WineFormMutation } from '../components/WineForms/Post/WineFormMutation';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport { updateCacheAd } from '../utils/updateCache';\nimport { BackButton } from '../components/BackButton';\nimport { useStyles } from '../utils/styleHook';\n\nconst Buy: React.FC<RouteComponentProps> = () => {\n  const me = myInfo();\n  const classes = useStyles();\n  const location = useLocation();\n  const adType = location.pathname === '/buy' ? TypeAd.Buy : TypeAd.Sell;\n  let sameAddress: AddressInput;\n  let differentAddress: AddressInput;\n  const winesQueryResult = useWinesQuery();\n  const searchedWineCache = searchedWine();\n  const [createAdWineMutation] = useCreateAdWineMutation({\n    onError: (error) =>\n      notification({\n        type: 'error',\n        message: `${error.message}`,\n      }),\n    onCompleted: ({ createAd }) => {\n      if (createAd?.errors?.length) {\n        const errorMessages = createAd.errors.map((error) => error?.text);\n        notification({\n          type: 'error',\n          message: `${errorMessages.toString()}`,\n        });\n      } else {\n        notification({\n          type: 'success',\n          message: 'ad created',\n        });\n      }\n    },\n    update: (cache, response) => {\n      updateCacheAd(cache, response.data?.createAd?.response);\n    },\n  });\n\n  const onSubmitQuery = (values: WineFormQuery) => {\n    searchedWine({\n      wineName: values.wineName,\n      typeAd: adType,\n      typeProduct: TypeProduct.AdWine,\n      liters: values.liters as number,\n      harvest: values.harvest as number,\n      abv: values.abv as number,\n      price: values.price as number,\n      isPost: false,\n    });\n    void navigate('/annunci');\n  };\n\n  const onSubmitMutation = (values: WineFormMutation) => {\n    if (values.isSameAddress && me?.address) {\n      sameAddress = {\n        regione: me.address.regione,\n        provincia: me.address.provincia,\n        comune: me.address.comune,\n      };\n    } else {\n      differentAddress = values.address as AddressInput;\n    }\n    const adInput: AdInput = {\n      wineName: values.wineName,\n      typeAd: searchedWineCache?.typeAd as TypeAd,\n      typeProduct: searchedWineCache?.typeProduct as TypeProduct,\n      content: values.content,\n      harvest: values.harvest as number,\n      abv: values.abv as number,\n      priceFrom: values.price as number,\n      priceTo: values.price as number,\n      litersFrom: values.liters as number,\n      litersTo: values.liters as number,\n      needsFollowUp: values.needsFollowUp,\n      address: values.isSameAddress ? sameAddress : differentAddress,\n    };\n    void createAdWineMutation({\n      variables: {\n        input: adInput,\n      },\n    });\n    searchedWine(undefined);\n    void navigate('/');\n  };\n  const buyOrSellText = adType === TypeAd.Buy ? 'comprare' : 'vendere';\n  const buyerSellerText = adType === TypeAd.Buy ? 'acquirente' : 'venditore';\n\n  return (\n    <Container component='main' maxWidth='xs'>\n      <CssBaseline />\n      <BackButton />\n      <div className={classes.paper}>\n        <Typography component='h1' variant='h4' color='primary'>\n          Che cosa vuoi {buyOrSellText}?\n        </Typography>\n        <Typography component='p' color='primary'>\n          Inserisci i dati del prodotto che desideri {buyOrSellText}, noi\n          cercheremo per te il giusto {buyerSellerText}.\n        </Typography>\n        {searchedWineCache?.isPost ? (\n          <WineFormMutation\n            wines={winesQueryResult}\n            onSubmit={onSubmitMutation}\n            adType={adType}\n          />\n        ) : (\n          <WineFormQuery\n            wines={winesQueryResult}\n            onSubmit={onSubmitQuery}\n            adType={adType}\n          />\n        )}\n      </div>\n    </Container>\n  );\n};\n\nexport default Buy;\n"],"sourceRoot":""}