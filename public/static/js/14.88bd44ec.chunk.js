(this["webpackJsonpwine-app-frontend"]=this["webpackJsonpwine-app-frontend"]||[]).push([[14],{453:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),i=n(439),a=(n(0),n(41)),c=n(454),o=n.n(c),s=function(){return Object(r.jsx)(i.a,{"aria-label":"previous-page",color:"primary",size:"large",startIcon:Object(r.jsx)(o.a,{}),onClick:function(){return Object(a.c)(-1)},children:"Torna indietro"})}},454:function(e,t,n){"use strict";var r=n(46),i=n(47);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(0)),c=(0,r(n(48)).default)(a.createElement("path",{d:"M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos");t.default=c},488:function(e,t,n){"use strict";var r=n(46),i=n(47);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(0)),c=(0,r(n(48)).default)(a.createElement("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z"}),"MailOutline");t.default=c},514:function(e,t,n){"use strict";n.r(t);var r=n(4),i=n(0),a=n(438),c=n(437),o=n(433),s=n(15),l=n(34),d=n.n(l),u=n(28),j=n(426),f=n(429),b=n(430),m=n(431),v=n(488),O=n.n(v),p=n(434),g=n(41),h=n(23),x=function(e){var t=e.messages,n=e.id,a=Object(h.c)();if(!t)return null;var c=t.filter((function(e){return e.sentTo._id===(null===a||void 0===a?void 0:a._id)})),o=t.filter((function(e){return e.sentBy._id===(null===a||void 0===a?void 0:a._id)})),s=null===c||void 0===c?void 0:c.filter((function(e){return!e.isViewed})).length,l=c.length?c[0].sentBy.firstName:o[0].sentTo.firstName,d=c.length?c[0].negotiation.ad.wineName:o[0].negotiation.ad.wineName;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(f.a,{button:!0,component:i.forwardRef((function(e,t){return Object(r.jsx)(g.a,Object(u.a)({to:"/messaggi/".concat(n),ref:t},e))})),children:[Object(r.jsx)(b.a,{children:Object(r.jsx)(p.a,{badgeContent:s,color:"primary",children:Object(r.jsx)(O.a,{})})}),Object(r.jsx)(m.a,{primary:"Amministratore"===l?"Amministratore":"Cantina ".concat(l," - ").concat(d)})]}),Object(r.jsx)(j.a,{})]})},y=n(453),w=n(154);t.default=function(){var e=Object(s.B)({fetchPolicy:"network-only",onError:function(e){Object(h.d)({type:"error",message:e.message})}}),t=e.data,n=e.loading,i=e.error,l=(null===t||void 0===t?void 0:t.messages)&&(null===t||void 0===t?void 0:t.messages),u=d.a.groupBy(l,(function(e){return e.negotiation._id})),j=Object.entries(u).sort((function(e,t){return e[0].localeCompare(t[0])}));return n?Object(r.jsx)(w.a,{}):i?Object(r.jsx)("div",{children:"error"}):j.length?l?Object(r.jsxs)(c.a,{component:"main",maxWidth:"sm",children:[Object(r.jsx)(a.a,{}),Object(r.jsx)(y.a,{}),Object(r.jsx)(o.a,{children:j.map((function(e){return Object(r.jsx)("div",{children:Object(r.jsx)(x,{messages:e[1],id:e[0]})},e[0])}))})]}):null:Object(r.jsx)("div",{children:"non ci sono messaggi"})}}}]);
//# sourceMappingURL=14.88bd44ec.chunk.js.map